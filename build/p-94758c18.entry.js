import{r as t,h as n,c as r}from"./p-ce351013.js";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,n,r){return t(r={path:n,exports:{},require:function(){return o()}},r.exports),r.exports}function u(t){if(t.__esModule)return t;var n=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var e=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,e.get?e:{enumerable:!0,get:function(){return t[r]}})})),n}function o(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var a,f,s=i((function(t){
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
t.exports=function t(n,r,e){function i(a,f){if(!r[a]){if(!n[a]){if(!f&&o)return o();if(u)return u(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[a]={exports:{}};n[a][0].call(l.exports,(function(t){return i(n[a][1][t]||t)}),l,l.exports,t,n,r,e)}return r[a].exports}for(var u=o,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(t,n){(function(t){var r,e,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var u=0,o=new i(l),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),r=function(){a.data=u=++u%2}}else if(t.setImmediate||void 0===t.MessageChannel)r="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var n=t.document.createElement("script");n.onreadystatechange=function(){l(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n)}:function(){setTimeout(l,0)};else{var f=new t.MessageChannel;f.port1.onmessage=l,r=function(){f.port2.postMessage(0)}}var s=[];function l(){var t,n;e=!0;for(var r=s.length;r;){for(n=s,s=[],t=-1;++t<r;)n[t]();r=s.length}e=!1}n.exports=function(t){1!==s.push(t)||e||r()}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,n){var r=t(1);function e(){}var i={},u=["REJECTED"],o=["FULFILLED"],a=["PENDING"];function f(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,t!==e&&h(this,t)}function s(t,n,r){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(t,n,e){r((function(){var r;try{r=n(e)}catch(n){return i.reject(t,n)}r===t?i.reject(t,new TypeError("Cannot resolve promise with itself")):i.resolve(t,r)}))}function c(t){var n=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof n)return function(){n.apply(t,arguments)}}function h(t,n){var r=!1;function e(n){r||(r=!0,i.reject(t,n))}function u(n){r||(r=!0,i.resolve(t,n))}var o=d((function(){n(u,e)}));"error"===o.status&&e(o.value)}function d(t,n){var r={};try{r.value=t(n),r.status="success"}catch(t){r.status="error",r.value=t}return r}n.exports=f,f.prototype.catch=function(t){return this.then(null,t)},f.prototype.then=function(t,n){if("function"!=typeof t&&this.state===o||"function"!=typeof n&&this.state===u)return this;var r=new this.constructor(e);return this.state!==a?l(r,this.state===o?t:n,this.outcome):this.queue.push(new s(r,t,n)),r},s.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},s.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},s.prototype.callRejected=function(t){i.reject(this.promise,t)},s.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},i.resolve=function(t,n){var r=d(c,n);if("error"===r.status)return i.reject(t,r.value);var e=r.value;if(e)h(t,e);else{t.state=o,t.outcome=n;for(var u=-1,a=t.queue.length;++u<a;)t.queue[u].callFulfilled(n)}return t},i.reject=function(t,n){t.state=u,t.outcome=n;for(var r=-1,e=t.queue.length;++r<e;)t.queue[r].callRejected(n);return t},f.resolve=function(t){return t instanceof this?t:i.resolve(new this(e),t)},f.reject=function(t){var n=new this(e);return i.reject(n,t)},f.all=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,u=!1;if(!r)return this.resolve([]);for(var o=new Array(r),a=0,f=-1,s=new this(e);++f<r;)l(t[f],f);return s;function l(t,e){n.resolve(t).then((function(t){o[e]=t,++a!==r||u||(u=!0,i.resolve(s,o))}),(function(t){u||(u=!0,i.reject(s,t))}))}},f.race=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,u=!1;if(!r)return this.resolve([]);for(var o=-1,a=new this(e);++o<r;)n.resolve(t[o]).then((function(t){u||(u=!0,i.resolve(a,t))}),(function(t){u||(u=!0,i.reject(a,t))}));return a}},{1:1}],3:[function(t){(function(n){"function"!=typeof n.Promise&&(n.Promise=t(2))}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var e=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function i(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(i){if("TypeError"!==i.name)throw i;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),e=0;e<t.length;e+=1)r.append(t[e]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&t(3);var u=Promise;function o(t,n){n&&t.then((function(t){n(null,t)}),(function(t){n(t)}))}function a(t,n,r){"function"==typeof n&&t.then(n),"function"==typeof r&&t.catch(r)}function f(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function s(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",c=void 0,h={},d=Object.prototype.toString,v="readonly",m="readwrite";function p(t){for(var n=t.length,r=new ArrayBuffer(n),e=new Uint8Array(r),i=0;i<n;i++)e[i]=t.charCodeAt(i);return r}function g(t){return"boolean"==typeof c?u.resolve(c):function(t){return new u((function(n){var r=t.transaction(l,m),e=i([""]);r.objectStore(l).put(e,"key"),r.onabort=function(t){t.preventDefault(),t.stopPropagation(),n(!1)},r.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);n(r||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return c=t}))}function D(t){var n=h[t.name],r={};r.promise=new u((function(t,n){r.resolve=t,r.reject=n})),n.deferredOperations.push(r),n.dbReady=n.dbReady?n.dbReady.then((function(){return r.promise})):r.promise}function b(t){var n=h[t.name].deferredOperations.pop();if(n)return n.resolve(),n.promise}function x(t,n){var r=h[t.name].deferredOperations.pop();if(r)return r.reject(n),r.promise}function w(t,n){return new u((function(r,i){if(h[t.name]=h[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!n)return r(t.db);D(t),t.db.close()}var u=[t.name];n&&u.push(t.version);var o=e.open.apply(e,u);n&&(o.onupgradeneeded=function(n){var r=o.result;try{r.createObjectStore(t.storeName),n.oldVersion<=1&&r.createObjectStore(l)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(t){t.preventDefault(),i(o.error)},o.onsuccess=function(){var n=o.result;n.onversionchange=function(t){t.target.close()},r(n),b(t)}}))}function C(t){return w(t,!1)}function y(t){return w(t,!0)}function A(t,n){if(!t.db)return!0;var r=!t.db.objectStoreNames.contains(t.storeName),e=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==n&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),e||r){if(r){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function E(t){return i([p(atob(t.data))],{type:t.type})}function F(t){return t&&t.__local_forage_encoded_blob}function k(t){var n=this,r=n._initReady().then((function(){var t=h[n._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return a(r,t,t),r}function M(t,n,r,e){void 0===e&&(e=1);try{var i=t.db.transaction(t.storeName,n);r(null,i)}catch(i){if(e>0&&(!t.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return u.resolve().then((function(){if(!t.db||"NotFoundError"===i.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),y(t)})).then((function(){return function(t){D(t);for(var n=h[t.name],r=n.forages,e=0;e<r.length;e++){var i=r[e];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,C(t).then((function(n){return t.db=n,A(t)?y(t):n})).then((function(e){t.db=n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e})).catch((function(n){throw x(t,n),n}))}(t).then((function(){M(t,n,r,e-1)}))})).catch(r);r(i)}}var S={_driver:"asyncStorage",_initStorage:function(t){var n=this,r={db:null};if(t)for(var e in t)r[e]=t[e];var i=h[r.name];i||(h[r.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=k);var o=[];function a(){return u.resolve()}for(var f=0;f<i.forages.length;f++){var s=i.forages[f];s!==n&&o.push(s._initReady().catch(a))}var l=i.forages.slice(0);return u.all(o).then((function(){return r.db=i.db,C(r)})).then((function(t){return r.db=t,A(r,n._defaultConfig.version)?y(r):t})).then((function(t){r.db=i.db=t,n._dbInfo=r;for(var e=0;e<l.length;e++){var u=l[e];u!==n&&(u._dbInfo.db=r.db,u._dbInfo.version=r.version)}}))},_support:function(){try{if(!e||!e.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),iterate:function(t,n){var r=this,e=new u((function(n,e){r.ready().then((function(){M(r._dbInfo,v,(function(i,u){if(i)return e(i);try{var o=u.objectStore(r._dbInfo.storeName).openCursor(),a=1;o.onsuccess=function(){var r=o.result;if(r){var e=r.value;F(e)&&(e=E(e));var i=t(e,r.key,a++);void 0!==i?n(i):r.continue()}else n()},o.onerror=function(){e(o.error)}}catch(t){e(t)}}))})).catch(e)}));return o(e,n),e},getItem:function(t,n){var r=this;t=f(t);var e=new u((function(n,e){r.ready().then((function(){M(r._dbInfo,v,(function(i,u){if(i)return e(i);try{var o=u.objectStore(r._dbInfo.storeName).get(t);o.onsuccess=function(){var t=o.result;void 0===t&&(t=null),F(t)&&(t=E(t)),n(t)},o.onerror=function(){e(o.error)}}catch(t){e(t)}}))})).catch(e)}));return o(e,n),e},setItem:function(t,n,r){var e=this;t=f(t);var i=new u((function(r,i){var o;e.ready().then((function(){return o=e._dbInfo,"[object Blob]"===d.call(n)?g(o.db).then((function(t){return t?n:(r=n,new u((function(t,n){var e=new FileReader;e.onerror=n,e.onloadend=function(n){var e=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:e,type:r.type})},e.readAsBinaryString(r)})));var r})):n})).then((function(n){M(e._dbInfo,m,(function(u,o){if(u)return i(u);try{var a=o.objectStore(e._dbInfo.storeName);null===n&&(n=void 0);var f=a.put(n,t);o.oncomplete=function(){void 0===n&&(n=null),r(n)},o.onabort=o.onerror=function(){i(f.error?f.error:f.transaction.error)}}catch(t){i(t)}}))})).catch(i)}));return o(i,r),i},removeItem:function(t,n){var r=this;t=f(t);var e=new u((function(n,e){r.ready().then((function(){M(r._dbInfo,m,(function(i,u){if(i)return e(i);try{var o=u.objectStore(r._dbInfo.storeName).delete(t);u.oncomplete=function(){n()},u.onerror=function(){e(o.error)},u.onabort=function(){e(o.error?o.error:o.transaction.error)}}catch(t){e(t)}}))})).catch(e)}));return o(e,n),e},clear:function(t){var n=this,r=new u((function(t,r){n.ready().then((function(){M(n._dbInfo,m,(function(e,i){if(e)return r(e);try{var u=i.objectStore(n._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){r(u.error?u.error:u.transaction.error)}}catch(t){r(t)}}))})).catch(r)}));return o(r,t),r},length:function(t){var n=this,r=new u((function(t,r){n.ready().then((function(){M(n._dbInfo,v,(function(e,i){if(e)return r(e);try{var u=i.objectStore(n._dbInfo.storeName).count();u.onsuccess=function(){t(u.result)},u.onerror=function(){r(u.error)}}catch(t){r(t)}}))})).catch(r)}));return o(r,t),r},key:function(t,n){var r=this,e=new u((function(n,e){t<0?n(null):r.ready().then((function(){M(r._dbInfo,v,(function(i,u){if(i)return e(i);try{var o=u.objectStore(r._dbInfo.storeName),a=!1,f=o.openKeyCursor();f.onsuccess=function(){var r=f.result;r?0===t||a?n(r.key):(a=!0,r.advance(t)):n(null)},f.onerror=function(){e(f.error)}}catch(t){e(t)}}))})).catch(e)}));return o(e,n),e},keys:function(t){var n=this,r=new u((function(t,r){n.ready().then((function(){M(n._dbInfo,v,(function(e,i){if(e)return r(e);try{var u=i.objectStore(n._dbInfo.storeName).openKeyCursor(),o=[];u.onsuccess=function(){var n=u.result;n?(o.push(n.key),n.continue()):t(o)},u.onerror=function(){r(u.error)}}catch(t){r(t)}}))})).catch(r)}));return o(r,t),r},dropInstance:function(t,n){n=s.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var i,a=this;if(t.name){var f=t.name===r.name&&a._dbInfo.db?u.resolve(a._dbInfo.db):C(t).then((function(n){var r=h[t.name],e=r.forages;r.db=n;for(var i=0;i<e.length;i++)e[i]._dbInfo.db=n;return n}));i=f.then(t.storeName?function(n){if(n.objectStoreNames.contains(t.storeName)){var r=n.version+1;D(t);var i=h[t.name],o=i.forages;n.close();for(var a=0;a<o.length;a++){var f=o[a];f._dbInfo.db=null,f._dbInfo.version=r}return new u((function(n,i){var u=e.open(t.name,r);u.onerror=function(t){u.result.close(),i(t)},u.onupgradeneeded=function(){u.result.deleteObjectStore(t.storeName)},u.onsuccess=function(){var t=u.result;t.close(),n(t)}})).then((function(t){i.db=t;for(var n=0;n<o.length;n++){var r=o[n];r._dbInfo.db=t,b(r._dbInfo)}})).catch((function(n){throw(x(t,n)||u.resolve()).catch((function(){})),n}))}}:function(n){D(t);var r=h[t.name],i=r.forages;n.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;return new u((function(n,r){var i=e.deleteDatabase(t.name);i.onerror=function(){var t=i.result;t&&t.close(),r(i.error)},i.onblocked=function(){console.warn('dropInstance blocked for database "'+t.name+'" until all open connections are closed')},i.onsuccess=function(){var t=i.result;t&&t.close(),n(t)}})).then((function(t){r.db=t;for(var n=0;n<i.length;n++)b(i[n]._dbInfo)})).catch((function(n){throw(x(t,n)||u.resolve()).catch((function(){})),n}))})}else i=u.reject("Invalid arguments");return o(i,n),i}};var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,T="__lfsc__:",_=T.length,N="arbf",z="blob",j="si08",I="ui08",$="uic8",R="si16",O="si32",q="ur16",P="ui32",U="fl32",H="fl64",W=_+N.length,G=Object.prototype.toString;function Z(t){var n,r,e,i,u,o=.75*t.length,a=t.length,f=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var s=new ArrayBuffer(o),l=new Uint8Array(s);for(n=0;n<a;n+=4)r=B.indexOf(t[n]),e=B.indexOf(t[n+1]),i=B.indexOf(t[n+2]),u=B.indexOf(t[n+3]),l[f++]=r<<2|e>>4,l[f++]=(15&e)<<4|i>>2,l[f++]=(3&i)<<6|63&u;return s}function X(t){var n,r=new Uint8Array(t),e="";for(n=0;n<r.length;n+=3)e+=B[r[n]>>2],e+=B[(3&r[n])<<4|r[n+1]>>4],e+=B[(15&r[n+1])<<2|r[n+2]>>6],e+=B[63&r[n+2]];return r.length%3==2?e=e.substring(0,e.length-1)+"=":r.length%3==1&&(e=e.substring(0,e.length-2)+"=="),e}var V={serialize:function(t,n){var r="";if(t&&(r=G.call(t)),t&&("[object ArrayBuffer]"===r||t.buffer&&"[object ArrayBuffer]"===G.call(t.buffer))){var e,i=T;t instanceof ArrayBuffer?(e=t,i+=N):(e=t.buffer,"[object Int8Array]"===r?i+=j:"[object Uint8Array]"===r?i+=I:"[object Uint8ClampedArray]"===r?i+=$:"[object Int16Array]"===r?i+=R:"[object Uint16Array]"===r?i+=q:"[object Int32Array]"===r?i+=O:"[object Uint32Array]"===r?i+=P:"[object Float32Array]"===r?i+=U:"[object Float64Array]"===r?i+=H:n(new Error("Failed to get type for BinaryArray"))),n(i+X(e))}else if("[object Blob]"===r){var u=new FileReader;u.onload=function(){var r="~~local_forage_type~"+t.type+"~"+X(this.result);n("__lfsc__:blob"+r)},u.readAsArrayBuffer(t)}else try{n(JSON.stringify(t))}catch(r){console.error("Couldn't convert value into a JSON string: ",t),n(null,r)}},deserialize:function(t){if(t.substring(0,_)!==T)return JSON.parse(t);var n,r=t.substring(W),e=t.substring(_,W);if(e===z&&L.test(r)){var u=r.match(L);n=u[1],r=r.substring(u[0].length)}var o=Z(r);switch(e){case N:return o;case z:return i([o],{type:n});case j:return new Int8Array(o);case I:return new Uint8Array(o);case $:return new Uint8ClampedArray(o);case R:return new Int16Array(o);case q:return new Uint16Array(o);case O:return new Int32Array(o);case P:return new Uint32Array(o);case U:return new Float32Array(o);case H:return new Float64Array(o);default:throw new Error("Unkown type: "+e)}},stringToBuffer:Z,bufferToString:X};function K(t,n,r,e){t.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,e)}function Q(t,n,r,e,i,u){t.executeSql(r,e,i,(function(t,o){o.code===o.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[n.storeName],(function(t,a){a.rows.length?u(t,o):K(t,n,(function(){t.executeSql(r,e,i,u)}),u)}),u):u(t,o)}),u)}function J(t,n,r,e){var i=this;t=f(t);var a=new u((function(u,o){i.ready().then((function(){void 0===n&&(n=null);var a=n,f=i._dbInfo;f.serializer.serialize(n,(function(n,s){s?o(s):f.db.transaction((function(r){Q(r,f,"INSERT OR REPLACE INTO "+f.storeName+" (key, value) VALUES (?, ?)",[t,n],(function(){u(a)}),(function(t,n){o(n)}))}),(function(n){if(n.code===n.QUOTA_ERR){if(e>0)return void u(J.apply(i,[t,a,r,e-1]));o(n)}}))}))})).catch(o)}));return o(a,r),a}function Y(t){return new u((function(n,r){t.transaction((function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,e){for(var i=[],u=0;u<e.rows.length;u++)i.push(e.rows.item(u).name);n({db:t,storeNames:i})}),(function(t,n){r(n)}))}),(function(t){r(t)}))}))}var tt={_driver:"webSQLStorage",_initStorage:function(t){var n=this,r={db:null};if(t)for(var e in t)r[e]="string"!=typeof t[e]?t[e].toString():t[e];var i=new u((function(t,e){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(t){return e(t)}r.db.transaction((function(i){K(i,r,(function(){n._dbInfo=r,t()}),(function(t,n){e(n)}))}),e)}));return r.serializer=V,i},_support:"function"==typeof openDatabase,iterate:function(t,n){var r=this,e=new u((function(n,e){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"SELECT * FROM "+i.storeName,[],(function(r,e){for(var u=e.rows,o=u.length,a=0;a<o;a++){var f=u.item(a),s=f.value;if(s&&(s=i.serializer.deserialize(s)),void 0!==(s=t(s,f.key,a+1)))return void n(s)}n()}),(function(t,n){e(n)}))}))})).catch(e)}));return o(e,n),e},getItem:function(t,n){var r=this;t=f(t);var e=new u((function(n,e){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,r){var e=r.rows.length?r.rows.item(0).value:null;e&&(e=i.serializer.deserialize(e)),n(e)}),(function(t,n){e(n)}))}))})).catch(e)}));return o(e,n),e},setItem:function(t,n,r){return J.apply(this,[t,n,r,1])},removeItem:function(t,n){var r=this;t=f(t);var e=new u((function(n,e){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){n()}),(function(t,n){e(n)}))}))})).catch(e)}));return o(e,n),e},clear:function(t){var n=this,r=new u((function(t,r){n.ready().then((function(){var e=n._dbInfo;e.db.transaction((function(n){Q(n,e,"DELETE FROM "+e.storeName,[],(function(){t()}),(function(t,n){r(n)}))}))})).catch(r)}));return o(r,t),r},length:function(t){var n=this,r=new u((function(t,r){n.ready().then((function(){var e=n._dbInfo;e.db.transaction((function(n){Q(n,e,"SELECT COUNT(key) as c FROM "+e.storeName,[],(function(n,r){var e=r.rows.item(0).c;t(e)}),(function(t,n){r(n)}))}))})).catch(r)}));return o(r,t),r},key:function(t,n){var r=this,e=new u((function(n,e){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){Q(r,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,r){var e=r.rows.length?r.rows.item(0).key:null;n(e)}),(function(t,n){e(n)}))}))})).catch(e)}));return o(e,n),e},keys:function(t){var n=this,r=new u((function(t,r){n.ready().then((function(){var e=n._dbInfo;e.db.transaction((function(n){Q(n,e,"SELECT key FROM "+e.storeName,[],(function(n,r){for(var e=[],i=0;i<r.rows.length;i++)e.push(r.rows.item(i).key);t(e)}),(function(t,n){r(n)}))}))})).catch(r)}));return o(r,t),r},dropInstance:function(t,n){n=s.apply(this,arguments);var r=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var e,i=this;return o(e=t.name?new u((function(n){var e;e=t.name===r.name?i._dbInfo.db:openDatabase(t.name,"","",0),n(t.storeName?{db:e,storeNames:[t.storeName]}:Y(e))})).then((function(t){return new u((function(n,r){t.db.transaction((function(e){function i(t){return new u((function(n,r){e.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){n()}),(function(t,n){r(n)}))}))}for(var o=[],a=0,f=t.storeNames.length;a<f;a++)o.push(i(t.storeNames[a]));u.all(o).then((function(){n()})).catch((function(t){r(t)}))}),(function(t){r(t)}))}))})):u.reject("Invalid arguments"),n),e}};function nt(t,n){var r=t.name+"/";return t.storeName!==n.storeName&&(r+=t.storeName+"/"),r}function rt(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}()||localStorage.length>0}var et={_driver:"localStorageWrapper",_initStorage:function(t){var n={};if(t)for(var r in t)n[r]=t[r];return n.keyPrefix=nt(t,this._defaultConfig),rt()?(this._dbInfo=n,n.serializer=V,u.resolve()):u.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,n){var r=this,e=r.ready().then((function(){for(var n=r._dbInfo,e=n.keyPrefix,i=e.length,u=localStorage.length,o=1,a=0;a<u;a++){var f=localStorage.key(a);if(0===f.indexOf(e)){var s=localStorage.getItem(f);if(s&&(s=n.serializer.deserialize(s)),void 0!==(s=t(s,f.substring(i),o++)))return s}}}));return o(e,n),e},getItem:function(t,n){var r=this;t=f(t);var e=r.ready().then((function(){var n=r._dbInfo,e=localStorage.getItem(n.keyPrefix+t);return e&&(e=n.serializer.deserialize(e)),e}));return o(e,n),e},setItem:function(t,n,r){var e=this;t=f(t);var i=e.ready().then((function(){void 0===n&&(n=null);var r=n;return new u((function(i,u){var o=e._dbInfo;o.serializer.serialize(n,(function(n,e){if(e)u(e);else try{localStorage.setItem(o.keyPrefix+t,n),i(r)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||u(t),u(t)}}))}))}));return o(i,r),i},removeItem:function(t,n){var r=this;t=f(t);var e=r.ready().then((function(){localStorage.removeItem(r._dbInfo.keyPrefix+t)}));return o(e,n),e},clear:function(t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var e=localStorage.key(r);0===e.indexOf(t)&&localStorage.removeItem(e)}}));return o(r,t),r},length:function(t){var n=this.keys().then((function(t){return t.length}));return o(n,t),n},key:function(t,n){var r=this,e=r.ready().then((function(){var n,e=r._dbInfo;try{n=localStorage.key(t)}catch(t){n=null}return n&&(n=n.substring(e.keyPrefix.length)),n}));return o(e,n),e},keys:function(t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=localStorage.length,e=[],i=0;i<r;i++){var u=localStorage.key(i);0===u.indexOf(t.keyPrefix)&&e.push(u.substring(t.keyPrefix.length))}return e}));return o(r,t),r},dropInstance:function(t,n){if(n=s.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var r=this.config();t.name=t.name||r.name,t.storeName=t.storeName||r.storeName}var e,i=this;return o(e=t.name?new u((function(n){n(t.storeName?nt(t,i._defaultConfig):t.name+"/")})).then((function(t){for(var n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}})):u.reject("Invalid arguments"),n),e}},it=function(t,n){for(var r=t.length,e=0;e<r;){if((i=t[e])===(u=n)||"number"==typeof i&&"number"==typeof u&&isNaN(i)&&isNaN(u))return!0;e++}var i,u;return!1},ut=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},ot={},at={},ft={INDEXEDDB:S,WEBSQL:tt,LOCALSTORAGE:et},st=[ft.INDEXEDDB._driver,ft.WEBSQL._driver,ft.LOCALSTORAGE._driver],lt=["dropInstance"],ct=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(lt),ht={description:"",driver:st.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dt(t,n){t[n]=function(){var r=arguments;return t.ready().then((function(){return t[n].apply(t,r)}))}}function vt(){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&(arguments[0][r]=ut(n[r])?n[r].slice():n[r])}return arguments[0]}var mt=new(function(){function t(n){for(var r in function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),ft)if(ft.hasOwnProperty(r)){var e=ft[r],i=e._driver;this[r]=i,ot[i]||this.defineDriver(e)}this._defaultConfig=vt({},ht),this._config=vt({},this._defaultConfig,n),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in t){if("storeName"===n&&(t[n]=t[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof t[n])return new Error("Database version must be a number.");this._config[n]=t[n]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,n,r){var e=new u((function(n,r){try{var e=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void r(i);for(var a=ct.concat("_initStorage"),f=0,s=a.length;f<s;f++){var l=a[f];if((!it(lt,l)||t[l])&&"function"!=typeof t[l])return void r(i)}!function(){for(var n=function(t){return function(){var n=new Error("Method "+t+" is not implemented by the current driver"),r=u.reject(n);return o(r,arguments[arguments.length-1]),r}},r=0,e=lt.length;r<e;r++){var i=lt[r];t[i]||(t[i]=n(i))}}();var c=function(r){ot[e]&&console.info("Redefining LocalForage driver: "+e),ot[e]=t,at[e]=r,n()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(c,r):c(!!t._support):c(!0)}catch(t){r(t)}}));return a(e,n,r),e},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,n,r){var e=ot[t]?u.resolve(ot[t]):u.reject(new Error("Driver not found."));return a(e,n,r),e},t.prototype.getSerializer=function(t){var n=u.resolve(V);return a(n,t),n},t.prototype.ready=function(t){var n=this,r=n._driverSet.then((function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready}));return a(r,t,t),r},t.prototype.setDriver=function(t,n,r){var e=this;ut(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){e._config.driver=e.driver()}function f(t){return e._extend(t),o(),e._ready=e._initStorage(e._config),e._ready}var s=null!==this._driverSet?this._driverSet.catch((function(){return u.resolve()})):u.resolve();return this._driverSet=s.then((function(){var t=i[0];return e._dbInfo=null,e._ready=null,e.getDriver(t).then((function(t){e._driver=t._driver,o(),e._wrapLibraryMethodsWithReady(),e._initDriver=function(t){return function(){var n=0;return function r(){for(;n<t.length;){var i=t[n];return n++,e._dbInfo=null,e._ready=null,e.getDriver(i).then(f).catch(r)}o();var a=new Error("No available storage method found.");return e._driverSet=u.reject(a),e._driverSet}()}}(i)}))})).catch((function(){o();var t=new Error("No available storage method found.");return e._driverSet=u.reject(t),e._driverSet})),a(this._driverSet,n,r),this._driverSet},t.prototype.supports=function(t){return!!at[t]},t.prototype._extend=function(t){vt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var n=[],r=0,e=t.length;r<e;r++){var i=t[r];this.supports(i)&&n.push(i)}return n},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,n=ct.length;t<n;t++)dt(this,ct[t])},t.prototype.createInstance=function(n){return new t(n)},t}());n.exports=mt},{3:3}]},{},[4])(4)}));!function(t){t.SET_OF_NOTES="mono:SET_OF_NOTES",t.ROOT_STATE="mono:ROOT_STATE"}(a||(a={})),function(t){t.of=function(t){let n;return n="string"==typeof t?t:t.id,`mono:notes:${n}`}}(a||(a={}));class l{async reset(){await s.clear()}async saveState(t,n){return await s.setItem(t,n)}async loadState(t){return await s.getItem(t)}async list(){const t=await s.getItem(a.SET_OF_NOTES);return null===t?[]:await Promise.all([...t].map((t=>s.getItem(a.of(t)))))}async set(t){const n=await s.getItem(a.of(t));null!==n&&(t.created=n.created),await s.setItem(a.of(t),t);let r=await s.getItem(a.SET_OF_NOTES);null===r&&(r=new Set),r.add(t.id),await s.setItem(a.SET_OF_NOTES,r),console.log("add",t,r)}async get(t){return await s.getItem(a.of(t))}}var c=new Uint8Array(16);function h(){if(!f&&!(f="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return f(c)}const d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function v(t){return"string"==typeof t&&d.test(t)}for(var m=[],p=0;p<256;++p)m.push((p+256).toString(16).substr(1));function g(t,n,r){var e=(t=t||{}).random||(t.rng||h)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,n){r=r||0;for(var i=0;i<16;++i)n[r+i]=e[i];return n}return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(m[t[n+0]]+m[t[n+1]]+m[t[n+2]]+m[t[n+3]]+"-"+m[t[n+4]]+m[t[n+5]]+"-"+m[t[n+6]]+m[t[n+7]]+"-"+m[t[n+8]]+m[t[n+9]]+"-"+m[t[n+10]]+m[t[n+11]]+m[t[n+12]]+m[t[n+13]]+m[t[n+14]]+m[t[n+15]]).toLowerCase();if(!v(r))throw TypeError("Stringified UUID is invalid");return r}(e)}function D(){return{id:g(),content:"",created:(new Date).getTime(),updated:(new Date).getTime()}}const b=class{constructor(n){t(this,n),this.state={},this.notes=[],this.focus=D(),this.focusText="",this.manager=new l}async componentWillLoad(){var t,n;await this.manager.reset(),this.state=await this.manager.loadState("mono:states:root"),this.state||(this.state={}),(null===(t=this.state)||void 0===t?void 0:t.focusId)&&(this.focus=await this.manager.get(null===(n=this.state)||void 0===n?void 0:n.focusId)),this.notes=await this.manager.list()}async handleNoteCreate(){var t;this.focus=D(),this.focusText="",this.state.focusId=null===(t=this.focus)||void 0===t?void 0:t.id,await this.manager.saveState("mono:states:root",this.state),console.log(this.focusText)}async handleNoteLoad(t){var n;this.focus=await this.manager.get(t.detail),this.focusText=this.focus.content,this.state.focusId=null===(n=this.focus)||void 0===n?void 0:n.id,await this.manager.saveState("mono:states:root",this.state)}async handleContentChanged(t){var n;this.focus.content=t.detail,this.focus=(n=this.focus,Object.assign(Object.assign({},n),{title:n.content.split("\n")[0],updated:(new Date).getTime()})),await this.manager.set(this.focus),this.notes=await this.manager.list()}render(){return n("div",{class:"root-container"},n("mono-organizer",{class:"sidebar",notes:this.notes}),n("mono-editor",{class:"contents",content:this.focusText}))}};b.style=".root-container{display:flex;height:100vh;width:100vw}.root-container .sidebar{height:100vh}.root-container .contents{display:flex;flex-grow:1;align-items:center;justify-content:center}";var x=i((function(t){t.exports=function(){var t=navigator.userAgent,n=navigator.platform,r=/gecko\/\d/i.test(t),e=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),u=/Edge\/(\d+)/.exec(t),o=e||i||u,a=o&&(e?document.documentMode||6:+(u||i)[1]),f=!u&&/WebKit\//.test(t),s=f&&/Qt\/\d+\.\d+/.test(t),l=!u&&/Chrome\//.test(t),c=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),d=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),v=/PhantomJS/.test(t),m=h&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),p=/Android/.test(t),g=m||p||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),D=m||/Mac/.test(n),b=/\bCrOS\b/.test(t),x=/win/i.test(n),w=c&&t.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(c=!1,f=!0);var C=D&&(s||c&&(null==w||w<12.11)),y=r||o&&a>=9;function A(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var E,F=function(t,n){var r=t.className,e=A(n).exec(r);if(e){var i=r.slice(e.index+e[0].length);t.className=r.slice(0,e.index)+(i?e[1]+i:"")}};function k(t){for(var n=t.childNodes.length;n>0;--n)t.removeChild(t.firstChild);return t}function M(t,n){return k(t).appendChild(n)}function S(t,n,r,e){var i=document.createElement(t);if(r&&(i.className=r),e&&(i.style.cssText=e),"string"==typeof n)i.appendChild(document.createTextNode(n));else if(n)for(var u=0;u<n.length;++u)i.appendChild(n[u]);return i}function B(t,n,r,e){var i=S(t,n,r,e);return i.setAttribute("role","presentation"),i}function L(t,n){if(3==n.nodeType&&(n=n.parentNode),t.contains)return t.contains(n);do{if(11==n.nodeType&&(n=n.host),n==t)return!0}while(n=n.parentNode)}function T(){var t;try{t=document.activeElement}catch(n){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function _(t,n){var r=t.className;A(n).test(r)||(t.className+=(r?" ":"")+n)}function N(t,n){for(var r=t.split(" "),e=0;e<r.length;e++)r[e]&&!A(r[e]).test(n)&&(n+=" "+r[e]);return n}E=document.createRange?function(t,n,r,e){var i=document.createRange();return i.setEnd(e||t,r),i.setStart(t,n),i}:function(t,n,r){var e=document.body.createTextRange();try{e.moveToElementText(t.parentNode)}catch(t){return e}return e.collapse(!0),e.moveEnd("character",r),e.moveStart("character",n),e};var z=function(t){t.select()};function j(t){var n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,n)}}function I(t,n,r){for(var e in n||(n={}),t)!t.hasOwnProperty(e)||!1===r&&n.hasOwnProperty(e)||(n[e]=t[e]);return n}function $(t,n,r,e,i){null==n&&-1==(n=t.search(/[^\s\u00a0]/))&&(n=t.length);for(var u=e||0,o=i||0;;){var a=t.indexOf("\t",u);if(a<0||a>=n)return o+(n-u);o+=a-u,o+=r-o%r,u=a+1}}m?z=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:o&&(z=function(t){try{t.select()}catch(t){}});var R=function(){this.id=null,this.f=null,this.time=0,this.handler=j(this.onTimeout,this)};function O(t,n){for(var r=0;r<t.length;++r)if(t[r]==n)return r;return-1}R.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},R.prototype.set=function(t,n){this.f=n;var r=+new Date+t;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=r)};var q={toString:function(){return"CodeMirror.Pass"}},P={scroll:!1},U={origin:"*mouse"},H={origin:"+move"};function W(t,n,r){for(var e=0,i=0;;){var u=t.indexOf("\t",e);-1==u&&(u=t.length);var o=u-e;if(u==t.length||i+o>=n)return e+Math.min(o,n-i);if(i+=u-e,e=u+1,(i+=r-i%r)>=n)return e}}var G=[""];function Z(t){for(;G.length<=t;)G.push(X(G)+" ");return G[t]}function X(t){return t[t.length-1]}function V(t,n){for(var r=[],e=0;e<t.length;e++)r[e]=n(t[e],e);return r}function K(){}function Q(t,n){var r;return Object.create?r=Object.create(t):(K.prototype=t,r=new K),n&&I(n,r),r}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Y(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||J.test(t))}function tt(t,n){return n?!!(n.source.indexOf("\\w")>-1&&Y(t))||n.test(t):Y(t)}function nt(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!1;return!0}var rt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function et(t){return t.charCodeAt(0)>=768&&rt.test(t)}function it(t,n,r){for(;(r<0?n>0:n<t.length)&&et(t.charAt(n));)n+=r;return n}function ut(t,n,r){for(var e=n>r?-1:1;;){if(n==r)return n;var i=(n+r)/2,u=e<0?Math.ceil(i):Math.floor(i);if(u==n)return t(u)?n:r;t(u)?r=u:n=u+e}}var ot=null;function at(t,n,r){var e;ot=null;for(var i=0;i<t.length;++i){var u=t[i];if(u.from<n&&u.to>n)return i;u.to==n&&(u.from!=u.to&&"before"==r?e=i:ot=i),u.from==n&&(u.from!=u.to&&"before"!=r?e=i:ot=i)}return null!=e?e:ot}var ft=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,r=/[LRr]/,e=/[Lb1n]/,i=/[1n]/;function u(t,n,r){this.level=t,this.from=n,this.to=r}return function(o,a){var f,s="ltr"==a?"L":"R";if(0==o.length||"ltr"==a&&!t.test(o))return!1;for(var l=o.length,c=[],h=0;h<l;++h)c.push((f=o.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(f):1424<=f&&f<=1524?"R":1536<=f&&f<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(f-1536):1774<=f&&f<=2220?"r":8192<=f&&f<=8203?"w":8204==f?"b":"L");for(var d=0,v=s;d<l;++d){var m=c[d];"m"==m?c[d]=v:v=m}for(var p=0,g=s;p<l;++p){var D=c[p];"1"==D&&"r"==g?c[p]="n":r.test(D)&&(g=D,"r"==D&&(c[p]="R"))}for(var b=1,x=c[0];b<l-1;++b){var w=c[b];"+"==w&&"1"==x&&"1"==c[b+1]?c[b]="1":","!=w||x!=c[b+1]||"1"!=x&&"n"!=x||(c[b]=x),x=w}for(var C=0;C<l;++C){var y=c[C];if(","==y)c[C]="N";else if("%"==y){var A=void 0;for(A=C+1;A<l&&"%"==c[A];++A);for(var E=C&&"!"==c[C-1]||A<l&&"1"==c[A]?"1":"N",F=C;F<A;++F)c[F]=E;C=A-1}}for(var k=0,M=s;k<l;++k){var S=c[k];"L"==M&&"1"==S?c[k]="L":r.test(S)&&(M=S)}for(var B=0;B<l;++B)if(n.test(c[B])){var L=void 0;for(L=B+1;L<l&&n.test(c[L]);++L);for(var T="L"==(B?c[B-1]:s),_=T==("L"==(L<l?c[L]:s))?T?"L":"R":s,N=B;N<L;++N)c[N]=_;B=L-1}for(var z,j=[],I=0;I<l;)if(e.test(c[I])){var $=I;for(++I;I<l&&e.test(c[I]);++I);j.push(new u(0,$,I))}else{var R=I,O=j.length,q="rtl"==a?1:0;for(++I;I<l&&"L"!=c[I];++I);for(var P=R;P<I;)if(i.test(c[P])){R<P&&(j.splice(O,0,new u(1,R,P)),O+=q);var U=P;for(++P;P<I&&i.test(c[P]);++P);j.splice(O,0,new u(2,U,P)),O+=q,R=P}else++P;R<I&&j.splice(O,0,new u(1,R,I))}return"ltr"==a&&(1==j[0].level&&(z=o.match(/^\s+/))&&(j[0].from=z[0].length,j.unshift(new u(0,0,z[0].length))),1==X(j).level&&(z=o.match(/\s+$/))&&(X(j).to-=z[0].length,j.push(new u(0,l-z[0].length,l)))),"rtl"==a?j.reverse():j}}();function st(t,n){var r=t.order;return null==r&&(r=t.order=ft(t.text,n)),r}var lt=[],ct=function(t,n,r){if(t.addEventListener)t.addEventListener(n,r,!1);else if(t.attachEvent)t.attachEvent("on"+n,r);else{var e=t._handlers||(t._handlers={});e[n]=(e[n]||lt).concat(r)}};function ht(t,n){return t._handlers&&t._handlers[n]||lt}function dt(t,n,r){if(t.removeEventListener)t.removeEventListener(n,r,!1);else if(t.detachEvent)t.detachEvent("on"+n,r);else{var e=t._handlers,i=e&&e[n];if(i){var u=O(i,r);u>-1&&(e[n]=i.slice(0,u).concat(i.slice(u+1)))}}}function vt(t,n){var r=ht(t,n);if(r.length)for(var e=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,e)}function mt(t,n,r){return"string"==typeof n&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),vt(t,r||n.type,t,n),wt(n)||n.codemirrorIgnore}function pt(t){var n=t._handlers&&t._handlers.cursorActivity;if(n)for(var r=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),e=0;e<n.length;++e)-1==O(r,n[e])&&r.push(n[e])}function gt(t,n){return ht(t,n).length>0}function Dt(t){t.prototype.on=function(t,n){ct(this,t,n)},t.prototype.off=function(t,n){dt(this,t,n)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function xt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function wt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ct(t){bt(t),xt(t)}function yt(t){return t.target||t.srcElement}function At(t){var n=t.which;return null==n&&(1&t.button?n=1:2&t.button?n=3:4&t.button&&(n=2)),D&&t.ctrlKey&&1==n&&(n=3),n}var Et,Ft,kt=function(){if(o&&a<9)return!1;var t=S("div");return"draggable"in t||"dragDrop"in t}();function Mt(t){if(null==Et){var n=S("span","​");M(t,S("span",[n,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Et=n.offsetWidth<=1&&n.offsetHeight>2&&!(o&&a<8))}var r=Et?S("span","​"):S("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function St(t){if(null!=Ft)return Ft;var n=M(t,document.createTextNode("AخA")),r=E(n,0,1).getBoundingClientRect(),e=E(n,1,2).getBoundingClientRect();return k(t),!(!r||r.left==r.right)&&(Ft=e.right-r.right<3)}var Bt,Lt=3!="\n\nb".split(/\n/).length?function(t){for(var n=0,r=[],e=t.length;n<=e;){var i=t.indexOf("\n",n);-1==i&&(i=t.length);var u=t.slice(n,"\r"==t.charAt(i-1)?i-1:i),o=u.indexOf("\r");-1!=o?(r.push(u.slice(0,o)),n+=o+1):(r.push(u),n=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)},Tt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var n;try{n=t.ownerDocument.selection.createRange()}catch(t){}return!(!n||n.parentElement()!=t)&&0!=n.compareEndPoints("StartToEnd",n)},_t="oncopy"in(Bt=S("div"))||(Bt.setAttribute("oncopy","return;"),"function"==typeof Bt.oncopy),Nt=null;var zt={},jt={};function It(t,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),zt[t]=n}function $t(t){if("string"==typeof t&&jt.hasOwnProperty(t))t=jt[t];else if(t&&"string"==typeof t.name&&jt.hasOwnProperty(t.name)){var n=jt[t.name];"string"==typeof n&&(n={name:n}),(t=Q(n,t)).name=n.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return $t("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return $t("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Rt(t,n){n=$t(n);var r=zt[n.name];if(!r)return Rt(t,"text/plain");var e=r(t,n);if(Ot.hasOwnProperty(n.name)){var i=Ot[n.name];for(var u in i)i.hasOwnProperty(u)&&(e.hasOwnProperty(u)&&(e["_"+u]=e[u]),e[u]=i[u])}if(e.name=n.name,n.helperType&&(e.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)e[o]=n.modeProps[o];return e}var Ot={};function qt(t,n){I(n,Ot.hasOwnProperty(t)?Ot[t]:Ot[t]={})}function Pt(t,n){if(!0===n)return n;if(t.copyState)return t.copyState(n);var r={};for(var e in n){var i=n[e];i instanceof Array&&(i=i.concat([])),r[e]=i}return r}function Ut(t,n){for(var r;t.innerMode&&(r=t.innerMode(n))&&r.mode!=t;)n=r.state,t=r.mode;return r||{mode:t,state:n}}function Ht(t,n,r){return!t.startState||t.startState(n,r)}var Wt=function(t,n,r){this.pos=this.start=0,this.string=t,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Gt(t,n){if((n-=t.first)<0||n>=t.size)throw new Error("There is no line "+(n+t.first)+" in the document.");for(var r=t;!r.lines;)for(var e=0;;++e){var i=r.children[e],u=i.chunkSize();if(n<u){r=i;break}n-=u}return r.lines[n]}function Zt(t,n,r){var e=[],i=n.line;return t.iter(n.line,r.line+1,(function(t){var u=t.text;i==r.line&&(u=u.slice(0,r.ch)),i==n.line&&(u=u.slice(n.ch)),e.push(u),++i})),e}function Xt(t,n,r){var e=[];return t.iter(n,r,(function(t){e.push(t.text)})),e}function Vt(t,n){var r=n-t.height;if(r)for(var e=t;e;e=e.parent)e.height+=r}function Kt(t){if(null==t.parent)return null;for(var n=t.parent,r=O(n.lines,t),e=n.parent;e;n=e,e=e.parent)for(var i=0;e.children[i]!=n;++i)r+=e.children[i].chunkSize();return r+n.first}function Qt(t,n){var r=t.first;t:do{for(var e=0;e<t.children.length;++e){var i=t.children[e],u=i.height;if(n<u){t=i;continue t}n-=u,r+=i.chunkSize()}return r}while(!t.lines);for(var o=0;o<t.lines.length;++o){var a=t.lines[o].height;if(n<a)break;n-=a}return r+o}function Jt(t,n){return n>=t.first&&n<t.first+t.size}function Yt(t,n){return String(t.lineNumberFormatter(n+t.firstLineNumber))}function tn(t,n,r){if(void 0===r&&(r=null),!(this instanceof tn))return new tn(t,n,r);this.line=t,this.ch=n,this.sticky=r}function nn(t,n){return t.line-n.line||t.ch-n.ch}function rn(t,n){return t.sticky==n.sticky&&0==nn(t,n)}function en(t){return tn(t.line,t.ch)}function un(t,n){return nn(t,n)<0?n:t}function on(t,n){return nn(t,n)<0?t:n}function an(t,n){return Math.max(t.first,Math.min(n,t.first+t.size-1))}function fn(t,n){if(n.line<t.first)return tn(t.first,0);var r=t.first+t.size-1;return n.line>r?tn(r,Gt(t,r).text.length):function(t,n){var r=t.ch;return null==r||r>n?tn(t.line,n):r<0?tn(t.line,0):t}(n,Gt(t,n.line).text.length)}function sn(t,n){for(var r=[],e=0;e<n.length;e++)r[e]=fn(t,n[e]);return r}Wt.prototype.eol=function(){return this.pos>=this.string.length},Wt.prototype.sol=function(){return this.pos==this.lineStart},Wt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Wt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Wt.prototype.eat=function(t){var n=this.string.charAt(this.pos);if("string"==typeof t?n==t:n&&(t.test?t.test(n):t(n)))return++this.pos,n},Wt.prototype.eatWhile=function(t){for(var n=this.pos;this.eat(t););return this.pos>n},Wt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Wt.prototype.skipToEnd=function(){this.pos=this.string.length},Wt.prototype.skipTo=function(t){var n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0},Wt.prototype.backUp=function(t){this.pos-=t},Wt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=$(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.indentation=function(){return $(this.string,null,this.tabSize)-(this.lineStart?$(this.string,this.lineStart,this.tabSize):0)},Wt.prototype.match=function(t,n,r){if("string"!=typeof t){var e=this.string.slice(this.pos).match(t);return e&&e.index>0?null:(e&&!1!==n&&(this.pos+=e[0].length),e)}var i=function(t){return r?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==n&&(this.pos+=t.length),!0},Wt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Wt.prototype.hideFirstChars=function(t,n){this.lineStart+=t;try{return n()}finally{this.lineStart-=t}},Wt.prototype.lookAhead=function(t){var n=this.lineOracle;return n&&n.lookAhead(t)},Wt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ln=function(t,n){this.state=t,this.lookAhead=n},cn=function(t,n,r,e){this.state=n,this.doc=t,this.line=r,this.maxLookAhead=e||0,this.baseTokens=null,this.baseTokenPos=1};function hn(t,n,r,e){var i=[t.state.modeGen],u={};wn(t,n.text,t.doc.mode,r,(function(t,n){return i.push(t,n)}),u,e);for(var o=r.state,a=function(e){r.baseTokens=i;var a=t.state.overlays[e],f=1,s=0;r.state=!0,wn(t,n.text,a.mode,r,(function(t,n){for(var r=f;s<t;){var e=i[f];e>t&&i.splice(f,1,t,i[f+1],e),f+=2,s=Math.min(t,e)}if(n)if(a.opaque)i.splice(r,f-r,t,"overlay "+n),f=r+2;else for(;r<f;r+=2){var u=i[r+1];i[r+1]=(u?u+" ":"")+"overlay "+n}}),u),r.state=o,r.baseTokens=null,r.baseTokenPos=1},f=0;f<t.state.overlays.length;++f)a(f);return{styles:i,classes:u.bgClass||u.textClass?u:null}}function dn(t,n,r){if(!n.styles||n.styles[0]!=t.state.modeGen){var e=vn(t,Kt(n)),i=n.text.length>t.options.maxHighlightLength&&Pt(t.doc.mode,e.state),u=hn(t,n,e);i&&(e.state=i),n.stateAfter=e.save(!i),n.styles=u.styles,u.classes?n.styleClasses=u.classes:n.styleClasses&&(n.styleClasses=null),r===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return n.styles}function vn(t,n,r){var e=t.doc,i=t.display;if(!e.mode.startState)return new cn(e,!0,n);var u=function(t,n,r){for(var e,i,u=t.doc,o=r?-1:n-(t.doc.mode.innerMode?1e3:100),a=n;a>o;--a){if(a<=u.first)return u.first;var f=Gt(u,a-1),s=f.stateAfter;if(s&&(!r||a+(s instanceof ln?s.lookAhead:0)<=u.modeFrontier))return a;var l=$(f.text,null,t.options.tabSize);(null==i||e>l)&&(i=a-1,e=l)}return i}(t,n,r),o=u>e.first&&Gt(e,u-1).stateAfter,a=o?cn.fromSaved(e,o,u):new cn(e,Ht(e.mode),u);return e.iter(u,n,(function(r){mn(t,r.text,a);var e=a.line;r.stateAfter=e==n-1||e%5==0||e>=i.viewFrom&&e<i.viewTo?a.save():null,a.nextLine()})),r&&(e.modeFrontier=a.line),a}function mn(t,n,r,e){var i=t.doc.mode,u=new Wt(n,t.options.tabSize,r);for(u.start=u.pos=e||0,""==n&&pn(i,r.state);!u.eol();)gn(i,u,r.state),u.start=u.pos}function pn(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=Ut(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function gn(t,n,r,e){for(var i=0;i<10;i++){e&&(e[0]=Ut(t,r).mode);var u=t.token(n,r);if(n.pos>n.start)return u}throw new Error("Mode "+t.name+" failed to advance stream.")}cn.prototype.lookAhead=function(t){var n=this.doc.getLine(this.line+t);return null!=n&&t>this.maxLookAhead&&(this.maxLookAhead=t),n},cn.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},cn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},cn.fromSaved=function(t,n,r){return n instanceof ln?new cn(t,Pt(t.mode,n.state),r,n.lookAhead):new cn(t,Pt(t.mode,n),r)},cn.prototype.save=function(t){var n=!1!==t?Pt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ln(n,this.maxLookAhead):n};var Dn=function(t,n,r){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=n||null,this.state=r};function bn(t,n,r,e){var i,u,o=t.doc,a=o.mode,f=Gt(o,(n=fn(o,n)).line),s=vn(t,n.line,r),l=new Wt(f.text,t.options.tabSize,s);for(e&&(u=[]);(e||l.pos<n.ch)&&!l.eol();)l.start=l.pos,i=gn(a,l,s.state),e&&u.push(new Dn(l,i,Pt(o.mode,s.state)));return e?u:new Dn(l,i,s.state)}function xn(t,n){if(t)for(;;){var r=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;t=t.slice(0,r.index)+t.slice(r.index+r[0].length);var e=r[1]?"bgClass":"textClass";null==n[e]?n[e]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(n[e])||(n[e]+=" "+r[2])}return t}function wn(t,n,r,e,i,u,o){var a=r.flattenSpans;null==a&&(a=t.options.flattenSpans);var f,s=0,l=null,c=new Wt(n,t.options.tabSize,e),h=t.options.addModeClass&&[null];for(""==n&&xn(pn(r,e.state),u);!c.eol();){if(c.pos>t.options.maxHighlightLength?(a=!1,o&&mn(t,n,e,c.pos),c.pos=n.length,f=null):f=xn(gn(r,c,e.state,h),u),h){var d=h[0].name;d&&(f="m-"+(f?d+" "+f:d))}if(!a||l!=f){for(;s<c.start;)i(s=Math.min(c.start,s+5e3),l);l=f}c.start=c.pos}for(;s<c.pos;){var v=Math.min(c.pos,s+5e3);i(v,l),s=v}}var Cn=!1,yn=!1;function An(t,n,r){this.marker=t,this.from=n,this.to=r}function En(t,n){if(t)for(var r=0;r<t.length;++r){var e=t[r];if(e.marker==n)return e}}function Fn(t,n){for(var r,e=0;e<t.length;++e)t[e]!=n&&(r||(r=[])).push(t[e]);return r}function kn(t,n){if(n.full)return null;var r=Jt(t,n.from.line)&&Gt(t,n.from.line).markedSpans,e=Jt(t,n.to.line)&&Gt(t,n.to.line).markedSpans;if(!r&&!e)return null;var i=n.from.ch,u=n.to.ch,o=0==nn(n.from,n.to),a=function(t,n,r){var e;if(t)for(var i=0;i<t.length;++i){var u=t[i],o=u.marker;null!=u.from&&!(o.inclusiveLeft?u.from<=n:u.from<n)&&(u.from!=n||"bookmark"!=o.type||r&&u.marker.insertLeft)||(e||(e=[])).push(new An(o,u.from,null==u.to||(o.inclusiveRight?u.to>=n:u.to>n)?null:u.to))}return e}(r,i,o),f=function(t,n,r){var e;if(t)for(var i=0;i<t.length;++i){var u=t[i],o=u.marker;(null==u.to||(o.inclusiveRight?u.to>=n:u.to>n)||u.from==n&&"bookmark"==o.type&&(!r||u.marker.insertLeft))&&(e||(e=[])).push(new An(o,null==u.from||(o.inclusiveLeft?u.from<=n:u.from<n)?null:u.from-n,null==u.to?null:u.to-n))}return e}(e,u,o),s=1==n.text.length,l=X(n.text).length+(s?i:0);if(a)for(var c=0;c<a.length;++c){var h=a[c];if(null==h.to){var d=En(f,h.marker);d?s&&(h.to=null==d.to?null:d.to+l):h.to=i}}if(f)for(var v=0;v<f.length;++v){var m=f[v];null!=m.to&&(m.to+=l),null==m.from?En(a,m.marker)||(m.from=l,s&&(a||(a=[])).push(m)):(m.from+=l,s&&(a||(a=[])).push(m))}a&&(a=Mn(a)),f&&f!=a&&(f=Mn(f));var p=[a];if(!s){var g,D=n.text.length-2;if(D>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(g||(g=[])).push(new An(a[b].marker,null,null));for(var x=0;x<D;++x)p.push(g);p.push(f)}return p}function Mn(t){for(var n=0;n<t.length;++n){var r=t[n];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&t.splice(n--,1)}return t.length?t:null}function Sn(t){var n=t.markedSpans;if(n){for(var r=0;r<n.length;++r)n[r].marker.detachLine(t);t.markedSpans=null}}function Bn(t,n){if(n){for(var r=0;r<n.length;++r)n[r].marker.attachLine(t);t.markedSpans=n}}function Ln(t){return t.inclusiveLeft?-1:0}function Tn(t){return t.inclusiveRight?1:0}function _n(t,n){var r=t.lines.length-n.lines.length;if(0!=r)return r;var e=t.find(),i=n.find(),u=nn(e.from,i.from)||Ln(t)-Ln(n);return u?-u:nn(e.to,i.to)||Tn(t)-Tn(n)||n.id-t.id}function Nn(t,n){var r,e=yn&&t.markedSpans;if(e)for(var i=void 0,u=0;u<e.length;++u)(i=e[u]).marker.collapsed&&null==(n?i.from:i.to)&&(!r||_n(r,i.marker)<0)&&(r=i.marker);return r}function zn(t){return Nn(t,!0)}function jn(t){return Nn(t,!1)}function In(t,n){var r,e=yn&&t.markedSpans;if(e)for(var i=0;i<e.length;++i){var u=e[i];u.marker.collapsed&&(null==u.from||u.from<n)&&(null==u.to||u.to>n)&&(!r||_n(r,u.marker)<0)&&(r=u.marker)}return r}function $n(t,n,r,e,i){var u=Gt(t,n),o=yn&&u.markedSpans;if(o)for(var a=0;a<o.length;++a){var f=o[a];if(f.marker.collapsed){var s=f.marker.find(0),l=nn(s.from,r)||Ln(f.marker)-Ln(i),c=nn(s.to,e)||Tn(f.marker)-Tn(i);if(!(l>=0&&c<=0||l<=0&&c>=0)&&(l<=0&&(f.marker.inclusiveRight&&i.inclusiveLeft?nn(s.to,r)>=0:nn(s.to,r)>0)||l>=0&&(f.marker.inclusiveRight&&i.inclusiveLeft?nn(s.from,e)<=0:nn(s.from,e)<0)))return!0}}}function Rn(t){for(var n;n=zn(t);)t=n.find(-1,!0).line;return t}function On(t,n){var r=Gt(t,n),e=Rn(r);return r==e?n:Kt(e)}function qn(t,n){if(n>t.lastLine())return n;var r,e=Gt(t,n);if(!Pn(t,e))return n;for(;r=jn(e);)e=r.find(1,!0).line;return Kt(e)+1}function Pn(t,n){var r=yn&&n.markedSpans;if(r)for(var e=void 0,i=0;i<r.length;++i)if((e=r[i]).marker.collapsed){if(null==e.from)return!0;if(!e.marker.widgetNode&&0==e.from&&e.marker.inclusiveLeft&&Un(t,n,e))return!0}}function Un(t,n,r){if(null==r.to){var e=r.marker.find(1,!0);return Un(t,e.line,En(e.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==n.text.length)return!0;for(var i=void 0,u=0;u<n.markedSpans.length;++u)if((i=n.markedSpans[u]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Un(t,n,i))return!0}function Hn(t){for(var n=0,r=(t=Rn(t)).parent,e=0;e<r.lines.length;++e){var i=r.lines[e];if(i==t)break;n+=i.height}for(var u=r.parent;u;u=(r=u).parent)for(var o=0;o<u.children.length;++o){var a=u.children[o];if(a==r)break;n+=a.height}return n}function Wn(t){if(0==t.height)return 0;for(var n,r=t.text.length,e=t;n=zn(e);){var i=n.find(0,!0);e=i.from.line,r+=i.from.ch-i.to.ch}for(e=t;n=jn(e);){var u=n.find(0,!0);r-=e.text.length-u.from.ch,r+=(e=u.to.line).text.length-u.to.ch}return r}function Gn(t){var n=t.display,r=t.doc;n.maxLine=Gt(r,r.first),n.maxLineLength=Wn(n.maxLine),n.maxLineChanged=!0,r.iter((function(t){var r=Wn(t);r>n.maxLineLength&&(n.maxLineLength=r,n.maxLine=t)}))}var Zn=function(t,n,r){this.text=t,Bn(this,n),this.height=r?r(this):1};function Xn(t){t.parent=null,Sn(t)}Zn.prototype.lineNo=function(){return Kt(this)},Dt(Zn);var Vn={},Kn={};function Qn(t,n){if(!t||/^\s*$/.test(t))return null;var r=n.addModeClass?Kn:Vn;return r[t]||(r[t]=t.replace(/\S+/g,"cm-$&"))}function Jn(t,n){var r=B("span",null,null,f?"padding-right: .1px":null),e={pre:B("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};n.measure={};for(var i=0;i<=(n.rest?n.rest.length:0);i++){var u=i?n.rest[i-1]:n.line,o=void 0;e.pos=0,e.addToken=tr,St(t.display.measure)&&(o=st(u,t.doc.direction))&&(e.addToken=nr(e.addToken,o)),e.map=[],er(u,e,dn(t,u,n!=t.display.externalMeasured&&Kt(u))),u.styleClasses&&(u.styleClasses.bgClass&&(e.bgClass=N(u.styleClasses.bgClass,e.bgClass||"")),u.styleClasses.textClass&&(e.textClass=N(u.styleClasses.textClass,e.textClass||""))),0==e.map.length&&e.map.push(0,0,e.content.appendChild(Mt(t.display.measure))),0==i?(n.measure.map=e.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(e.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(f){var a=e.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(e.content.className="cm-tab-wrap-hack")}return vt(t,"renderLine",t,n.line,e.pre),e.pre.className&&(e.textClass=N(e.pre.className,e.textClass||"")),e}function Yn(t){var n=S("span","•","cm-invalidchar");return n.title="\\u"+t.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function tr(t,n,r,e,i,u,f){if(n){var s,l=t.splitSpaces?function(t,n){if(t.length>1&&!/  /.test(t))return t;for(var r=n,e="",i=0;i<t.length;i++){var u=t.charAt(i);" "!=u||!r||i!=t.length-1&&32!=t.charCodeAt(i+1)||(u=" "),e+=u,r=" "==u}return e}(n,t.trailingSpace):n,c=t.cm.state.specialChars,h=!1;if(c.test(n)){s=document.createDocumentFragment();for(var d=0;;){c.lastIndex=d;var v=c.exec(n),m=v?v.index-d:n.length-d;if(m){var p=document.createTextNode(l.slice(d,d+m));s.appendChild(o&&a<9?S("span",[p]):p),t.map.push(t.pos,t.pos+m,p),t.col+=m,t.pos+=m}if(!v)break;d+=m+1;var g=void 0;if("\t"==v[0]){var D=t.cm.options.tabSize,b=D-t.col%D;(g=s.appendChild(S("span",Z(b),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),t.col+=b}else"\r"==v[0]||"\n"==v[0]?((g=s.appendChild(S("span","\r"==v[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",v[0]),t.col+=1):((g=t.cm.options.specialCharPlaceholder(v[0])).setAttribute("cm-text",v[0]),s.appendChild(o&&a<9?S("span",[g]):g),t.col+=1);t.map.push(t.pos,t.pos+1,g),t.pos++}}else t.col+=n.length,s=document.createTextNode(l),t.map.push(t.pos,t.pos+n.length,s),o&&a<9&&(h=!0),t.pos+=n.length;if(t.trailingSpace=32==l.charCodeAt(n.length-1),r||e||i||h||u||f){var x=r||"";e&&(x+=e),i&&(x+=i);var w=S("span",[s],x,u);if(f)for(var C in f)f.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,f[C]);return t.content.appendChild(w)}t.content.appendChild(s)}}function nr(t,n){return function(r,e,i,u,o,a,f){i=i?i+" cm-force-border":"cm-force-border";for(var s=r.pos,l=s+e.length;;){for(var c=void 0,h=0;h<n.length&&!((c=n[h]).to>s&&c.from<=s);h++);if(c.to>=l)return t(r,e,i,u,o,a,f);t(r,e.slice(0,c.to-s),i,u,null,a,f),u=null,e=e.slice(c.to-s),s=c.to}}}function rr(t,n,r,e){var i=!e&&r.widgetNode;i&&t.map.push(t.pos,t.pos+n,i),!e&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=n,t.trailingSpace=!1}function er(t,n,r){var e=t.markedSpans,i=t.text,u=0;if(e)for(var o,a,f,s,l,c,h,d=i.length,v=0,m=1,p="",g=0;;){if(g==v){f=s=l=a="",h=null,c=null,g=1/0;for(var D=[],b=void 0,x=0;x<e.length;++x){var w=e[x],C=w.marker;if("bookmark"==C.type&&w.from==v&&C.widgetNode)D.push(C);else if(w.from<=v&&(null==w.to||w.to>v||C.collapsed&&w.to==v&&w.from==v)){if(null!=w.to&&w.to!=v&&g>w.to&&(g=w.to,s=""),C.className&&(f+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&w.from==v&&(l+=" "+C.startStyle),C.endStyle&&w.to==g&&(b||(b=[])).push(C.endStyle,w.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var y in C.attributes)(h||(h={}))[y]=C.attributes[y];C.collapsed&&(!c||_n(c.marker,C)<0)&&(c=w)}else w.from>v&&g>w.from&&(g=w.from)}if(b)for(var A=0;A<b.length;A+=2)b[A+1]==g&&(s+=" "+b[A]);if(!c||c.from==v)for(var E=0;E<D.length;++E)rr(n,0,D[E]);if(c&&(c.from||0)==v){if(rr(n,(null==c.to?d+1:c.to)-v,c.marker,null==c.from),null==c.to)return;c.to==v&&(c=!1)}}if(v>=d)break;for(var F=Math.min(d,g);;){if(p){var k=v+p.length;if(!c){var M=k>F?p.slice(0,F-v):p;n.addToken(n,M,o?o+f:f,l,v+M.length==g?s:"",a,h)}if(k>=F){p=p.slice(F-v),v=F;break}v=k,l=""}p=i.slice(u,u=r[m++]),o=Qn(r[m++],n.cm.options)}}else for(var S=1;S<r.length;S+=2)n.addToken(n,i.slice(u,u=r[S]),Qn(r[S+1],n.cm.options))}function ir(t,n,r){this.line=n,this.rest=function(t){for(var n,r;n=jn(t);)t=n.find(1,!0).line,(r||(r=[])).push(t);return r}(n),this.size=this.rest?Kt(X(this.rest))-r+1:1,this.node=this.text=null,this.hidden=Pn(t,n)}function ur(t,n,r){for(var e,i=[],u=n;u<r;u=e){var o=new ir(t.doc,Gt(t.doc,u),u);e=u+o.size,i.push(o)}return i}var or=null;var ar=null;function fr(t,n){var r=ht(t,n);if(r.length){var e,i=Array.prototype.slice.call(arguments,2);or?e=or.delayedCallbacks:ar?e=ar:(e=ar=[],setTimeout(sr,0));for(var u=function(t){e.push((function(){return r[t].apply(null,i)}))},o=0;o<r.length;++o)u(o)}}function sr(){var t=ar;ar=null;for(var n=0;n<t.length;++n)t[n]()}function lr(t,n,r,e){for(var i=0;i<n.changes.length;i++){var u=n.changes[i];"text"==u?dr(t,n):"gutter"==u?mr(t,n,r,e):"class"==u?vr(t,n):"widget"==u&&pr(t,n,e)}n.changes=null}function cr(t){return t.node==t.text&&(t.node=S("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),o&&a<8&&(t.node.style.zIndex=2)),t.node}function hr(t,n){var r=t.display.externalMeasured;return r&&r.line==n.line?(t.display.externalMeasured=null,n.measure=r.measure,r.built):Jn(t,n)}function dr(t,n){var r=n.text.className,e=hr(t,n);n.text==n.node&&(n.node=e.pre),n.text.parentNode.replaceChild(e.pre,n.text),n.text=e.pre,e.bgClass!=n.bgClass||e.textClass!=n.textClass?(n.bgClass=e.bgClass,n.textClass=e.textClass,vr(t,n)):r&&(n.text.className=r)}function vr(t,n){(function(t,n){var r=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),n.background)r?n.background.className=r:(n.background.parentNode.removeChild(n.background),n.background=null);else if(r){var e=cr(n);n.background=e.insertBefore(S("div",null,r),e.firstChild),t.display.input.setUneditable(n.background)}})(t,n),n.line.wrapClass?cr(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className=""),n.text.className=(n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass)||""}function mr(t,n,r,e){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var i=cr(n);n.gutterBackground=S("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(t.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px; width: "+e.gutterTotalWidth+"px"),t.display.input.setUneditable(n.gutterBackground),i.insertBefore(n.gutterBackground,n.text)}var u=n.line.gutterMarkers;if(t.options.lineNumbers||u){var o=cr(n),a=n.gutter=S("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),o.insertBefore(a,n.text),n.line.gutterClass&&(a.className+=" "+n.line.gutterClass),!t.options.lineNumbers||u&&u["CodeMirror-linenumbers"]||(n.lineNumber=a.appendChild(S("div",Yt(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),u)for(var f=0;f<t.display.gutterSpecs.length;++f){var s=t.display.gutterSpecs[f].className,l=u.hasOwnProperty(s)&&u[s];l&&a.appendChild(S("div",[l],"CodeMirror-gutter-elt","left: "+e.gutterLeft[s]+"px; width: "+e.gutterWidth[s]+"px"))}}}function pr(t,n,r){n.alignable&&(n.alignable=null);for(var e=A("CodeMirror-linewidget"),i=n.node.firstChild,u=void 0;i;i=u)u=i.nextSibling,e.test(i.className)&&n.node.removeChild(i);Dr(t,n,r)}function gr(t,n,r,e){var i=hr(t,n);return n.text=n.node=i.pre,i.bgClass&&(n.bgClass=i.bgClass),i.textClass&&(n.textClass=i.textClass),vr(t,n),mr(t,n,r,e),Dr(t,n,e),n.node}function Dr(t,n,r){if(br(t,n.line,n,r,!0),n.rest)for(var e=0;e<n.rest.length;e++)br(t,n.rest[e],n,r,!1)}function br(t,n,r,e,i){if(n.widgets)for(var u=cr(r),o=0,a=n.widgets;o<a.length;++o){var f=a[o],s=S("div",[f.node],"CodeMirror-linewidget"+(f.className?" "+f.className:""));f.handleMouseEvents||s.setAttribute("cm-ignore-events","true"),xr(f,s,r,e),t.display.input.setUneditable(s),i&&f.above?u.insertBefore(s,r.gutter||r.text):u.appendChild(s),fr(f,"redraw")}}function xr(t,n,r,e){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(n);var i=e.wrapperWidth;n.style.left=e.fixedPos+"px",t.coverGutter||(i-=e.gutterTotalWidth,n.style.paddingLeft=e.gutterTotalWidth+"px"),n.style.width=i+"px"}t.coverGutter&&(n.style.zIndex=5,n.style.position="relative",t.noHScroll||(n.style.marginLeft=-e.gutterTotalWidth+"px"))}function wr(t){if(null!=t.height)return t.height;var n=t.doc.cm;if(!n)return 0;if(!L(document.body,t.node)){var r="position: relative;";t.coverGutter&&(r+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),t.noHScroll&&(r+="width: "+n.display.wrapper.clientWidth+"px;"),M(n.display.measure,S("div",[t.node],null,r))}return t.height=t.node.parentNode.offsetHeight}function Cr(t,n){for(var r=yt(n);r!=t.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==t.sizer&&r!=t.mover)return!0}function yr(t){return t.lineSpace.offsetTop}function Ar(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Er(t){if(t.cachedPaddingH)return t.cachedPaddingH;var n=M(t.measure,S("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,e={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(e.left)||isNaN(e.right)||(t.cachedPaddingH=e),e}function Fr(t){return 50-t.display.nativeBarWidth}function kr(t){return t.display.scroller.clientWidth-Fr(t)-t.display.barWidth}function Mr(t){return t.display.scroller.clientHeight-Fr(t)-t.display.barHeight}function Sr(t,n,r){if(t.line==n)return{map:t.measure.map,cache:t.measure.cache};for(var e=0;e<t.rest.length;e++)if(t.rest[e]==n)return{map:t.measure.maps[e],cache:t.measure.caches[e]};for(var i=0;i<t.rest.length;i++)if(Kt(t.rest[i])>r)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}function Br(t,n,r,e){return _r(t,Tr(t,n),r,e)}function Lr(t,n){if(n>=t.display.viewFrom&&n<t.display.viewTo)return t.display.view[le(t,n)];var r=t.display.externalMeasured;return r&&n>=r.lineN&&n<r.lineN+r.size?r:void 0}function Tr(t,n){var r=Kt(n),e=Lr(t,r);e&&!e.text?e=null:e&&e.changes&&(lr(t,e,r,ue(t)),t.curOp.forceUpdate=!0),e||(e=function(t,n){var r=Kt(n=Rn(n)),e=t.display.externalMeasured=new ir(t.doc,n,r);e.lineN=r;var i=e.built=Jn(t,e);return e.text=i.pre,M(t.display.lineMeasure,i.pre),e}(t,n));var i=Sr(e,n,r);return{line:n,view:e,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function _r(t,n,r,e,i){n.before&&(r=-1);var u,f=r+(e||"");return n.cache.hasOwnProperty(f)?u=n.cache[f]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(function(t,n,r){var e=t.options.lineWrapping,i=e&&kr(t);if(!n.measure.heights||e&&n.measure.width!=i){var u=n.measure.heights=[];if(e){n.measure.width=i;for(var o=n.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var f=o[a],s=o[a+1];Math.abs(f.bottom-s.bottom)>2&&u.push((f.bottom+s.top)/2-r.top)}}u.push(r.bottom-r.top)}}(t,n.view,n.rect),n.hasHeights=!0),(u=function(t,n,r,e){var i,u=jr(n.map,r,e),f=u.node,s=u.start,l=u.end,c=u.collapse;if(3==f.nodeType){for(var h=0;h<4;h++){for(;s&&et(n.line.text.charAt(u.coverStart+s));)--s;for(;u.coverStart+l<u.coverEnd&&et(n.line.text.charAt(u.coverStart+l));)++l;if((i=o&&a<9&&0==s&&l==u.coverEnd-u.coverStart?f.parentNode.getBoundingClientRect():Ir(E(f,s,l).getClientRects(),e)).left||i.right||0==s)break;l=s,s-=1,c="right"}o&&a<11&&(i=function(t,n){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Nt)return Nt;var n=M(t,S("span","x")),r=n.getBoundingClientRect(),e=E(n,0,1).getBoundingClientRect();return Nt=Math.abs(r.left-e.left)>1}(t))return n;var r=screen.logicalXDPI/screen.deviceXDPI,e=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*r,right:n.right*r,top:n.top*e,bottom:n.bottom*e}}(t.display.measure,i))}else{var d;s>0&&(c=e="right"),i=t.options.lineWrapping&&(d=f.getClientRects()).length>1?d["right"==e?d.length-1:0]:f.getBoundingClientRect()}if(o&&a<9&&!s&&(!i||!i.left&&!i.right)){var v=f.parentNode.getClientRects()[0];i=v?{left:v.left,right:v.left+ie(t.display),top:v.top,bottom:v.bottom}:zr}for(var m=i.top-n.rect.top,p=i.bottom-n.rect.top,g=(m+p)/2,D=n.view.measure.heights,b=0;b<D.length-1&&!(g<D[b]);b++);var x={left:("right"==c?i.right:i.left)-n.rect.left,right:("left"==c?i.left:i.right)-n.rect.left,top:b?D[b-1]:0,bottom:D[b]};return i.left||i.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=p),x}(t,n,r,e)).bogus||(n.cache[f]=u)),{left:u.left,right:u.right,top:i?u.rtop:u.top,bottom:i?u.rbottom:u.bottom}}var Nr,zr={left:0,right:0,top:0,bottom:0};function jr(t,n,r){for(var e,i,u,o,a,f,s=0;s<t.length;s+=3)if(f=t[s+1],n<(a=t[s])?(i=0,u=1,o="left"):n<f?u=1+(i=n-a):(s==t.length-3||n==f&&t[s+3]>n)&&(i=(u=f-a)-1,n>=f&&(o="right")),null!=i){if(e=t[s+2],a==f&&r==(e.insertLeft?"left":"right")&&(o=r),"left"==r&&0==i)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)e=t[2+(s-=3)],o="left";if("right"==r&&i==f-a)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)e=t[(s+=3)+2],o="right";break}return{node:e,start:i,end:u,collapse:o,coverStart:a,coverEnd:f}}function Ir(t,n){var r=zr;if("left"==n)for(var e=0;e<t.length&&(r=t[e]).left==r.right;e++);else for(var i=t.length-1;i>=0&&(r=t[i]).left==r.right;i--);return r}function $r(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var n=0;n<t.rest.length;n++)t.measure.caches[n]={}}function Rr(t){t.display.externalMeasure=null,k(t.display.lineMeasure);for(var n=0;n<t.display.view.length;n++)$r(t.display.view[n])}function Or(t){Rr(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function qr(){return l&&p?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Pr(){return l&&p?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ur(t){var n=0;if(t.widgets)for(var r=0;r<t.widgets.length;++r)t.widgets[r].above&&(n+=wr(t.widgets[r]));return n}function Hr(t,n,r,e,i){if(!i){var u=Ur(n);r.top+=u,r.bottom+=u}if("line"==e)return r;e||(e="local");var o=Hn(n);if("local"==e?o+=yr(t.display):o-=t.display.viewOffset,"page"==e||"window"==e){var a=t.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==e?0:Pr());var f=a.left+("window"==e?0:qr());r.left+=f,r.right+=f}return r.top+=o,r.bottom+=o,r}function Wr(t,n,r){if("div"==r)return n;var e=n.left,i=n.top;if("page"==r)e-=qr(),i-=Pr();else if("local"==r||!r){var u=t.display.sizer.getBoundingClientRect();e+=u.left,i+=u.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:e-o.left,top:i-o.top}}function Gr(t,n,r,e,i){return e||(e=Gt(t.doc,n.line)),Hr(t,e,Br(t,e,n.ch,i),r)}function Zr(t,n,r,e,i,u){function o(n,o){var a=_r(t,i,n,o?"right":"left",u);return o?a.left=a.right:a.right=a.left,Hr(t,e,a,r)}e=e||Gt(t.doc,n.line),i||(i=Tr(t,e));var a=st(e,t.doc.direction),f=n.ch,s=n.sticky;if(f>=e.text.length?(f=e.text.length,s="before"):f<=0&&(f=0,s="after"),!a)return o("before"==s?f-1:f,"before"==s);function l(t,n,r){return o(r?t-1:t,1==a[n].level!=r)}var c=at(a,f,s),h=ot,d=l(f,c,"before"==s);return null!=h&&(d.other=l(f,h,"before"!=s)),d}function Xr(t,n){var r=0;n=fn(t.doc,n),t.options.lineWrapping||(r=ie(t.display)*n.ch);var e=Gt(t.doc,n.line),i=Hn(e)+yr(t.display);return{left:r,right:r,top:i,bottom:i+e.height}}function Vr(t,n,r,e,i){var u=tn(t,n,r);return u.xRel=i,e&&(u.outside=e),u}function Kr(t,n,r){var e=t.doc;if((r+=t.display.viewOffset)<0)return Vr(e.first,0,null,-1,-1);var i=Qt(e,r),u=e.first+e.size-1;if(i>u)return Vr(e.first+e.size-1,Gt(e,u).text.length,null,1,1);n<0&&(n=0);for(var o=Gt(e,i);;){var a=te(t,o,i,n,r),f=In(o,a.ch+(a.xRel>0||a.outside>0?1:0));if(!f)return a;var s=f.find(1);if(s.line==i)return s;o=Gt(e,i=s.line)}}function Qr(t,n,r,e){e-=Ur(n);var i=n.text.length,u=ut((function(n){return _r(t,r,n-1).bottom<=e}),i,0);return{begin:u,end:i=ut((function(n){return _r(t,r,n).top>e}),u,i)}}function Jr(t,n,r,e){return r||(r=Tr(t,n)),Qr(t,n,r,Hr(t,n,_r(t,r,e),"line").top)}function Yr(t,n,r,e){return!(t.bottom<=r)&&(t.top>r||(e?t.left:t.right)>n)}function te(t,n,r,e,i){i-=Hn(n);var u=Tr(t,n),o=Ur(n),a=0,f=n.text.length,s=!0,l=st(n,t.doc.direction);if(l){var c=(t.options.lineWrapping?re:ne)(t,n,r,u,l,e,i);a=(s=1!=c.level)?c.from:c.to-1,f=s?c.to:c.from-1}var h,d,v=null,m=null,p=ut((function(n){var r=_r(t,u,n);return r.top+=o,r.bottom+=o,!!Yr(r,e,i,!1)&&(r.top<=i&&r.left<=e&&(v=n,m=r),!0)}),a,f),g=!1;if(m){var D=e-m.left<m.right-e,b=D==s;p=v+(b?0:1),d=b?"after":"before",h=D?m.left:m.right}else{s||p!=f&&p!=a||p++,d=0==p?"after":p==n.text.length?"before":_r(t,u,p-(s?1:0)).bottom+o<=i==s?"after":"before";var x=Zr(t,tn(r,p,d),"line",n,u);h=x.left,g=i<x.top?-1:i>=x.bottom?1:0}return Vr(r,p=it(n.text,p,1),d,g,e-h)}function ne(t,n,r,e,i,u,o){var a=ut((function(a){var f=i[a],s=1!=f.level;return Yr(Zr(t,tn(r,s?f.to:f.from,s?"before":"after"),"line",n,e),u,o,!0)}),0,i.length-1),f=i[a];if(a>0){var s=1!=f.level,l=Zr(t,tn(r,s?f.from:f.to,s?"after":"before"),"line",n,e);Yr(l,u,o,!0)&&l.top>o&&(f=i[a-1])}return f}function re(t,n,r,e,i,u,o){var a=Qr(t,n,e,o),f=a.begin,s=a.end;/\s/.test(n.text.charAt(s-1))&&s--;for(var l=null,c=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=s||d.to<=f)){var v=_r(t,e,1!=d.level?Math.min(s,d.to)-1:Math.max(f,d.from)).right,m=v<u?u-v+1e9:v-u;(!l||c>m)&&(l=d,c=m)}}return l||(l=i[i.length-1]),l.from<f&&(l={from:f,to:l.to,level:l.level}),l.to>s&&(l={from:l.from,to:s,level:l.level}),l}function ee(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Nr){Nr=S("pre",null,"CodeMirror-line-like");for(var n=0;n<49;++n)Nr.appendChild(document.createTextNode("x")),Nr.appendChild(S("br"));Nr.appendChild(document.createTextNode("x"))}M(t.measure,Nr);var r=Nr.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),k(t.measure),r||1}function ie(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var n=S("span","xxxxxxxxxx"),r=S("pre",[n],"CodeMirror-line-like");M(t.measure,r);var e=n.getBoundingClientRect(),i=(e.right-e.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function ue(t){for(var n=t.display,r={},e={},i=n.gutters.clientLeft,u=n.gutters.firstChild,o=0;u;u=u.nextSibling,++o){var a=t.display.gutterSpecs[o].className;r[a]=u.offsetLeft+u.clientLeft+i,e[a]=u.clientWidth}return{fixedPos:oe(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:r,gutterWidth:e,wrapperWidth:n.wrapper.clientWidth}}function oe(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function ae(t){var n=ee(t.display),r=t.options.lineWrapping,e=r&&Math.max(5,t.display.scroller.clientWidth/ie(t.display)-3);return function(i){if(Pn(t.doc,i))return 0;var u=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(u+=i.widgets[o].height);return r?u+(Math.ceil(i.text.length/e)||1)*n:u+n}}function fe(t){var n=t.doc,r=ae(t);n.iter((function(t){var n=r(t);n!=t.height&&Vt(t,n)}))}function se(t,n,r,e){var i=t.display;if(!r&&"true"==yt(n).getAttribute("cm-not-content"))return null;var u,o,a=i.lineSpace.getBoundingClientRect();try{u=n.clientX-a.left,o=n.clientY-a.top}catch(t){return null}var f,s=Kr(t,u,o);if(e&&s.xRel>0&&(f=Gt(t.doc,s.line).text).length==s.ch){var l=$(f,f.length,t.options.tabSize)-f.length;s=tn(s.line,Math.max(0,Math.round((u-Er(t.display).left)/ie(t.display))-l))}return s}function le(t,n){if(n>=t.display.viewTo)return null;if((n-=t.display.viewFrom)<0)return null;for(var r=t.display.view,e=0;e<r.length;e++)if((n-=r[e].size)<0)return e}function ce(t,n,r,e){null==n&&(n=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),e||(e=0);var i=t.display;if(e&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>n)&&(i.updateLineNumbers=n),t.curOp.viewChanged=!0,n>=i.viewTo)yn&&On(t.doc,n)<i.viewTo&&de(t);else if(r<=i.viewFrom)yn&&qn(t.doc,r+e)>i.viewFrom?de(t):(i.viewFrom+=e,i.viewTo+=e);else if(n<=i.viewFrom&&r>=i.viewTo)de(t);else if(n<=i.viewFrom){var u=ve(t,r,r+e,1);u?(i.view=i.view.slice(u.index),i.viewFrom=u.lineN,i.viewTo+=e):de(t)}else if(r>=i.viewTo){var o=ve(t,n,n,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):de(t)}else{var a=ve(t,n,n,-1),f=ve(t,r,r+e,1);a&&f?(i.view=i.view.slice(0,a.index).concat(ur(t,a.lineN,f.lineN)).concat(i.view.slice(f.index)),i.viewTo+=e):de(t)}var s=i.externalMeasured;s&&(r<s.lineN?s.lineN+=e:n<s.lineN+s.size&&(i.externalMeasured=null))}function he(t,n,r){t.curOp.viewChanged=!0;var e=t.display,i=t.display.externalMeasured;if(i&&n>=i.lineN&&n<i.lineN+i.size&&(e.externalMeasured=null),!(n<e.viewFrom||n>=e.viewTo)){var u=e.view[le(t,n)];if(null!=u.node){var o=u.changes||(u.changes=[]);-1==O(o,r)&&o.push(r)}}}function de(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function ve(t,n,r,e){var i,u=le(t,n),o=t.display.view;if(!yn||r==t.doc.first+t.doc.size)return{index:u,lineN:r};for(var a=t.display.viewFrom,f=0;f<u;f++)a+=o[f].size;if(a!=n){if(e>0){if(u==o.length-1)return null;i=a+o[u].size-n,u++}else i=a-n;n+=i,r+=i}for(;On(t.doc,r)!=r;){if(u==(e<0?0:o.length-1))return null;r+=e*o[u-(e<0?1:0)].size,u+=e}return{index:u,lineN:r}}function me(t){for(var n=t.display.view,r=0,e=0;e<n.length;e++){var i=n[e];i.hidden||i.node&&!i.changes||++r}return r}function pe(t){t.display.input.showSelection(t.display.input.prepareSelection())}function ge(t,n){void 0===n&&(n=!0);for(var r=t.doc,e={},i=e.cursors=document.createDocumentFragment(),u=e.selection=document.createDocumentFragment(),o=0;o<r.sel.ranges.length;o++)if(n||o!=r.sel.primIndex){var a=r.sel.ranges[o];if(!(a.from().line>=t.display.viewTo||a.to().line<t.display.viewFrom)){var f=a.empty();(f||t.options.showCursorWhenSelecting)&&De(t,a.head,i),f||xe(t,a,u)}}return e}function De(t,n,r){var e=Zr(t,n,"div",null,null,!t.options.singleCursorHeightPerLine),i=r.appendChild(S("div"," ","CodeMirror-cursor"));if(i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.height=Math.max(0,e.bottom-e.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var u=Gr(t,n,"div",null,null);u.right-u.left>0&&(i.style.width=u.right-u.left+"px")}if(e.other){var o=r.appendChild(S("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=e.other.left+"px",o.style.top=e.other.top+"px",o.style.height=.85*(e.other.bottom-e.other.top)+"px"}}function be(t,n){return t.top-n.top||t.left-n.left}function xe(t,n,r){var e=t.display,i=t.doc,u=document.createDocumentFragment(),o=Er(t.display),a=o.left,f=Math.max(e.sizerWidth,kr(t)-e.sizer.offsetLeft)-o.right,s="ltr"==i.direction;function l(t,n,r,e){n<0&&(n=0),n=Math.round(n),e=Math.round(e),u.appendChild(S("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+n+"px; width: "+(null==r?f-t:r)+"px;\n                             height: "+(e-n)+"px"))}function c(n,r,e){var u,o,c=Gt(i,n),h=c.text.length;function d(r,e){return Gr(t,tn(n,r),"div",c,e)}function v(n,r,e){var i=Jr(t,c,null,n),u="ltr"==r==("after"==e)?"left":"right";return d("after"==e?i.begin:i.end-(/\s/.test(c.text.charAt(i.end-1))?2:1),u)[u]}var m=st(c,i.direction);return function(t,n,r,e){if(!t)return e(n,r,"ltr",0);for(var i=!1,u=0;u<t.length;++u){var o=t[u];(o.from<r&&o.to>n||n==r&&o.to==n)&&(e(Math.max(o.from,n),Math.min(o.to,r),1==o.level?"rtl":"ltr",u),i=!0)}i||e(n,r,"ltr")}(m,r||0,null==e?h:e,(function(t,n,i,c){var p="ltr"==i,g=d(t,p?"left":"right"),D=d(n-1,p?"right":"left"),b=null==r&&0==t,x=null==e&&n==h,w=0==c,C=!m||c==m.length-1;if(D.top-g.top<=3){var y=(s?b:x)&&w?a:(p?g:D).left;l(y,g.top,((s?x:b)&&C?f:(p?D:g).right)-y,g.bottom)}else{var A,E,F,k;p?(A=s&&b&&w?a:g.left,E=s?f:v(t,i,"before"),F=s?a:v(n,i,"after"),k=s&&x&&C?f:D.right):(A=s?v(t,i,"before"):a,E=!s&&b&&w?f:g.right,F=!s&&x&&C?a:D.left,k=s?v(n,i,"after"):f),l(A,g.top,E-A,g.bottom),g.bottom<D.top&&l(a,g.bottom,null,D.top),l(F,D.top,k-F,D.bottom)}(!u||be(g,u)<0)&&(u=g),be(D,u)<0&&(u=D),(!o||be(g,o)<0)&&(o=g),be(D,o)<0&&(o=D)})),{start:u,end:o}}var h=n.from(),d=n.to();if(h.line==d.line)c(h.line,h.ch,d.ch);else{var v=Gt(i,h.line),m=Gt(i,d.line),p=Rn(v)==Rn(m),g=c(h.line,h.ch,p?v.text.length+1:null).end,D=c(d.line,p?0:null,d.ch).start;p&&(g.top<D.top-2?(l(g.right,g.top,null,g.bottom),l(a,D.top,D.left,D.bottom)):l(g.right,g.top,D.left-g.right,g.bottom)),g.bottom<D.top&&l(a,g.bottom,null,D.top)}r.appendChild(u)}function we(t){if(t.state.focused){var n=t.display;clearInterval(n.blinker);var r=!0;n.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?n.blinker=setInterval((function(){t.hasFocus()||Ee(t),n.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function Ce(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Ae(t))}function ye(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Ee(t))}),100)}function Ae(t,n){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(vt(t,"focus",t,n),t.state.focused=!0,_(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),f&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),we(t))}function Ee(t,n){t.state.delayingBlurEvent||(t.state.focused&&(vt(t,"blur",t,n),t.state.focused=!1,F(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Fe(t){for(var n=t.display,r=n.lineDiv.offsetTop,e=Math.max(0,n.scroller.getBoundingClientRect().top),i=n.lineDiv.getBoundingClientRect().top,u=0,f=0;f<n.view.length;f++){var s=n.view[f],l=t.options.lineWrapping,c=void 0,h=0;if(!s.hidden){if(i+=s.line.height,o&&a<8){var d=s.node.offsetTop+s.node.offsetHeight;c=d-r,r=d}else{var v=s.node.getBoundingClientRect();c=v.bottom-v.top,!l&&s.text.firstChild&&(h=s.text.firstChild.getBoundingClientRect().right-v.left-1)}var m=s.line.height-c;if((m>.005||m<-.005)&&(i<e&&(u-=m),Vt(s.line,c),ke(s.line),s.rest))for(var p=0;p<s.rest.length;p++)ke(s.rest[p]);if(h>t.display.sizerWidth){var g=Math.ceil(h/ie(t.display));g>t.display.maxLineLength&&(t.display.maxLineLength=g,t.display.maxLine=s.line,t.display.maxLineChanged=!0)}}}Math.abs(u)>2&&(n.scroller.scrollTop+=u)}function ke(t){if(t.widgets)for(var n=0;n<t.widgets.length;++n){var r=t.widgets[n],e=r.node.parentNode;e&&(r.height=e.offsetHeight)}}function Me(t,n,r){var e=r&&null!=r.top?Math.max(0,r.top):t.scroller.scrollTop;e=Math.floor(e-yr(t));var i=r&&null!=r.bottom?r.bottom:e+t.wrapper.clientHeight,u=Qt(n,e),o=Qt(n,i);if(r&&r.ensure){var a=r.ensure.from.line,f=r.ensure.to.line;a<u?(u=a,o=Qt(n,Hn(Gt(n,a))+t.wrapper.clientHeight)):Math.min(f,n.lastLine())>=o&&(u=Qt(n,Hn(Gt(n,f))-t.wrapper.clientHeight),o=f)}return{from:u,to:Math.max(o,u+1)}}function Se(t,n){var r=t.display,e=ee(t.display);n.top<0&&(n.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:r.scroller.scrollTop,u=Mr(t),o={};n.bottom-n.top>u&&(n.bottom=n.top+u);var a=t.doc.height+Ar(r),f=n.bottom>a-e;if(n.top<i)o.scrollTop=n.top<e?0:n.top;else if(n.bottom>i+u){var s=Math.min(n.top,(f?a:n.bottom)-u);s!=i&&(o.scrollTop=s)}var l=t.options.fixedGutter?0:r.gutters.offsetWidth,c=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:r.scroller.scrollLeft-l,h=kr(t)-r.gutters.offsetWidth,d=n.right-n.left>h;return d&&(n.right=n.left+h),n.left<10?o.scrollLeft=0:n.left<c?o.scrollLeft=Math.max(0,n.left+l-(d?0:10)):n.right>h+c-3&&(o.scrollLeft=n.right+(d?0:10)-h),o}function Be(t,n){null!=n&&(_e(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Le(t){_e(t);var n=t.getCursor();t.curOp.scrollToPos={from:n,to:n,margin:t.options.cursorScrollMargin}}function Te(t,n,r){null==n&&null==r||_e(t),null!=n&&(t.curOp.scrollLeft=n),null!=r&&(t.curOp.scrollTop=r)}function _e(t){var n=t.curOp.scrollToPos;n&&(t.curOp.scrollToPos=null,Ne(t,Xr(t,n.from),Xr(t,n.to),n.margin))}function Ne(t,n,r,e){var i=Se(t,{left:Math.min(n.left,r.left),top:Math.min(n.top,r.top)-e,right:Math.max(n.right,r.right),bottom:Math.max(n.bottom,r.bottom)+e});Te(t,i.scrollLeft,i.scrollTop)}function ze(t,n){Math.abs(t.doc.scrollTop-n)<2||(r||fi(t,{top:n}),je(t,n,!0),r&&fi(t),ei(t,100))}function je(t,n,r){n=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,n)),(t.display.scroller.scrollTop!=n||r)&&(t.doc.scrollTop=n,t.display.scrollbars.setScrollTop(n),t.display.scroller.scrollTop!=n&&(t.display.scroller.scrollTop=n))}function Ie(t,n,r,e){n=Math.max(0,Math.min(n,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(r?n==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-n)<2)&&!e||(t.doc.scrollLeft=n,ci(t),t.display.scroller.scrollLeft!=n&&(t.display.scroller.scrollLeft=n),t.display.scrollbars.setScrollLeft(n))}function $e(t){var n=t.display,r=n.gutters.offsetWidth,e=Math.round(t.doc.height+Ar(t.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:t.options.fixedGutter?r:0,docHeight:e,scrollHeight:e+Fr(t)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:r}}var Re=function(t,n,r){this.cm=r;var e=this.vert=S("div",[S("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=S("div",[S("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e.tabIndex=i.tabIndex=-1,t(e),t(i),ct(e,"scroll",(function(){e.clientHeight&&n(e.scrollTop,"vertical")})),ct(i,"scroll",(function(){i.clientWidth&&n(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Re.prototype.update=function(t){var n=t.scrollWidth>t.clientWidth+1,r=t.scrollHeight>t.clientHeight+1,e=t.nativeBarWidth;return r?(this.vert.style.display="block",this.vert.style.bottom=n?e+"px":"0",this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+(t.viewHeight-(n?e:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),n?(this.horiz.style.display="block",this.horiz.style.right=r?e+"px":"0",this.horiz.style.left=t.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+(t.viewWidth-t.barLeft-(r?e:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&t.clientHeight>0&&(0==e&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?e:0,bottom:n?e:0}},Re.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Re.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Re.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=D&&!d?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new R,this.disableVert=new R},Re.prototype.enableZeroWidthBar=function(t,n,r){t.style.pointerEvents="auto",n.set(1e3,(function e(){var i=t.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.pointerEvents="none":n.set(1e3,e)}))},Re.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Oe=function(){};function qe(t,n){n||(n=$e(t));var r=t.display.barWidth,e=t.display.barHeight;Pe(t,n);for(var i=0;i<4&&r!=t.display.barWidth||e!=t.display.barHeight;i++)r!=t.display.barWidth&&t.options.lineWrapping&&Fe(t),Pe(t,$e(t)),r=t.display.barWidth,e=t.display.barHeight}function Pe(t,n){var r=t.display,e=r.scrollbars.update(n);r.sizer.style.paddingRight=(r.barWidth=e.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=e.bottom)+"px",r.heightForcer.style.borderBottom=e.bottom+"px solid transparent",e.right&&e.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=e.bottom+"px",r.scrollbarFiller.style.width=e.right+"px"):r.scrollbarFiller.style.display="",e.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=e.bottom+"px",r.gutterFiller.style.width=n.gutterWidth+"px"):r.gutterFiller.style.display=""}Oe.prototype.update=function(){return{bottom:0,right:0}},Oe.prototype.setScrollLeft=function(){},Oe.prototype.setScrollTop=function(){},Oe.prototype.clear=function(){};var Ue={native:Re,null:Oe};function He(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&F(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Ue[t.options.scrollbarStyle]((function(n){t.display.wrapper.insertBefore(n,t.display.scrollbarFiller),ct(n,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),n.setAttribute("cm-not-content","true")}),(function(n,r){"horizontal"==r?Ie(t,n):ze(t,n)}),t),t.display.scrollbars.addClass&&_(t.display.wrapper,t.display.scrollbars.addClass)}var We=0;function Ge(t){var n;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++We,markArrays:null},n=t.curOp,or?or.ops.push(n):n.ownsGroup=or={ops:[n],delayedCallbacks:[]}}function Ze(t){var n=t.curOp;n&&function(t,n){var r=t.ownsGroup;if(r)try{!function(t){var n=t.delayedCallbacks,r=0;do{for(;r<n.length;r++)n[r].call(null);for(var e=0;e<t.ops.length;e++){var i=t.ops[e];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<n.length)}(r)}finally{or=null,n(r)}}(n,(function(t){for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(t){for(var n=t.ops,r=0;r<n.length;r++)Xe(n[r]);for(var e=0;e<n.length;e++)Ve(n[e]);for(var i=0;i<n.length;i++)Ke(n[i]);for(var u=0;u<n.length;u++)Qe(n[u]);for(var o=0;o<n.length;o++)Je(n[o])}(t)}))}function Xe(t){var n=t.cm,r=n.display;(function(t){var n=t.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=Fr(t)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=Fr(t)+"px",n.scrollbarsClipped=!0)})(n),t.updateMaxLine&&Gn(n),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<r.viewFrom||t.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&n.options.lineWrapping,t.update=t.mustUpdate&&new ui(n,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ve(t){t.updatedDisplay=t.mustUpdate&&oi(t.cm,t.update)}function Ke(t){var n=t.cm,r=n.display;t.updatedDisplay&&Fe(n),t.barMeasure=$e(n),r.maxLineChanged&&!n.options.lineWrapping&&(t.adjustWidthTo=Br(n,r.maxLine,r.maxLine.text.length).left+3,n.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+t.adjustWidthTo+Fr(n)+n.display.barWidth),t.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+t.adjustWidthTo-kr(n))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=r.input.prepareSelection())}function Qe(t){var n=t.cm;null!=t.adjustWidthTo&&(n.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<n.doc.scrollLeft&&Ie(n,Math.min(n.display.scroller.scrollLeft,t.maxScrollLeft),!0),n.display.maxLineChanged=!1);var r=t.focus&&t.focus==T();t.preparedSelection&&n.display.input.showSelection(t.preparedSelection,r),(t.updatedDisplay||t.startHeight!=n.doc.height)&&qe(n,t.barMeasure),t.updatedDisplay&&li(n,t.barMeasure),t.selectionChanged&&we(n),n.state.focused&&t.updateInput&&n.display.input.reset(t.typing),r&&Ce(t.cm)}function Je(t){var n=t.cm,r=n.display,e=n.doc;t.updatedDisplay&&ai(n,t.update),null==r.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=t.scrollTop&&je(n,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Ie(n,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,n){if(!mt(t,"scrollCursorIntoView")){var r=t.display,e=r.sizer.getBoundingClientRect(),i=null;if(n.top+e.top<0?i=!0:n.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!v){var u=S("div","​",null,"position: absolute;\n                         top: "+(n.top-r.viewOffset-yr(t.display))+"px;\n                         height: "+(n.bottom-n.top+Fr(t)+r.barHeight)+"px;\n                         left: "+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");t.display.lineSpace.appendChild(u),u.scrollIntoView(i),t.display.lineSpace.removeChild(u)}}}(n,function(t,n,r,e){var i;null==e&&(e=0),t.options.lineWrapping||n!=r||(r="before"==n.sticky?tn(n.line,n.ch+1,"before"):n,n=n.ch?tn(n.line,"before"==n.sticky?n.ch-1:n.ch,"after"):n);for(var u=0;u<5;u++){var o=!1,a=Zr(t,n),f=r&&r!=n?Zr(t,r):a,s=Se(t,i={left:Math.min(a.left,f.left),top:Math.min(a.top,f.top)-e,right:Math.max(a.left,f.left),bottom:Math.max(a.bottom,f.bottom)+e}),l=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=s.scrollTop&&(ze(t,s.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(o=!0)),null!=s.scrollLeft&&(Ie(t,s.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return i}(n,fn(e,t.scrollToPos.from),fn(e,t.scrollToPos.to),t.scrollToPos.margin));var i=t.maybeHiddenMarkers,u=t.maybeUnhiddenMarkers;if(i)for(var o=0;o<i.length;++o)i[o].lines.length||vt(i[o],"hide");if(u)for(var a=0;a<u.length;++a)u[a].lines.length&&vt(u[a],"unhide");r.wrapper.offsetHeight&&(e.scrollTop=n.display.scroller.scrollTop),t.changeObjs&&vt(n,"changes",n,t.changeObjs),t.update&&t.update.finish()}function Ye(t,n){if(t.curOp)return n();Ge(t);try{return n()}finally{Ze(t)}}function ti(t,n){return function(){if(t.curOp)return n.apply(t,arguments);Ge(t);try{return n.apply(t,arguments)}finally{Ze(t)}}}function ni(t){return function(){if(this.curOp)return t.apply(this,arguments);Ge(this);try{return t.apply(this,arguments)}finally{Ze(this)}}}function ri(t){return function(){var n=this.cm;if(!n||n.curOp)return t.apply(this,arguments);Ge(n);try{return t.apply(this,arguments)}finally{Ze(n)}}}function ei(t,n){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(n,j(ii,t))}function ii(t){var n=t.doc;if(!(n.highlightFrontier>=t.display.viewTo)){var r=+new Date+t.options.workTime,e=vn(t,n.highlightFrontier),i=[];n.iter(e.line,Math.min(n.first+n.size,t.display.viewTo+500),(function(u){if(e.line>=t.display.viewFrom){var o=u.styles,a=u.text.length>t.options.maxHighlightLength?Pt(n.mode,e.state):null,f=hn(t,u,e,!0);a&&(e.state=a),u.styles=f.styles;var s=u.styleClasses,l=f.classes;l?u.styleClasses=l:s&&(u.styleClasses=null);for(var c=!o||o.length!=u.styles.length||s!=l&&(!s||!l||s.bgClass!=l.bgClass||s.textClass!=l.textClass),h=0;!c&&h<o.length;++h)c=o[h]!=u.styles[h];c&&i.push(e.line),u.stateAfter=e.save(),e.nextLine()}else u.text.length<=t.options.maxHighlightLength&&mn(t,u.text,e),u.stateAfter=e.line%5==0?e.save():null,e.nextLine();if(+new Date>r)return ei(t,t.options.workDelay),!0})),n.highlightFrontier=e.line,n.modeFrontier=Math.max(n.modeFrontier,e.line),i.length&&Ye(t,(function(){for(var n=0;n<i.length;n++)he(t,i[n],"text")}))}}var ui=function(t,n,r){var e=t.display;this.viewport=n,this.visible=Me(e,t.doc,n),this.editorIsHidden=!e.wrapper.offsetWidth,this.wrapperHeight=e.wrapper.clientHeight,this.wrapperWidth=e.wrapper.clientWidth,this.oldDisplayWidth=kr(t),this.force=r,this.dims=ue(t),this.events=[]};function oi(t,n){var r=t.display,e=t.doc;if(n.editorIsHidden)return de(t),!1;if(!n.force&&n.visible.from>=r.viewFrom&&n.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==me(t))return!1;hi(t)&&(de(t),n.dims=ue(t));var i=e.first+e.size,u=Math.max(n.visible.from-t.options.viewportMargin,e.first),o=Math.min(i,n.visible.to+t.options.viewportMargin);r.viewFrom<u&&u-r.viewFrom<20&&(u=Math.max(e.first,r.viewFrom)),r.viewTo>o&&r.viewTo-o<20&&(o=Math.min(i,r.viewTo)),yn&&(u=On(t.doc,u),o=qn(t.doc,o));var a=u!=r.viewFrom||o!=r.viewTo||r.lastWrapHeight!=n.wrapperHeight||r.lastWrapWidth!=n.wrapperWidth;(function(t,n,r){var e=t.display;0==e.view.length||n>=e.viewTo||r<=e.viewFrom?(e.view=ur(t,n,r),e.viewFrom=n):(e.viewFrom>n?e.view=ur(t,n,e.viewFrom).concat(e.view):e.viewFrom<n&&(e.view=e.view.slice(le(t,n))),e.viewFrom=n,e.viewTo<r?e.view=e.view.concat(ur(t,e.viewTo,r)):e.viewTo>r&&(e.view=e.view.slice(0,le(t,r)))),e.viewTo=r})(t,u,o),r.viewOffset=Hn(Gt(t.doc,r.viewFrom)),t.display.mover.style.top=r.viewOffset+"px";var s=me(t);if(!a&&0==s&&!n.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var l=function(t){if(t.hasFocus())return null;var n=T();if(!n||!L(t.display.lineDiv,n))return null;var r={activeElt:n};if(window.getSelection){var e=window.getSelection();e.anchorNode&&e.extend&&L(t.display.lineDiv,e.anchorNode)&&(r.anchorNode=e.anchorNode,r.anchorOffset=e.anchorOffset,r.focusNode=e.focusNode,r.focusOffset=e.focusOffset)}return r}(t);return s>4&&(r.lineDiv.style.display="none"),function(t,n,r){var e=t.display,i=t.options.lineNumbers,u=e.lineDiv,o=u.firstChild;function a(n){var r=n.nextSibling;return f&&D&&t.display.currentWheelTarget==n?n.style.display="none":n.parentNode.removeChild(n),r}for(var s=e.view,l=e.viewFrom,c=0;c<s.length;c++){var h=s[c];if(h.hidden);else if(h.node&&h.node.parentNode==u){for(;o!=h.node;)o=a(o);var d=i&&null!=n&&n<=l&&h.lineNumber;h.changes&&(O(h.changes,"gutter")>-1&&(d=!1),lr(t,h,l,r)),d&&(k(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Yt(t.options,l)))),o=h.node.nextSibling}else{var v=gr(t,h,l,r);u.insertBefore(v,o)}l+=h.size}for(;o;)o=a(o)}(t,r.updateLineNumbers,n.dims),s>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(t){if(t&&t.activeElt&&t.activeElt!=T()&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&L(document.body,t.anchorNode)&&L(document.body,t.focusNode))){var n=window.getSelection(),r=document.createRange();r.setEnd(t.anchorNode,t.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(t.focusNode,t.focusOffset)}}(l),k(r.cursorDiv),k(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,a&&(r.lastWrapHeight=n.wrapperHeight,r.lastWrapWidth=n.wrapperWidth,ei(t,400)),r.updateLineNumbers=null,!0}function ai(t,n){for(var r=n.viewport,e=!0;;e=!1){if(e&&t.options.lineWrapping&&n.oldDisplayWidth!=kr(t))e&&(n.visible=Me(t.display,t.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(t.doc.height+Ar(t.display)-Mr(t),r.top)}),n.visible=Me(t.display,t.doc,r),n.visible.from>=t.display.viewFrom&&n.visible.to<=t.display.viewTo)break;if(!oi(t,n))break;Fe(t);var i=$e(t);pe(t),qe(t,i),li(t,i),n.force=!1}n.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(n.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function fi(t,n){var r=new ui(t,n);if(oi(t,r)){Fe(t),ai(t,r);var e=$e(t);pe(t),qe(t,e),li(t,e),r.finish()}}function si(t){t.sizer.style.marginLeft=t.gutters.offsetWidth+"px",fr(t,"gutterChanged",t)}function li(t,n){t.display.sizer.style.minHeight=n.docHeight+"px",t.display.heightForcer.style.top=n.docHeight+"px",t.display.gutters.style.height=n.docHeight+t.display.barHeight+Fr(t)+"px"}function ci(t){var n=t.display,r=n.view;if(n.alignWidgets||n.gutters.firstChild&&t.options.fixedGutter){for(var e=oe(n)-n.scroller.scrollLeft+t.doc.scrollLeft,i=n.gutters.offsetWidth,u=e+"px",o=0;o<r.length;o++)if(!r[o].hidden){t.options.fixedGutter&&(r[o].gutter&&(r[o].gutter.style.left=u),r[o].gutterBackground&&(r[o].gutterBackground.style.left=u));var a=r[o].alignable;if(a)for(var f=0;f<a.length;f++)a[f].style.left=u}t.options.fixedGutter&&(n.gutters.style.left=e+i+"px")}}function hi(t){if(!t.options.lineNumbers)return!1;var n=t.doc,r=Yt(t.options,n.first+n.size-1),e=t.display;if(r.length!=e.lineNumChars){var i=e.measure.appendChild(S("div",[S("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),u=i.firstChild.offsetWidth,o=i.offsetWidth-u;return e.lineGutter.style.width="",e.lineNumInnerWidth=Math.max(u,e.lineGutter.offsetWidth-o)+1,e.lineNumWidth=e.lineNumInnerWidth+o,e.lineNumChars=e.lineNumInnerWidth?r.length:-1,e.lineGutter.style.width=e.lineNumWidth+"px",si(t.display),!0}return!1}function di(t,n){for(var r=[],e=!1,i=0;i<t.length;i++){var u=t[i],o=null;if("string"!=typeof u&&(o=u.style,u=u.className),"CodeMirror-linenumbers"==u){if(!n)continue;e=!0}r.push({className:u,style:o})}return n&&!e&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function vi(t){var n=t.gutters,r=t.gutterSpecs;k(n),t.lineGutter=null;for(var e=0;e<r.length;++e){var i=r[e],u=i.className,o=i.style,a=n.appendChild(S("div",null,"CodeMirror-gutter "+u));o&&(a.style.cssText=o),"CodeMirror-linenumbers"==u&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}n.style.display=r.length?"":"none",si(t)}function mi(t){vi(t.display),ce(t),ci(t)}function pi(t,n,e,i){var u=this;this.input=e,u.scrollbarFiller=S("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=S("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=B("div",null,"CodeMirror-code"),u.selectionDiv=S("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=S("div",null,"CodeMirror-cursors"),u.measure=S("div",null,"CodeMirror-measure"),u.lineMeasure=S("div",null,"CodeMirror-measure"),u.lineSpace=B("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var s=B("div",[u.lineSpace],"CodeMirror-lines");u.mover=S("div",[s],null,"position: relative"),u.sizer=S("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=S("div",null,null,"position: absolute; height: 50px; width: 1px;"),u.gutters=S("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=S("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=S("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),u.wrapper.setAttribute("translate","no"),o&&a<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),f||r&&g||(u.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(u.wrapper):t(u.wrapper)),u.viewFrom=u.viewTo=n.first,u.reportedViewFrom=u.reportedViewTo=n.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=di(i.gutters,i.lineNumbers),vi(u),e.init(u)}ui.prototype.signal=function(t,n){gt(t,n)&&this.events.push(arguments)},ui.prototype.finish=function(){for(var t=0;t<this.events.length;t++)vt.apply(null,this.events[t])};var gi=0,Di=null;function bi(t){var n=t.wheelDeltaX,r=t.wheelDeltaY;return null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta),{x:n,y:r}}function xi(t){var n=bi(t);return n.x*=Di,n.y*=Di,n}function wi(t,n){var e=bi(n),i=e.x,u=e.y,o=Di;0===n.deltaMode&&(i=n.deltaX,u=n.deltaY,o=1);var a=t.display,s=a.scroller,l=s.scrollHeight>s.clientHeight;if(i&&s.scrollWidth>s.clientWidth||u&&l){if(u&&D&&f)t:for(var h=n.target,d=a.view;h!=s;h=h.parentNode)for(var v=0;v<d.length;v++)if(d[v].node==h){t.display.currentWheelTarget=h;break t}if(i&&!r&&!c&&null!=o)return u&&l&&ze(t,Math.max(0,s.scrollTop+u*o)),Ie(t,Math.max(0,s.scrollLeft+i*o)),(!u||u&&l)&&bt(n),void(a.wheelStartX=null);if(u&&null!=o){var m=u*o,p=t.doc.scrollTop,g=p+a.wrapper.clientHeight;m<0?p=Math.max(0,p+m-50):g=Math.min(t.doc.height,g+m+50),fi(t,{top:p,bottom:g})}gi<20&&0!==n.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=u,setTimeout((function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,n=s.scrollTop-a.wheelStartY,r=n&&a.wheelDY&&n/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,r&&(Di=(Di*gi+r)/(gi+1),++gi)}}),200)):(a.wheelDX+=i,a.wheelDY+=u))}}o?Di=-.53:r?Di=15:l?Di=-.7:h&&(Di=-1/3);var Ci=function(t,n){this.ranges=t,this.primIndex=n};Ci.prototype.primary=function(){return this.ranges[this.primIndex]},Ci.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n],e=t.ranges[n];if(!rn(r.anchor,e.anchor)||!rn(r.head,e.head))return!1}return!0},Ci.prototype.deepCopy=function(){for(var t=[],n=0;n<this.ranges.length;n++)t[n]=new yi(en(this.ranges[n].anchor),en(this.ranges[n].head));return new Ci(t,this.primIndex)},Ci.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Ci.prototype.contains=function(t,n){n||(n=t);for(var r=0;r<this.ranges.length;r++){var e=this.ranges[r];if(nn(n,e.from())>=0&&nn(t,e.to())<=0)return r}return-1};var yi=function(t,n){this.anchor=t,this.head=n};function Ai(t,n,r){var e=t&&t.options.selectionsMayTouch,i=n[r];n.sort((function(t,n){return nn(t.from(),n.from())})),r=O(n,i);for(var u=1;u<n.length;u++){var o=n[u],a=n[u-1],f=nn(a.to(),o.from());if(e&&!o.empty()?f>0:f>=0){var s=on(a.from(),o.from()),l=un(a.to(),o.to()),c=a.empty()?o.from()==o.head:a.from()==a.head;u<=r&&--r,n.splice(--u,2,new yi(c?l:s,c?s:l))}}return new Ci(n,r)}function Ei(t,n){return new Ci([new yi(t,n||t)],0)}function Fi(t){return t.text?tn(t.from.line+t.text.length-1,X(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function ki(t,n){if(nn(t,n.from)<0)return t;if(nn(t,n.to)<=0)return Fi(n);var r=t.line+n.text.length-(n.to.line-n.from.line)-1,e=t.ch;return t.line==n.to.line&&(e+=Fi(n).ch-n.to.ch),tn(r,e)}function Mi(t,n){for(var r=[],e=0;e<t.sel.ranges.length;e++){var i=t.sel.ranges[e];r.push(new yi(ki(i.anchor,n),ki(i.head,n)))}return Ai(t.cm,r,t.sel.primIndex)}function Si(t,n,r){return t.line==n.line?tn(r.line,t.ch-n.ch+r.ch):tn(r.line+(t.line-n.line),t.ch)}function Bi(t){t.doc.mode=Rt(t.options,t.doc.modeOption),Li(t)}function Li(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ei(t,100),t.state.modeGen++,t.curOp&&ce(t)}function Ti(t,n){return 0==n.from.ch&&0==n.to.ch&&""==X(n.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function _i(t,n,r,e){function i(t){return r?r[t]:null}function u(t,r,i){(function(t,n,r,e){t.text=n,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Sn(t),Bn(t,r);var i=e?e(t):1;i!=t.height&&Vt(t,i)})(t,r,i,e),fr(t,"change",t,n)}function o(t,n){for(var r=[],u=t;u<n;++u)r.push(new Zn(s[u],i(u),e));return r}var a=n.from,f=n.to,s=n.text,l=Gt(t,a.line),c=Gt(t,f.line),h=X(s),d=i(s.length-1),v=f.line-a.line;if(n.full)t.insert(0,o(0,s.length)),t.remove(s.length,t.size-s.length);else if(Ti(t,n)){var m=o(0,s.length-1);u(c,c.text,d),v&&t.remove(a.line,v),m.length&&t.insert(a.line,m)}else if(l==c)if(1==s.length)u(l,l.text.slice(0,a.ch)+h+l.text.slice(f.ch),d);else{var p=o(1,s.length-1);p.push(new Zn(h+l.text.slice(f.ch),d,e)),u(l,l.text.slice(0,a.ch)+s[0],i(0)),t.insert(a.line+1,p)}else if(1==s.length)u(l,l.text.slice(0,a.ch)+s[0]+c.text.slice(f.ch),i(0)),t.remove(a.line+1,v);else{u(l,l.text.slice(0,a.ch)+s[0],i(0)),u(c,h+c.text.slice(f.ch),d);var g=o(1,s.length-1);v>1&&t.remove(a.line+1,v-1),t.insert(a.line+1,g)}fr(t,"change",t,n)}function Ni(t,n,r){!function t(e,i,u){if(e.linked)for(var o=0;o<e.linked.length;++o){var a=e.linked[o];if(a.doc!=i){var f=u&&a.sharedHist;r&&!f||(n(a.doc,f),t(a.doc,e,f))}}}(t,null,!0)}function zi(t,n){if(n.cm)throw new Error("This document is already in use.");t.doc=n,n.cm=t,fe(t),Bi(t),ji(t),t.options.direction=n.direction,t.options.lineWrapping||Gn(t),t.options.mode=n.modeOption,ce(t)}function ji(t){("rtl"==t.doc.direction?_:F)(t.display.lineDiv,"CodeMirror-rtl")}function Ii(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function $i(t,n){var r={from:en(n.from),to:Fi(n),text:Zt(t,n.from,n.to)};return Ui(t,r,n.from.line,n.to.line+1),Ni(t,(function(t){return Ui(t,r,n.from.line,n.to.line+1)}),!0),r}function Ri(t){for(;t.length&&X(t).ranges;)t.pop()}function Oi(t,n,r,e){var i=t.history;i.undone.length=0;var u,o,a=+new Date;if((i.lastOp==e||i.lastOrigin==n.origin&&n.origin&&("+"==n.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==n.origin.charAt(0)))&&(u=function(t,n){return n?(Ri(t.done),X(t.done)):t.done.length&&!X(t.done).ranges?X(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),X(t.done)):void 0}(i,i.lastOp==e)))o=X(u.changes),0==nn(n.from,n.to)&&0==nn(n.from,o.to)?o.to=Fi(n):u.changes.push($i(t,n));else{var f=X(i.done);for(f&&f.ranges||Pi(t.sel,i.done),u={changes:[$i(t,n)],generation:i.generation},i.done.push(u);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=e,i.lastOrigin=i.lastSelOrigin=n.origin,o||vt(t,"historyAdded")}function qi(t,n,r,e){var i=t.history,u=e&&e.origin;r==i.lastSelOp||u&&i.lastSelOrigin==u&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==u||function(t,n,r,e){var i=n.charAt(0);return"*"==i||"+"==i&&r.ranges.length==e.ranges.length&&r.somethingSelected()==e.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,u,X(i.done),n))?i.done[i.done.length-1]=n:Pi(n,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=u,i.lastSelOp=r,e&&!1!==e.clearRedo&&Ri(i.undone)}function Pi(t,n){var r=X(n);r&&r.ranges&&r.equals(t)||n.push(t)}function Ui(t,n,r,e){var i=n["spans_"+t.id],u=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,e),(function(r){r.markedSpans&&((i||(i=n["spans_"+t.id]={}))[u]=r.markedSpans),++u}))}function Hi(t){if(!t)return null;for(var n,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?n||(n=t.slice(0,r)):n&&n.push(t[r]);return n?n.length?n:null:t}function Wi(t,n){var r=function(t,n){var r=n["spans_"+t.id];if(!r)return null;for(var e=[],i=0;i<n.text.length;++i)e.push(Hi(r[i]));return e}(t,n),e=kn(t,n);if(!r)return e;if(!e)return r;for(var i=0;i<r.length;++i){var u=r[i],o=e[i];if(u&&o)t:for(var a=0;a<o.length;++a){for(var f=o[a],s=0;s<u.length;++s)if(u[s].marker==f.marker)continue t;u.push(f)}else o&&(r[i]=o)}return r}function Gi(t,n,r){for(var e=[],i=0;i<t.length;++i){var u=t[i];if(u.ranges)e.push(r?Ci.prototype.deepCopy.call(u):u);else{var o=u.changes,a=[];e.push({changes:a});for(var f=0;f<o.length;++f){var s=o[f],l=void 0;if(a.push({from:s.from,to:s.to,text:s.text}),n)for(var c in s)(l=c.match(/^spans_(\d+)$/))&&O(n,Number(l[1]))>-1&&(X(a)[c]=s[c],delete s[c])}}}return e}function Zi(t,n,r,e){if(e){var i=t.anchor;if(r){var u=nn(n,i)<0;u!=nn(r,i)<0?(i=n,n=r):u!=nn(n,r)<0&&(n=r)}return new yi(i,n)}return new yi(r||n,n)}function Xi(t,n,r,e,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),Yi(t,new Ci([Zi(t.sel.primary(),n,r,i)],0),e)}function Vi(t,n,r){for(var e=[],i=t.cm&&(t.cm.display.shift||t.extend),u=0;u<t.sel.ranges.length;u++)e[u]=Zi(t.sel.ranges[u],n[u],null,i);Yi(t,Ai(t.cm,e,t.sel.primIndex),r)}function Ki(t,n,r,e){var i=t.sel.ranges.slice(0);i[n]=r,Yi(t,Ai(t.cm,i,t.sel.primIndex),e)}function Qi(t,n,r,e){Yi(t,Ei(n,r),e)}function Ji(t,n,r){var e=t.history.done,i=X(e);i&&i.ranges?(e[e.length-1]=n,tu(t,n,r)):Yi(t,n,r)}function Yi(t,n,r){tu(t,n,r),qi(t,t.sel,t.cm?t.cm.curOp.id:NaN,r)}function tu(t,n,r){(gt(t,"beforeSelectionChange")||t.cm&&gt(t.cm,"beforeSelectionChange"))&&(n=function(t,n,r){var e={ranges:n.ranges,update:function(n){this.ranges=[];for(var r=0;r<n.length;r++)this.ranges[r]=new yi(fn(t,n[r].anchor),fn(t,n[r].head))},origin:r&&r.origin};return vt(t,"beforeSelectionChange",t,e),t.cm&&vt(t.cm,"beforeSelectionChange",t.cm,e),e.ranges!=n.ranges?Ai(t.cm,e.ranges,e.ranges.length-1):n}(t,n,r));var e=r&&r.bias||(nn(n.primary().head,t.sel.primary().head)<0?-1:1);nu(t,eu(t,n,e,!0)),r&&!1===r.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||Le(t.cm)}function nu(t,n){n.equals(t.sel)||(t.sel=n,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,pt(t.cm)),fr(t,"cursorActivity",t))}function ru(t){nu(t,eu(t,t.sel,null,!1))}function eu(t,n,r,e){for(var i,u=0;u<n.ranges.length;u++){var o=n.ranges[u],a=n.ranges.length==t.sel.ranges.length&&t.sel.ranges[u],f=uu(t,o.anchor,a&&a.anchor,r,e),s=uu(t,o.head,a&&a.head,r,e);(i||f!=o.anchor||s!=o.head)&&(i||(i=n.ranges.slice(0,u)),i[u]=new yi(f,s))}return i?Ai(t.cm,i,n.primIndex):n}function iu(t,n,r,e,i){var u=Gt(t,n.line);if(u.markedSpans)for(var o=0;o<u.markedSpans.length;++o){var a=u.markedSpans[o],f=a.marker,s="selectLeft"in f?!f.selectLeft:f.inclusiveLeft,l="selectRight"in f?!f.selectRight:f.inclusiveRight;if((null==a.from||(s?a.from<=n.ch:a.from<n.ch))&&(null==a.to||(l?a.to>=n.ch:a.to>n.ch))){if(i&&(vt(f,"beforeCursorEnter"),f.explicitlyCleared)){if(u.markedSpans){--o;continue}break}if(!f.atomic)continue;if(r){var c=f.find(e<0?1:-1),h=void 0;if((e<0?l:s)&&(c=ou(t,c,-e,c&&c.line==n.line?u:null)),c&&c.line==n.line&&(h=nn(c,r))&&(e<0?h<0:h>0))return iu(t,c,n,e,i)}var d=f.find(e<0?-1:1);return(e<0?s:l)&&(d=ou(t,d,e,d.line==n.line?u:null)),d?iu(t,d,n,e,i):null}}return n}function uu(t,n,r,e,i){var u=e||1;return iu(t,n,r,u,i)||!i&&iu(t,n,r,u,!0)||iu(t,n,r,-u,i)||!i&&iu(t,n,r,-u,!0)||(t.cantEdit=!0,tn(t.first,0))}function ou(t,n,r,e){return r<0&&0==n.ch?n.line>t.first?fn(t,tn(n.line-1)):null:r>0&&n.ch==(e||Gt(t,n.line)).text.length?n.line<t.first+t.size-1?tn(n.line+1,0):null:new tn(n.line,n.ch+r)}function au(t){t.setSelection(tn(t.firstLine(),0),tn(t.lastLine()),P)}function fu(t,n,r){var e={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return e.canceled=!0}};return r&&(e.update=function(n,r,i,u){n&&(e.from=fn(t,n)),r&&(e.to=fn(t,r)),i&&(e.text=i),void 0!==u&&(e.origin=u)}),vt(t,"beforeChange",t,e),t.cm&&vt(t.cm,"beforeChange",t.cm,e),e.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:e.from,to:e.to,text:e.text,origin:e.origin}}function su(t,n,r){if(t.cm){if(!t.cm.curOp)return ti(t.cm,su)(t,n,r);if(t.cm.state.suppressEdits)return}if(!(gt(t,"beforeChange")||t.cm&&gt(t.cm,"beforeChange"))||(n=fu(t,n,!0))){var e=Cn&&!r&&function(t,n,r){var e=null;if(t.iter(n.line,r.line+1,(function(t){if(t.markedSpans)for(var n=0;n<t.markedSpans.length;++n){var r=t.markedSpans[n].marker;!r.readOnly||e&&-1!=O(e,r)||(e||(e=[])).push(r)}})),!e)return null;for(var i=[{from:n,to:r}],u=0;u<e.length;++u)for(var o=e[u],a=o.find(0),f=0;f<i.length;++f){var s=i[f];if(!(nn(s.to,a.from)<0||nn(s.from,a.to)>0)){var l=[f,1],c=nn(s.from,a.from),h=nn(s.to,a.to);(c<0||!o.inclusiveLeft&&!c)&&l.push({from:s.from,to:a.from}),(h>0||!o.inclusiveRight&&!h)&&l.push({from:a.to,to:s.to}),i.splice.apply(i,l),f+=l.length-3}}return i}(t,n.from,n.to);if(e)for(var i=e.length-1;i>=0;--i)lu(t,{from:e[i].from,to:e[i].to,text:i?[""]:n.text,origin:n.origin});else lu(t,n)}}function lu(t,n){if(1!=n.text.length||""!=n.text[0]||0!=nn(n.from,n.to)){var r=Mi(t,n);Oi(t,n,r,t.cm?t.cm.curOp.id:NaN),du(t,n,r,kn(t,n));var e=[];Ni(t,(function(t,r){r||-1!=O(e,t.history)||(gu(t.history,n),e.push(t.history)),du(t,n,null,kn(t,n))}))}}function cu(t,n,r){var e=t.cm&&t.cm.state.suppressEdits;if(!e||r){for(var i,u=t.history,o=t.sel,a="undo"==n?u.done:u.undone,f="undo"==n?u.undone:u.done,s=0;s<a.length&&(i=a[s],r?!i.ranges||i.equals(t.sel):i.ranges);s++);if(s!=a.length){for(u.lastOrigin=u.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(e)return void a.push(i);break}if(Pi(i,f),r&&!i.equals(t.sel))return void Yi(t,i,{clearRedo:!1});o=i}var l=[];Pi(o,f),f.push({changes:l,generation:u.generation}),u.generation=i.generation||++u.maxGeneration;for(var c=gt(t,"beforeChange")||t.cm&&gt(t.cm,"beforeChange"),h=function(r){var e=i.changes[r];if(e.origin=n,c&&!fu(t,e,!1))return a.length=0,{};l.push($i(t,e));var u=r?Mi(t,e):X(a);du(t,e,u,Wi(t,e)),!r&&t.cm&&t.cm.scrollIntoView({from:e.from,to:Fi(e)});var o=[];Ni(t,(function(t,n){n||-1!=O(o,t.history)||(gu(t.history,e),o.push(t.history)),du(t,e,null,Wi(t,e))}))},d=i.changes.length-1;d>=0;--d){var v=h(d);if(v)return v.v}}}}function hu(t,n){if(0!=n&&(t.first+=n,t.sel=new Ci(V(t.sel.ranges,(function(t){return new yi(tn(t.anchor.line+n,t.anchor.ch),tn(t.head.line+n,t.head.ch))})),t.sel.primIndex),t.cm)){ce(t.cm,t.first,t.first-n,n);for(var r=t.cm.display,e=r.viewFrom;e<r.viewTo;e++)he(t.cm,e,"gutter")}}function du(t,n,r,e){if(t.cm&&!t.cm.curOp)return ti(t.cm,du)(t,n,r,e);if(n.to.line<t.first)hu(t,n.text.length-1-(n.to.line-n.from.line));else if(!(n.from.line>t.lastLine())){if(n.from.line<t.first){var i=n.text.length-1-(t.first-n.from.line);hu(t,i),n={from:tn(t.first,0),to:tn(n.to.line+i,n.to.ch),text:[X(n.text)],origin:n.origin}}var u=t.lastLine();n.to.line>u&&(n={from:n.from,to:tn(u,Gt(t,u).text.length),text:[n.text[0]],origin:n.origin}),n.removed=Zt(t,n.from,n.to),r||(r=Mi(t,n)),t.cm?function(t,n,r){var e=t.doc,i=t.display,u=n.from,o=n.to,a=!1,f=u.line;t.options.lineWrapping||(f=Kt(Rn(Gt(e,u.line))),e.iter(f,o.line+1,(function(t){if(t==i.maxLine)return a=!0,!0}))),e.sel.contains(n.from,n.to)>-1&&pt(t),_i(e,n,r,ae(t)),t.options.lineWrapping||(e.iter(f,u.line+n.text.length,(function(t){var n=Wn(t);n>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=n,i.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),function(t,n){if(t.modeFrontier=Math.min(t.modeFrontier,n),!(t.highlightFrontier<n-10)){for(var r=t.first,e=n-1;e>r;e--){var i=Gt(t,e).stateAfter;if(i&&(!(i instanceof ln)||e+i.lookAhead<n)){r=e+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,r)}}(e,u.line),ei(t,400);var s=n.text.length-(o.line-u.line)-1;n.full?ce(t):u.line!=o.line||1!=n.text.length||Ti(t.doc,n)?ce(t,u.line,o.line+1,s):he(t,u.line,"text");var l=gt(t,"changes"),c=gt(t,"change");if(c||l){var h={from:u,to:o,text:n.text,removed:n.removed,origin:n.origin};c&&fr(t,"change",t,h),l&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,n,e):_i(t,n,e),tu(t,r,P),t.cantEdit&&uu(t,tn(t.firstLine(),0))&&(t.cantEdit=!1)}}function vu(t,n,r,e,i){var u;e||(e=r),nn(e,r)<0&&(r=(u=[e,r])[0],e=u[1]),"string"==typeof n&&(n=t.splitLines(n)),su(t,{from:r,to:e,text:n,origin:i})}function mu(t,n,r,e){r<t.line?t.line+=e:n<t.line&&(t.line=n,t.ch=0)}function pu(t,n,r,e){for(var i=0;i<t.length;++i){var u=t[i],o=!0;if(u.ranges){u.copied||((u=t[i]=u.deepCopy()).copied=!0);for(var a=0;a<u.ranges.length;a++)mu(u.ranges[a].anchor,n,r,e),mu(u.ranges[a].head,n,r,e)}else{for(var f=0;f<u.changes.length;++f){var s=u.changes[f];if(r<s.from.line)s.from=tn(s.from.line+e,s.from.ch),s.to=tn(s.to.line+e,s.to.ch);else if(n<=s.to.line){o=!1;break}}o||(t.splice(0,i+1),i=0)}}}function gu(t,n){var r=n.from.line,e=n.to.line,i=n.text.length-(e-r)-1;pu(t.done,r,e,i),pu(t.undone,r,e,i)}function Du(t,n,r,e){var i=n,u=n;return"number"==typeof n?u=Gt(t,an(t,n)):i=Kt(n),null==i?null:(e(u,i)&&t.cm&&he(t.cm,i,r),u)}function bu(t){this.lines=t,this.parent=null;for(var n=0,r=0;r<t.length;++r)t[r].parent=this,n+=t[r].height;this.height=n}function xu(t){this.children=t;for(var n=0,r=0,e=0;e<t.length;++e){var i=t[e];n+=i.chunkSize(),r+=i.height,i.parent=this}this.size=n,this.height=r,this.parent=null}yi.prototype.from=function(){return on(this.anchor,this.head)},yi.prototype.to=function(){return un(this.anchor,this.head)},yi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},bu.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,n){for(var r=t,e=t+n;r<e;++r){var i=this.lines[r];this.height-=i.height,Xn(i),fr(i,"delete")}this.lines.splice(t,n)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,n,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(n).concat(this.lines.slice(t));for(var e=0;e<n.length;++e)n[e].parent=this},iterN:function(t,n,r){for(var e=t+n;t<e;++t)if(r(this.lines[t]))return!0}},xu.prototype={chunkSize:function(){return this.size},removeInner:function(t,n){this.size-=n;for(var r=0;r<this.children.length;++r){var e=this.children[r],i=e.chunkSize();if(t<i){var u=Math.min(n,i-t),o=e.height;if(e.removeInner(t,u),this.height-=o-e.height,i==u&&(this.children.splice(r--,1),e.parent=null),0==(n-=u))break;t=0}else t-=i}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof bu))){var a=[];this.collapse(a),this.children=[new bu(a)],this.children[0].parent=this}},collapse:function(t){for(var n=0;n<this.children.length;++n)this.children[n].collapse(t)},insertInner:function(t,n,r){this.size+=n.length,this.height+=r;for(var e=0;e<this.children.length;++e){var i=this.children[e],u=i.chunkSize();if(t<=u){if(i.insertInner(t,n,r),i.lines&&i.lines.length>50){for(var o=i.lines.length%25+25,a=o;a<i.lines.length;){var f=new bu(i.lines.slice(a,a+=25));i.height-=f.height,this.children.splice(++e,0,f),f.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}t-=u}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var n=new xu(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=n.size,t.height-=n.height;var r=O(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var e=new xu(t.children);e.parent=t,t.children=[e,n],t=e}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,n,r){for(var e=0;e<this.children.length;++e){var i=this.children[e],u=i.chunkSize();if(t<u){var o=Math.min(n,u-t);if(i.iterN(t,o,r))return!0;if(0==(n-=o))break;t=0}else t-=u}}};var wu=function(t,n,r){if(r)for(var e in r)r.hasOwnProperty(e)&&(this[e]=r[e]);this.doc=t,this.node=n};function Cu(t,n,r){Hn(n)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Be(t,r)}wu.prototype.clear=function(){var t=this.doc.cm,n=this.line.widgets,r=this.line,e=Kt(r);if(null!=e&&n){for(var i=0;i<n.length;++i)n[i]==this&&n.splice(i--,1);n.length||(r.widgets=null);var u=wr(this);Vt(r,Math.max(0,r.height-u)),t&&(Ye(t,(function(){Cu(t,r,-u),he(t,e,"widget")})),fr(t,"lineWidgetCleared",t,this,e))}},wu.prototype.changed=function(){var t=this,n=this.height,r=this.doc.cm,e=this.line;this.height=null;var i=wr(this)-n;i&&(Pn(this.doc,e)||Vt(e,e.height+i),r&&Ye(r,(function(){r.curOp.forceUpdate=!0,Cu(r,e,i),fr(r,"lineWidgetChanged",r,t,Kt(e))})))},Dt(wu);var yu=0,Au=function(t,n){this.lines=[],this.type=n,this.doc=t,this.id=++yu};function Eu(t,n,r,e,i){if(e&&e.shared)return function(t,n,r,e,i){(e=I(e)).shared=!1;var u=[Eu(t,n,r,e,i)],o=u[0],a=e.widgetNode;return Ni(t,(function(t){a&&(e.widgetNode=a.cloneNode(!0)),u.push(Eu(t,fn(t,n),fn(t,r),e,i));for(var f=0;f<t.linked.length;++f)if(t.linked[f].isParent)return;o=X(u)})),new Fu(u,o)}(t,n,r,e,i);if(t.cm&&!t.cm.curOp)return ti(t.cm,Eu)(t,n,r,e,i);var u=new Au(t,i),o=nn(n,r);if(e&&I(e,u,!1),o>0||0==o&&!1!==u.clearWhenEmpty)return u;if(u.replacedWith&&(u.collapsed=!0,u.widgetNode=B("span",[u.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||u.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(u.widgetNode.insertLeft=!0)),u.collapsed){if($n(t,n.line,n,r,u)||n.line!=r.line&&$n(t,r.line,n,r,u))throw new Error("Inserting collapsed marker partially overlapping an existing one");yn=!0}u.addToHistory&&Oi(t,{from:n,to:r,origin:"markText"},t.sel,NaN);var a,f=n.line,s=t.cm;if(t.iter(f,r.line+1,(function(e){s&&u.collapsed&&!s.options.lineWrapping&&Rn(e)==s.display.maxLine&&(a=!0),u.collapsed&&f!=n.line&&Vt(e,0),function(t,n,r){var e=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));e&&e.has(t.markedSpans)?t.markedSpans.push(n):(t.markedSpans=t.markedSpans?t.markedSpans.concat([n]):[n],e&&e.add(t.markedSpans)),n.marker.attachLine(t)}(e,new An(u,f==n.line?n.ch:null,f==r.line?r.ch:null),t.cm&&t.cm.curOp),++f})),u.collapsed&&t.iter(n.line,r.line+1,(function(n){Pn(t,n)&&Vt(n,0)})),u.clearOnEnter&&ct(u,"beforeCursorEnter",(function(){return u.clear()})),u.readOnly&&(Cn=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),u.collapsed&&(u.id=++yu,u.atomic=!0),s){if(a&&(s.curOp.updateMaxLine=!0),u.collapsed)ce(s,n.line,r.line+1);else if(u.className||u.startStyle||u.endStyle||u.css||u.attributes||u.title)for(var l=n.line;l<=r.line;l++)he(s,l,"text");u.atomic&&ru(s.doc),fr(s,"markerAdded",s,u)}return u}Au.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,n=t&&!t.curOp;if(n&&Ge(t),gt(this,"clear")){var r=this.find();r&&fr(this,"clear",r.from,r.to)}for(var e=null,i=null,u=0;u<this.lines.length;++u){var o=this.lines[u],a=En(o.markedSpans,this);t&&!this.collapsed?he(t,Kt(o),"text"):t&&(null!=a.to&&(i=Kt(o)),null!=a.from&&(e=Kt(o))),o.markedSpans=Fn(o.markedSpans,a),null==a.from&&this.collapsed&&!Pn(this.doc,o)&&t&&Vt(o,ee(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var s=Rn(this.lines[f]),l=Wn(s);l>t.display.maxLineLength&&(t.display.maxLine=s,t.display.maxLineLength=l,t.display.maxLineChanged=!0)}null!=e&&t&&this.collapsed&&ce(t,e,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ru(t.doc)),t&&fr(t,"markerCleared",t,this,e,i),n&&Ze(t),this.parent&&this.parent.clear()}},Au.prototype.find=function(t,n){var r,e;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var u=this.lines[i],o=En(u.markedSpans,this);if(null!=o.from&&(r=tn(n?u:Kt(u),o.from),-1==t))return r;if(null!=o.to&&(e=tn(n?u:Kt(u),o.to),1==t))return e}return r&&{from:r,to:e}},Au.prototype.changed=function(){var t=this,n=this.find(-1,!0),r=this,e=this.doc.cm;n&&e&&Ye(e,(function(){var i=n.line,u=Kt(n.line),o=Lr(e,u);if(o&&($r(o),e.curOp.selectionChanged=e.curOp.forceUpdate=!0),e.curOp.updateMaxLine=!0,!Pn(r.doc,i)&&null!=r.height){var a=r.height;r.height=null;var f=wr(r)-a;f&&Vt(i,i.height+f)}fr(e,"markerChanged",e,t)}))},Au.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;n.maybeHiddenMarkers&&-1!=O(n.maybeHiddenMarkers,this)||(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Au.prototype.detachLine=function(t){if(this.lines.splice(O(this.lines,t),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},Dt(Au);var Fu=function(t,n){this.markers=t,this.primary=n;for(var r=0;r<t.length;++r)t[r].parent=this};function ku(t){return t.findMarks(tn(t.first,0),t.clipPos(tn(t.lastLine())),(function(t){return t.parent}))}function Mu(t){for(var n=function(n){var r=t[n],e=[r.primary.doc];Ni(r.primary.doc,(function(t){return e.push(t)}));for(var i=0;i<r.markers.length;i++){var u=r.markers[i];-1==O(e,u.doc)&&(u.parent=null,r.markers.splice(i--,1))}},r=0;r<t.length;r++)n(r)}Fu.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();fr(this,"clear")}},Fu.prototype.find=function(t,n){return this.primary.find(t,n)},Dt(Fu);var Su=0,Bu=function(t,n,r,e,i){if(!(this instanceof Bu))return new Bu(t,n,r,e,i);null==r&&(r=0),xu.call(this,[new bu([new Zn("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var u=tn(r,0);this.sel=Ei(u),this.history=new Ii(null),this.id=++Su,this.modeOption=n,this.lineSep=e,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),_i(this,{from:u,to:u,text:t}),Yi(this,Ei(u),P)};Bu.prototype=Q(xu.prototype,{constructor:Bu,iter:function(t,n,r){r?this.iterN(t-this.first,n-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,n){for(var r=0,e=0;e<n.length;++e)r+=n[e].height;this.insertInner(t-this.first,n,r)},remove:function(t,n){this.removeInner(t-this.first,n)},getValue:function(t){var n=Xt(this,this.first,this.first+this.size);return!1===t?n:n.join(t||this.lineSeparator())},setValue:ri((function(t){var n=tn(this.first,0),r=this.first+this.size-1;su(this,{from:n,to:tn(r,Gt(this,r).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Te(this.cm,0,0),Yi(this,Ei(n),P)})),replaceRange:function(t,n,r,e){vu(this,t,n=fn(this,n),r=r?fn(this,r):n,e)},getRange:function(t,n,r){var e=Zt(this,fn(this,t),fn(this,n));return!1===r?e:e.join(""===r?"":r||this.lineSeparator())},getLine:function(t){var n=this.getLineHandle(t);return n&&n.text},getLineHandle:function(t){if(Jt(this,t))return Gt(this,t)},getLineNumber:function(t){return Kt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Gt(this,t)),Rn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return fn(this,t)},getCursor:function(t){var n=this.sel.primary();return null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||!1===t?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ri((function(t,n,r){Qi(this,fn(this,"number"==typeof t?tn(t,n||0):t),null,r)})),setSelection:ri((function(t,n,r){Qi(this,fn(this,t),fn(this,n||t),r)})),extendSelection:ri((function(t,n,r){Xi(this,fn(this,t),n&&fn(this,n),r)})),extendSelections:ri((function(t,n){Vi(this,sn(this,t),n)})),extendSelectionsBy:ri((function(t,n){Vi(this,sn(this,V(this.sel.ranges,t)),n)})),setSelections:ri((function(t,n,r){if(t.length){for(var e=[],i=0;i<t.length;i++)e[i]=new yi(fn(this,t[i].anchor),fn(this,t[i].head||t[i].anchor));null==n&&(n=Math.min(t.length-1,this.sel.primIndex)),Yi(this,Ai(this.cm,e,n),r)}})),addSelection:ri((function(t,n,r){var e=this.sel.ranges.slice(0);e.push(new yi(fn(this,t),fn(this,n||t))),Yi(this,Ai(this.cm,e,e.length-1),r)})),getSelection:function(t){for(var n,r=this.sel.ranges,e=0;e<r.length;e++){var i=Zt(this,r[e].from(),r[e].to());n=n?n.concat(i):i}return!1===t?n:n.join(t||this.lineSeparator())},getSelections:function(t){for(var n=[],r=this.sel.ranges,e=0;e<r.length;e++){var i=Zt(this,r[e].from(),r[e].to());!1!==t&&(i=i.join(t||this.lineSeparator())),n[e]=i}return n},replaceSelection:function(t,n,r){for(var e=[],i=0;i<this.sel.ranges.length;i++)e[i]=t;this.replaceSelections(e,n,r||"+input")},replaceSelections:ri((function(t,n,r){for(var e=[],i=this.sel,u=0;u<i.ranges.length;u++){var o=i.ranges[u];e[u]={from:o.from(),to:o.to(),text:this.splitLines(t[u]),origin:r}}for(var a=n&&"end"!=n&&function(t,n,r){for(var e=[],i=tn(t.first,0),u=i,o=0;o<n.length;o++){var a=n[o],f=Si(a.from,i,u),s=Si(Fi(a),i,u);if(i=a.to,u=s,"around"==r){var l=t.sel.ranges[o],c=nn(l.head,l.anchor)<0;e[o]=new yi(c?s:f,c?f:s)}else e[o]=new yi(f,f)}return new Ci(e,t.sel.primIndex)}(this,e,n),f=e.length-1;f>=0;f--)su(this,e[f]);a?Ji(this,a):this.cm&&Le(this.cm)})),undo:ri((function(){cu(this,"undo")})),redo:ri((function(){cu(this,"redo")})),undoSelection:ri((function(){cu(this,"undo",!0)})),redoSelection:ri((function(){cu(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,n=0,r=0,e=0;e<t.done.length;e++)t.done[e].ranges||++n;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++r;return{undo:n,redo:r}},clearHistory:function(){var t=this;this.history=new Ii(this.history),Ni(this,(function(n){return n.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Gi(this.history.done),undone:Gi(this.history.undone)}},setHistory:function(t){var n=this.history=new Ii(this.history);n.done=Gi(t.done.slice(0),null,!0),n.undone=Gi(t.undone.slice(0),null,!0)},setGutterMarker:ri((function(t,n,r){return Du(this,t,"gutter",(function(t){var e=t.gutterMarkers||(t.gutterMarkers={});return e[n]=r,!r&&nt(e)&&(t.gutterMarkers=null),!0}))})),clearGutter:ri((function(t){var n=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[t]&&Du(n,r,"gutter",(function(){return r.gutterMarkers[t]=null,nt(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var n;if("number"==typeof t){if(!Jt(this,t))return null;if(n=t,!(t=Gt(this,t)))return null}else if(null==(n=Kt(t)))return null;return{line:n,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ri((function(t,n,r){return Du(this,t,"gutter"==n?"gutter":"class",(function(t){var e="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(t[e]){if(A(r).test(t[e]))return!1;t[e]+=" "+r}else t[e]=r;return!0}))})),removeLineClass:ri((function(t,n,r){return Du(this,t,"gutter"==n?"gutter":"class",(function(t){var e="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass",i=t[e];if(!i)return!1;if(null==r)t[e]=null;else{var u=i.match(A(r));if(!u)return!1;var o=u.index+u[0].length;t[e]=i.slice(0,u.index)+(u.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0}))})),addLineWidget:ri((function(t,n,r){return function(t,n,r,e){var i=new wu(t,r,e),u=t.cm;return u&&i.noHScroll&&(u.display.alignWidgets=!0),Du(t,n,"widget",(function(n){var r=n.widgets||(n.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=n,u&&!Pn(t,n)){var e=Hn(n)<t.scrollTop;Vt(n,n.height+wr(i)),e&&Be(u,i.height),u.curOp.forceUpdate=!0}return!0})),u&&fr(u,"lineWidgetAdded",u,i,"number"==typeof n?n:Kt(n)),i}(this,t,n,r)})),removeLineWidget:function(t){t.clear()},markText:function(t,n,r){return Eu(this,fn(this,t),fn(this,n),r,r&&r.type||"range")},setBookmark:function(t,n){var r={replacedWith:n&&(null==n.nodeType?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return Eu(this,t=fn(this,t),t,r,"bookmark")},findMarksAt:function(t){var n=[],r=Gt(this,(t=fn(this,t)).line).markedSpans;if(r)for(var e=0;e<r.length;++e){var i=r[e];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&n.push(i.marker.parent||i.marker)}return n},findMarks:function(t,n,r){t=fn(this,t),n=fn(this,n);var e=[],i=t.line;return this.iter(t.line,n.line+1,(function(u){var o=u.markedSpans;if(o)for(var a=0;a<o.length;a++){var f=o[a];null!=f.to&&i==t.line&&t.ch>=f.to||null==f.from&&i!=t.line||null!=f.from&&i==n.line&&f.from>=n.ch||r&&!r(f.marker)||e.push(f.marker.parent||f.marker)}++i})),e},getAllMarks:function(){var t=[];return this.iter((function(n){var r=n.markedSpans;if(r)for(var e=0;e<r.length;++e)null!=r[e].from&&t.push(r[e].marker)})),t},posFromIndex:function(t){var n,r=this.first,e=this.lineSeparator().length;return this.iter((function(i){var u=i.text.length+e;if(u>t)return n=t,!0;t-=u,++r})),fn(this,tn(r,n))},indexFromPos:function(t){var n=(t=fn(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){n+=t.text.length+r})),n},copy:function(t){var n=new Bu(Xt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,t&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(t){t||(t={});var n=this.first,r=this.first+this.size;null!=t.from&&t.from>n&&(n=t.from),null!=t.to&&t.to<r&&(r=t.to);var e=new Bu(Xt(this,n,r),t.mode||this.modeOption,n,this.lineSep,this.direction);return t.sharedHist&&(e.history=this.history),(this.linked||(this.linked=[])).push({doc:e,sharedHist:t.sharedHist}),e.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,n){for(var r=0;r<n.length;r++){var e=n[r],i=e.find(),u=t.clipPos(i.from),o=t.clipPos(i.to);if(nn(u,o)){var a=Eu(t,u,o,e.primary,e.primary.type);e.markers.push(a),a.parent=e}}}(e,ku(this)),e},unlinkDoc:function(t){if(t instanceof ko&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n)if(this.linked[n].doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Mu(ku(this));break}if(t.history==this.history){var r=[t.id];Ni(t,(function(t){return r.push(t.id)}),!0),t.history=new Ii(null),t.history.done=Gi(this.history.done,r),t.history.undone=Gi(this.history.undone,r)}},iterLinkedDocs:function(t){Ni(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Lt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ri((function(t){var n;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&Ye(n=this.cm,(function(){ji(n),ce(n)})))}))}),Bu.prototype.eachLine=Bu.prototype.iter;var Lu=0;function Tu(t){var n=this;if(_u(n),!mt(n,t)&&!Cr(n.display,t)){bt(t),o&&(Lu=+new Date);var r=se(n,t,!0),e=t.dataTransfer.files;if(r&&!n.isReadOnly())if(e&&e.length&&window.FileReader&&window.File)for(var i=e.length,u=Array(i),a=0,f=function(){++a==i&&ti(n,(function(){var t={from:r=fn(n.doc,r),to:r,text:n.doc.splitLines(u.filter((function(t){return null!=t})).join(n.doc.lineSeparator())),origin:"paste"};su(n.doc,t),Ji(n.doc,Ei(fn(n.doc,r),fn(n.doc,Fi(t))))}))()},s=function(t,r){if(n.options.allowDropFileTypes&&-1==O(n.options.allowDropFileTypes,t.type))f();else{var e=new FileReader;e.onerror=function(){return f()},e.onload=function(){var t=e.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(u[r]=t),f()},e.readAsText(t)}},l=0;l<e.length;l++)s(e[l],l);else{if(n.state.draggingText&&n.doc.sel.contains(r)>-1)return n.state.draggingText(t),void setTimeout((function(){return n.display.input.focus()}),20);try{var c=t.dataTransfer.getData("Text");if(c){var h;if(n.state.draggingText&&!n.state.draggingText.copy&&(h=n.listSelections()),tu(n.doc,Ei(r,r)),h)for(var d=0;d<h.length;++d)vu(n.doc,"",h[d].anchor,h[d].head,"drag");n.replaceSelection(c,"around","paste"),n.display.input.focus()}}catch(t){}}}}function _u(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Nu(t){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),r=[],e=0;e<n.length;e++){var i=n[e].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var n=0;n<r.length;n++)t(r[n])}))}}var zu=!1;function ju(){var t;zu||(ct(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Nu(Iu)}),100))})),ct(window,"blur",(function(){return Nu(Ee)})),zu=!0)}function Iu(t){var n=t.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,t.setSize()}for(var $u={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ru=0;Ru<10;Ru++)$u[Ru+48]=$u[Ru+96]=String(Ru);for(var Ou=65;Ou<=90;Ou++)$u[Ou]=String.fromCharCode(Ou);for(var qu=1;qu<=12;qu++)$u[qu+111]=$u[qu+63235]="F"+qu;var Pu={};function Uu(t){var n,r,e,i,u=t.split(/-(?!$)/);t=u[u.length-1];for(var o=0;o<u.length-1;o++){var a=u[o];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);e=!0}}return n&&(t="Alt-"+t),r&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),e&&(t="Shift-"+t),t}function Hu(t){var n={};for(var r in t)if(t.hasOwnProperty(r)){var e=t[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==e){delete t[r];continue}for(var i=V(r.split(" "),Uu),u=0;u<i.length;u++){var o=void 0,a=void 0;u==i.length-1?(a=i.join(" "),o=e):(a=i.slice(0,u+1).join(" "),o="...");var f=n[a];if(f){if(f!=o)throw new Error("Inconsistent bindings for "+a)}else n[a]=o}delete t[r]}for(var s in n)t[s]=n[s];return t}function Wu(t,n,r,e){var i=(n=Vu(n)).call?n.call(t,e):n[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(n.fallthrough){if("[object Array]"!=Object.prototype.toString.call(n.fallthrough))return Wu(t,n.fallthrough,r,e);for(var u=0;u<n.fallthrough.length;u++){var o=Wu(t,n.fallthrough[u],r,e);if(o)return o}}}function Gu(t){var n="string"==typeof t?t:$u[t.keyCode];return"Ctrl"==n||"Alt"==n||"Shift"==n||"Mod"==n}function Zu(t,n,r){var e=t;return n.altKey&&"Alt"!=e&&(t="Alt-"+t),(C?n.metaKey:n.ctrlKey)&&"Ctrl"!=e&&(t="Ctrl-"+t),(C?n.ctrlKey:n.metaKey)&&"Mod"!=e&&(t="Cmd-"+t),!r&&n.shiftKey&&"Shift"!=e&&(t="Shift-"+t),t}function Xu(t,n){if(c&&34==t.keyCode&&t.char)return!1;var r=$u[t.keyCode];return null!=r&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(r=t.code),Zu(r,t,n))}function Vu(t){return"string"==typeof t?Pu[t]:t}function Ku(t,n){for(var r=t.doc.sel.ranges,e=[],i=0;i<r.length;i++){for(var u=n(r[i]);e.length&&nn(u.from,X(e).to)<=0;){var o=e.pop();if(nn(o.from,u.from)<0){u.from=o.from;break}}e.push(u)}Ye(t,(function(){for(var n=e.length-1;n>=0;n--)vu(t.doc,"",e[n].from,e[n].to,"+delete");Le(t)}))}function Qu(t,n,r){var e=it(t.text,n+r,r);return e<0||e>t.text.length?null:e}function Ju(t,n,r){var e=Qu(t,n.ch,r);return null==e?null:new tn(n.line,e,r<0?"after":"before")}function Yu(t,n,r,e,i){if(t){"rtl"==n.doc.direction&&(i=-i);var u=st(r,n.doc.direction);if(u){var o,a=i<0?X(u):u[0],f=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==n.doc.direction){var s=Tr(n,r),l=_r(n,s,o=i<0?r.text.length-1:0).top;o=ut((function(t){return _r(n,s,t).top==l}),i<0==(1==a.level)?a.from:a.to-1,o),"before"==f&&(o=Qu(r,o,1))}else o=i<0?a.to:a.from;return new tn(e,o,f)}}return new tn(e,i<0?r.text.length:0,i<0?"before":"after")}Pu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pu.default=D?Pu.macDefault:Pu.pcDefault;var to={selectAll:au,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),P)},killLine:function(t){return Ku(t,(function(n){if(n.empty()){var r=Gt(t.doc,n.head.line).text.length;return n.head.ch==r&&n.head.line<t.lastLine()?{from:n.head,to:tn(n.head.line+1,0)}:{from:n.head,to:tn(n.head.line,r)}}return{from:n.from(),to:n.to()}}))},deleteLine:function(t){return Ku(t,(function(n){return{from:tn(n.from().line,0),to:fn(t.doc,tn(n.to().line+1,0))}}))},delLineLeft:function(t){return Ku(t,(function(t){return{from:tn(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Ku(t,(function(n){var r=t.charCoords(n.head,"div").top+5;return{from:t.coordsChar({left:0,top:r},"div"),to:n.from()}}))},delWrappedLineRight:function(t){return Ku(t,(function(n){var r=t.charCoords(n.head,"div").top+5,e=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div");return{from:n.from(),to:e}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(tn(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(tn(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(n){return no(t,n.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(n){return ro(t,n.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(n){return function(t,n){var r=Gt(t.doc,n),e=function(t){for(var n;n=jn(t);)t=n.find(1,!0).line;return t}(r);return e!=r&&(n=Kt(e)),Yu(!0,t,r,n,-1)}(t,n.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(n){var r=t.cursorCoords(n.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:r},"div")}),H)},goLineLeft:function(t){return t.extendSelectionsBy((function(n){var r=t.cursorCoords(n.head,"div").top+5;return t.coordsChar({left:0,top:r},"div")}),H)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(n){var r=t.cursorCoords(n.head,"div").top+5,e=t.coordsChar({left:0,top:r},"div");return e.ch<t.getLine(e.line).search(/\S/)?ro(t,n.head):e}),H)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var n=[],r=t.listSelections(),e=t.options.tabSize,i=0;i<r.length;i++){var u=r[i].from(),o=$(t.getLine(u.line),u.ch,e);n.push(Z(e-o%e))}t.replaceSelections(n)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Ye(t,(function(){for(var n=t.listSelections(),r=[],e=0;e<n.length;e++)if(n[e].empty()){var i=n[e].head,u=Gt(t.doc,i.line).text;if(u)if(i.ch==u.length&&(i=new tn(i.line,i.ch-1)),i.ch>0)i=new tn(i.line,i.ch+1),t.replaceRange(u.charAt(i.ch-1)+u.charAt(i.ch-2),tn(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var o=Gt(t.doc,i.line-1).text;o&&(i=new tn(i.line,1),t.replaceRange(u.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),tn(i.line-1,o.length-1),i,"+transpose"))}r.push(new yi(i,i))}t.setSelections(r)}))},newlineAndIndent:function(t){return Ye(t,(function(){for(var n=t.listSelections(),r=n.length-1;r>=0;r--)t.replaceRange(t.doc.lineSeparator(),n[r].anchor,n[r].head,"+input");n=t.listSelections();for(var e=0;e<n.length;e++)t.indentLine(n[e].from().line,null,!0);Le(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function no(t,n){var r=Gt(t.doc,n),e=Rn(r);return e!=r&&(n=Kt(e)),Yu(!0,t,e,n,1)}function ro(t,n){var r=no(t,n.line),e=Gt(t.doc,r.line),i=st(e,t.doc.direction);if(!i||0==i[0].level){var u=Math.max(r.ch,e.text.search(/\S/));return tn(r.line,n.line==r.line&&n.ch<=u&&n.ch?0:u,r.sticky)}return r}function eo(t,n,r){if("string"==typeof n&&!(n=to[n]))return!1;t.display.input.ensurePolled();var e=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r&&(t.display.shift=!1),i=n(t)!=q}finally{t.display.shift=e,t.state.suppressEdits=!1}return i}var io=new R;function uo(t,n,r,e){var i=t.state.keySeq;if(i){if(Gu(n))return"handled";if(/\'$/.test(n)?t.state.keySeq=null:io.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),oo(t,i+" "+n,r,e))return!0}return oo(t,n,r,e)}function oo(t,n,r,e){var i=function(t,n,r){for(var e=0;e<t.state.keyMaps.length;e++){var i=Wu(n,t.state.keyMaps[e],r,t);if(i)return i}return t.options.extraKeys&&Wu(n,t.options.extraKeys,r,t)||Wu(n,t.options.keyMap,r,t)}(t,n,e);return"multi"==i&&(t.state.keySeq=n),"handled"==i&&fr(t,"keyHandled",t,n,r),"handled"!=i&&"multi"!=i||(bt(r),we(t)),!!i}function ao(t,n){var r=Xu(n,!0);return!!r&&(n.shiftKey&&!t.state.keySeq?uo(t,"Shift-"+r,n,(function(n){return eo(t,n,!0)}))||uo(t,r,n,(function(n){if("string"==typeof n?/^go[A-Z]/.test(n):n.motion)return eo(t,n)})):uo(t,r,n,(function(n){return eo(t,n)})))}var fo=null;function so(t){var n=this;if(!(t.target&&t.target!=n.display.input.getField()||(n.curOp.focus=T(),mt(n,t)))){o&&a<11&&27==t.keyCode&&(t.returnValue=!1);var e=t.keyCode;n.display.shift=16==e||t.shiftKey;var i=ao(n,t);c&&(fo=i?e:null,i||88!=e||_t||!(D?t.metaKey:t.ctrlKey)||n.replaceSelection("",null,"cut")),r&&!D&&!i&&46==e&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=e||/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)||function(t){var n=t.display.lineDiv;function r(t){18!=t.keyCode&&t.altKey||(F(n,"CodeMirror-crosshair"),dt(document,"keyup",r),dt(document,"mouseover",r))}_(n,"CodeMirror-crosshair"),ct(document,"keyup",r),ct(document,"mouseover",r)}(n)}}function lo(t){16==t.keyCode&&(this.doc.sel.shift=!1),mt(this,t)}function co(t){var n=this;if(!(t.target&&t.target!=n.display.input.getField()||Cr(n.display,t)||mt(n,t)||t.ctrlKey&&!t.altKey||D&&t.metaKey)){var r=t.keyCode,e=t.charCode;if(c&&r==fo)return fo=null,void bt(t);if(!c||t.which&&!(t.which<10)||!ao(n,t)){var i=String.fromCharCode(null==e?r:e);"\b"!=i&&(function(t,n,r){return uo(t,"'"+r+"'",n,(function(n){return eo(t,n,!0)}))}(n,t,i)||n.display.input.onKeyPress(t))}}}var ho,vo,mo=function(t,n,r){this.time=t,this.pos=n,this.button=r};function po(t){var n=this,r=n.display;if(!(mt(n,t)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=t.shiftKey,Cr(r,t))f||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!bo(n,t)){var e=se(n,t),i=At(t),u=e?function(t,n){var r=+new Date;return vo&&vo.compare(r,t,n)?(ho=vo=null,"triple"):ho&&ho.compare(r,t,n)?(vo=new mo(r,t,n),ho=null,"double"):(ho=new mo(r,t,n),vo=null,"single")}(e,i):"single";window.focus(),1==i&&n.state.selectingText&&n.state.selectingText(t),e&&function(t,n,r,e,i){var u="Click";return"double"==e?u="Double"+u:"triple"==e&&(u="Triple"+u),uo(t,Zu(u=(1==n?"Left":2==n?"Middle":"Right")+u,i),i,(function(n){if("string"==typeof n&&(n=to[n]),!n)return!1;var e=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),e=n(t,r)!=q}finally{t.state.suppressEdits=!1}return e}))}(n,i,e,u,t)||(1==i?e?function(t,n,r,e){o?setTimeout(j(Ce,t),0):t.curOp.focus=T();var i,u=function(t,n,r){var e=t.getOption("configureMouse"),i=e?e(t,n,r):{};return null==i.unit&&(i.unit=(b?r.shiftKey&&r.metaKey:r.altKey)?"rectangle":"single"==n?"char":"double"==n?"word":"line"),(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=D?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(D?r.altKey:r.ctrlKey)),i}(t,r,e),s=t.doc.sel;t.options.dragDrop&&kt&&!t.isReadOnly()&&"single"==r&&(i=s.contains(n))>-1&&(nn((i=s.ranges[i]).from(),n)<0||n.xRel>0)&&(nn(i.to(),n)>0||n.xRel<0)?function(t,n,r,e){var i=t.display,u=!1,s=ti(t,(function(n){f&&(i.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:ye(t)),dt(i.wrapper.ownerDocument,"mouseup",s),dt(i.wrapper.ownerDocument,"mousemove",l),dt(i.scroller,"dragstart",c),dt(i.scroller,"drop",s),u||(bt(n),e.addNew||Xi(t.doc,r,null,null,e.extend),f&&!h||o&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),l=function(t){u=u||Math.abs(n.clientX-t.clientX)+Math.abs(n.clientY-t.clientY)>=10},c=function(){return u=!0};f&&(i.scroller.draggable=!0),t.state.draggingText=s,s.copy=!e.moveOnDrag,ct(i.wrapper.ownerDocument,"mouseup",s),ct(i.wrapper.ownerDocument,"mousemove",l),ct(i.scroller,"dragstart",c),ct(i.scroller,"drop",s),t.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(t,e,n,u):function(t,n,r,e){o&&ye(t);var i=t.display,u=t.doc;bt(n);var a,f,s=u.sel,l=s.ranges;if(e.addNew&&!e.extend?(f=u.sel.contains(r),a=f>-1?l[f]:new yi(r,r)):(a=u.sel.primary(),f=u.sel.primIndex),"rectangle"==e.unit)e.addNew||(a=new yi(r,r)),r=se(t,n,!0,!0),f=-1;else{var c=go(t,r,e.unit);a=e.extend?Zi(a,c.anchor,c.head,e.extend):c}e.addNew?-1==f?(f=l.length,Yi(u,Ai(t,l.concat([a]),f),{scroll:!1,origin:"*mouse"})):l.length>1&&l[f].empty()&&"char"==e.unit&&!e.extend?(Yi(u,Ai(t,l.slice(0,f).concat(l.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),s=u.sel):Ki(u,f,a,U):(f=0,Yi(u,new Ci([a],0),U),s=u.sel);var h=r;function d(n){if(0!=nn(h,n))if(h=n,"rectangle"==e.unit){for(var i=[],o=t.options.tabSize,l=$(Gt(u,r.line).text,r.ch,o),c=$(Gt(u,n.line).text,n.ch,o),d=Math.min(l,c),v=Math.max(l,c),m=Math.min(r.line,n.line),p=Math.min(t.lastLine(),Math.max(r.line,n.line));m<=p;m++){var g=Gt(u,m).text,D=W(g,d,o);d==v?i.push(new yi(tn(m,D),tn(m,D))):g.length>D&&i.push(new yi(tn(m,D),tn(m,W(g,v,o))))}i.length||i.push(new yi(r,r)),Yi(u,Ai(t,s.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(n)}else{var b,x=a,w=go(t,n,e.unit),C=x.anchor;nn(w.anchor,C)>0?(b=w.head,C=on(x.from(),w.anchor)):(b=w.anchor,C=un(x.to(),w.head));var y=s.ranges.slice(0);y[f]=function(t,n){var r=n.anchor,e=n.head,i=Gt(t.doc,r.line);if(0==nn(r,e)&&r.sticky==e.sticky)return n;var u=st(i);if(!u)return n;var o=at(u,r.ch,r.sticky),a=u[o];if(a.from!=r.ch&&a.to!=r.ch)return n;var f,s=o+(a.from==r.ch==(1!=a.level)?0:1);if(0==s||s==u.length)return n;if(e.line!=r.line)f=(e.line-r.line)*("ltr"==t.doc.direction?1:-1)>0;else{var l=at(u,e.ch,e.sticky),c=l-o||(e.ch-r.ch)*(1==a.level?-1:1);f=l==s-1||l==s?c<0:c>0}var h=u[s+(f?-1:0)],d=f==(1==h.level),v=d?h.from:h.to,m=d?"after":"before";return r.ch==v&&r.sticky==m?n:new yi(new tn(r.line,v,m),e)}(t,new yi(fn(u,C),b)),Yi(u,Ai(t,y,f),U)}}var v=i.wrapper.getBoundingClientRect(),m=0;function p(n){var r=++m,o=se(t,n,!0,"rectangle"==e.unit);if(o)if(0!=nn(o,h)){t.curOp.focus=T(),d(o);var a=Me(i,u);(o.line>=a.to||o.line<a.from)&&setTimeout(ti(t,(function(){m==r&&p(n)})),150)}else{var f=n.clientY<v.top?-20:n.clientY>v.bottom?20:0;f&&setTimeout(ti(t,(function(){m==r&&(i.scroller.scrollTop+=f,p(n))})),50)}}function g(n){t.state.selectingText=!1,m=1/0,n&&(bt(n),i.input.focus()),dt(i.wrapper.ownerDocument,"mousemove",D),dt(i.wrapper.ownerDocument,"mouseup",b),u.history.lastSelOrigin=null}var D=ti(t,(function(t){0!==t.buttons&&At(t)?p(t):g(t)})),b=ti(t,g);t.state.selectingText=b,ct(i.wrapper.ownerDocument,"mousemove",D),ct(i.wrapper.ownerDocument,"mouseup",b)}(t,e,n,u)}(n,e,u,t):yt(t)==r.scroller&&bt(t):2==i?(e&&Xi(n.doc,e),setTimeout((function(){return r.input.focus()}),20)):3==i&&(y?n.display.input.onContextMenu(t):ye(n)))}}function go(t,n,r){if("char"==r)return new yi(n,n);if("word"==r)return t.findWordAt(n);if("line"==r)return new yi(tn(n.line,0),fn(t.doc,tn(n.line+1,0)));var e=r(t,n);return new yi(e.from,e.to)}function Do(t,n,r,e){var i,u;if(n.touches)i=n.touches[0].clientX,u=n.touches[0].clientY;else try{i=n.clientX,u=n.clientY}catch(t){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;e&&bt(n);var o=t.display,a=o.lineDiv.getBoundingClientRect();if(u>a.bottom||!gt(t,r))return wt(n);u-=a.top-o.viewOffset;for(var f=0;f<t.display.gutterSpecs.length;++f){var s=o.gutters.childNodes[f];if(s&&s.getBoundingClientRect().right>=i)return vt(t,r,t,Qt(t.doc,u),t.display.gutterSpecs[f].className,n),wt(n)}}function bo(t,n){return Do(t,n,"gutterClick",!0)}function xo(t,n){Cr(t.display,n)||function(t,n){return!!gt(t,"gutterContextMenu")&&Do(t,n,"gutterContextMenu",!1)}(t,n)||mt(t,n,"contextmenu")||y||t.display.input.onContextMenu(n)}function wo(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Or(t)}mo.prototype.compare=function(t,n,r){return this.time+400>t&&0==nn(n,this.pos)&&r==this.button};var Co={toString:function(){return"CodeMirror.Init"}},yo={},Ao={};function Eo(t,n,r){if(!n!=!(r&&r!=Co)){var e=t.display.dragFunctions,i=n?ct:dt;i(t.display.scroller,"dragstart",e.start),i(t.display.scroller,"dragenter",e.enter),i(t.display.scroller,"dragover",e.over),i(t.display.scroller,"dragleave",e.leave),i(t.display.scroller,"drop",e.drop)}}function Fo(t){t.options.lineWrapping?(_(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(F(t.display.wrapper,"CodeMirror-wrap"),Gn(t)),fe(t),ce(t),Or(t),setTimeout((function(){return qe(t)}),100)}function ko(t,n){var r=this;if(!(this instanceof ko))return new ko(t,n);this.options=n=n?I(n):{},I(yo,n,!1);var e=n.value;"string"==typeof e?e=new Bu(e,n.mode,null,n.lineSeparator,n.direction):n.mode&&(e.modeOption=n.mode),this.doc=e;var i=new ko.inputStyles[n.inputStyle](this),u=this.display=new pi(t,e,i,n);for(var s in u.wrapper.CodeMirror=this,wo(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),He(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new R,keySeq:null,specialChars:null},n.autofocus&&!g&&u.input.focus(),o&&a<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),function(t){var n=t.display;ct(n.scroller,"mousedown",ti(t,po)),ct(n.scroller,"dblclick",o&&a<11?ti(t,(function(n){if(!mt(t,n)){var r=se(t,n);if(r&&!bo(t,n)&&!Cr(t.display,n)){bt(n);var e=t.findWordAt(r);Xi(t.doc,e.anchor,e.head)}}})):function(n){return mt(t,n)||bt(n)}),ct(n.scroller,"contextmenu",(function(n){return xo(t,n)})),ct(n.input.getField(),"contextmenu",(function(r){n.scroller.contains(r.target)||xo(t,r)}));var r,e={end:0};function i(){n.activeTouch&&(r=setTimeout((function(){return n.activeTouch=null}),1e3),(e=n.activeTouch).end=+new Date)}function u(t){if(1!=t.touches.length)return!1;var n=t.touches[0];return n.radiusX<=1&&n.radiusY<=1}function f(t,n){if(null==n.left)return!0;var r=n.left-t.left,e=n.top-t.top;return r*r+e*e>400}ct(n.scroller,"touchstart",(function(i){if(!mt(t,i)&&!u(i)&&!bo(t,i)){n.input.ensurePolled(),clearTimeout(r);var o=+new Date;n.activeTouch={start:o,moved:!1,prev:o-e.end<=300?e:null},1==i.touches.length&&(n.activeTouch.left=i.touches[0].pageX,n.activeTouch.top=i.touches[0].pageY)}})),ct(n.scroller,"touchmove",(function(){n.activeTouch&&(n.activeTouch.moved=!0)})),ct(n.scroller,"touchend",(function(r){var e=n.activeTouch;if(e&&!Cr(n,r)&&null!=e.left&&!e.moved&&new Date-e.start<300){var u,o=t.coordsChar(n.activeTouch,"page");u=!e.prev||f(e,e.prev)?new yi(o,o):!e.prev.prev||f(e,e.prev.prev)?t.findWordAt(o):new yi(tn(o.line,0),fn(t.doc,tn(o.line+1,0))),t.setSelection(u.anchor,u.head),t.focus(),bt(r)}i()})),ct(n.scroller,"touchcancel",i),ct(n.scroller,"scroll",(function(){n.scroller.clientHeight&&(ze(t,n.scroller.scrollTop),Ie(t,n.scroller.scrollLeft,!0),vt(t,"scroll",t))})),ct(n.scroller,"mousewheel",(function(n){return wi(t,n)})),ct(n.scroller,"DOMMouseScroll",(function(n){return wi(t,n)})),ct(n.wrapper,"scroll",(function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0})),n.dragFunctions={enter:function(n){mt(t,n)||Ct(n)},over:function(n){mt(t,n)||(function(t,n){var r=se(t,n);if(r){var e=document.createDocumentFragment();De(t,r,e),t.display.dragCursor||(t.display.dragCursor=S("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),M(t.display.dragCursor,e)}}(t,n),Ct(n))},start:function(n){return function(t,n){if(o&&(!t.state.draggingText||+new Date-Lu<100))Ct(n);else if(!mt(t,n)&&!Cr(t.display,n)&&(n.dataTransfer.setData("Text",t.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!h)){var r=S("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",c&&(r.width=r.height=1,t.display.wrapper.appendChild(r),r._top=r.offsetTop),n.dataTransfer.setDragImage(r,0,0),c&&r.parentNode.removeChild(r)}}(t,n)},drop:ti(t,Tu),leave:function(n){mt(t,n)||_u(t)}};var s=n.input.getField();ct(s,"keyup",(function(n){return lo.call(t,n)})),ct(s,"keydown",ti(t,so)),ct(s,"keypress",ti(t,co)),ct(s,"focus",(function(n){return Ae(t,n)})),ct(s,"blur",(function(n){return Ee(t,n)}))}(this),ju(),Ge(this),this.curOp.forceUpdate=!0,zi(this,e),n.autofocus&&!g||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Ae(r)}),20):Ee(this),Ao)Ao.hasOwnProperty(s)&&Ao[s](this,n[s],Co);hi(this),n.finishInit&&n.finishInit(this);for(var l=0;l<Mo.length;++l)Mo[l](this);Ze(this),f&&n.lineWrapping&&"optimizelegibility"==getComputedStyle(u.lineDiv).textRendering&&(u.lineDiv.style.textRendering="auto")}ko.defaults=yo,ko.optionHandlers=Ao;var Mo=[];function So(t,n,r,e){var i,u=t.doc;null==r&&(r="add"),"smart"==r&&(u.mode.indent?i=vn(t,n).state:r="prev");var o=t.options.tabSize,a=Gt(u,n),f=$(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var s,l=a.text.match(/^\s*/)[0];if(e||/\S/.test(a.text)){if("smart"==r&&((s=u.mode.indent(i,a.text.slice(l.length),a.text))==q||s>150)){if(!e)return;r="prev"}}else s=0,r="not";"prev"==r?s=n>u.first?$(Gt(u,n-1).text,null,o):0:"add"==r?s=f+t.options.indentUnit:"subtract"==r?s=f-t.options.indentUnit:"number"==typeof r&&(s=f+r),s=Math.max(0,s);var c="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(s/o);d;--d)h+=o,c+="\t";if(h<s&&(c+=Z(s-h)),c!=l)return vu(u,c,tn(n,0),tn(n,l.length),"+input"),a.stateAfter=null,!0;for(var v=0;v<u.sel.ranges.length;v++){var m=u.sel.ranges[v];if(m.head.line==n&&m.head.ch<l.length){var p=tn(n,l.length);Ki(u,v,new yi(p,p));break}}}ko.defineInitHook=function(t){return Mo.push(t)};var Bo=null;function Lo(t){Bo=t}function To(t,n,r,e,i){var u=t.doc;t.display.shift=!1,e||(e=u.sel);var o=+new Date-200,a="paste"==i||t.state.pasteIncoming>o,f=Lt(n),s=null;if(a&&e.ranges.length>1)if(Bo&&Bo.text.join("\n")==n){if(e.ranges.length%Bo.text.length==0){s=[];for(var l=0;l<Bo.text.length;l++)s.push(u.splitLines(Bo.text[l]))}}else f.length==e.ranges.length&&t.options.pasteLinesPerSelection&&(s=V(f,(function(t){return[t]})));for(var c=t.curOp.updateInput,h=e.ranges.length-1;h>=0;h--){var d=e.ranges[h],v=d.from(),m=d.to();d.empty()&&(r&&r>0?v=tn(v.line,v.ch-r):t.state.overwrite&&!a?m=tn(m.line,Math.min(Gt(u,m.line).text.length,m.ch+X(f).length)):a&&Bo&&Bo.lineWise&&Bo.text.join("\n")==f.join("\n")&&(v=m=tn(v.line,0)));var p={from:v,to:m,text:s?s[h%s.length]:f,origin:i||(a?"paste":t.state.cutIncoming>o?"cut":"+input")};su(t.doc,p),fr(t,"inputRead",t,p)}n&&!a&&No(t,n),Le(t),t.curOp.updateInput<2&&(t.curOp.updateInput=c),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function _o(t,n){var r=t.clipboardData&&t.clipboardData.getData("Text");if(r)return t.preventDefault(),n.isReadOnly()||n.options.disableInput||Ye(n,(function(){return To(n,r,0,null,"paste")})),!0}function No(t,n){if(t.options.electricChars&&t.options.smartIndent)for(var r=t.doc.sel,e=r.ranges.length-1;e>=0;e--){var i=r.ranges[e];if(!(i.head.ch>100||e&&r.ranges[e-1].head.line==i.head.line)){var u=t.getModeAt(i.head),o=!1;if(u.electricChars){for(var a=0;a<u.electricChars.length;a++)if(n.indexOf(u.electricChars.charAt(a))>-1){o=So(t,i.head.line,"smart");break}}else u.electricInput&&u.electricInput.test(Gt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(o=So(t,i.head.line,"smart"));o&&fr(t,"electricInput",t,i.head.line)}}}function zo(t){for(var n=[],r=[],e=0;e<t.doc.sel.ranges.length;e++){var i=t.doc.sel.ranges[e].head.line,u={anchor:tn(i,0),head:tn(i+1,0)};r.push(u),n.push(t.getRange(u.anchor,u.head))}return{text:n,ranges:r}}function jo(t,n,r,e){t.setAttribute("autocorrect",r?"":"off"),t.setAttribute("autocapitalize",e?"":"off"),t.setAttribute("spellcheck",!!n)}function Io(){var t=S("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),n=S("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),jo(t),n}function $o(t,n,r,e,i){var u=n,o=r,a=Gt(t,n.line),f=i&&"rtl"==t.direction?-r:r;function s(u){var o,s;if("codepoint"==e){var l=a.text.charCodeAt(n.ch+(r>0?0:-1));o=isNaN(l)?null:new tn(n.line,Math.max(0,Math.min(a.text.length,n.ch+r*((r>0?l>=55296&&l<56320:l>=56320&&l<57343)?2:1))),-r)}else o=i?function(t,n,r,e){var i=st(n,t.doc.direction);if(!i)return Ju(n,r,e);r.ch>=n.text.length?(r.ch=n.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var u=at(i,r.ch,r.sticky),o=i[u];if("ltr"==t.doc.direction&&o.level%2==0&&(e>0?o.to>r.ch:o.from<r.ch))return Ju(n,r,e);var a,f=function(t,r){return Qu(n,t instanceof tn?t.ch:t,r)},s=function(r){return t.options.lineWrapping?(a=a||Tr(t,n),Jr(t,n,a,r)):{begin:0,end:n.text.length}},l=s("before"==r.sticky?f(r,-1):r.ch);if("rtl"==t.doc.direction||1==o.level){var c=1==o.level==e<0,h=f(r,c?1:-1);if(null!=h&&(c?h<=o.to&&h<=l.end:h>=o.from&&h>=l.begin))return new tn(r.line,h,c?"before":"after")}var d=function(t,n,e){for(var u=function(t,n){return n?new tn(r.line,f(t,1),"before"):new tn(r.line,t,"after")};t>=0&&t<i.length;t+=n){var o=i[t],a=n>0==(1!=o.level),s=a?e.begin:f(e.end,-1);if(o.from<=s&&s<o.to)return u(s,a);if(s=a?o.from:f(o.to,-1),e.begin<=s&&s<e.end)return u(s,a)}},v=d(u+e,e,l);if(v)return v;var m=e>0?l.end:f(l.begin,-1);return null==m||e>0&&m==n.text.length||!(v=d(e>0?0:i.length-1,e,s(m)))?null:v}(t.cm,a,n,r):Ju(a,n,r);if(null==o){if(u||((s=n.line+f)<t.first||s>=t.first+t.size||(n=new tn(s,n.ch,n.sticky),!(a=Gt(t,s)))))return!1;n=Yu(i,t.cm,a,n.line,f)}else n=o;return!0}if("char"==e||"codepoint"==e)s();else if("column"==e)s(!0);else if("word"==e||"group"==e)for(var l=null,c="group"==e,h=t.cm&&t.cm.getHelper(n,"wordChars"),d=!0;!(r<0)||s(!d);d=!1){var v=a.text.charAt(n.ch)||"\n",m=tt(v,h)?"w":c&&"\n"==v?"n":!c||/\s/.test(v)?null:"p";if(!c||d||m||(m="s"),l&&l!=m){r<0&&(r=1,s(),n.sticky="after");break}if(m&&(l=m),r>0&&!s(!d))break}var p=uu(t,n,u,o,!0);return rn(u,p)&&(p.hitSide=!0),p}function Ro(t,n,r,e){var i,u,o=t.doc,a=n.left;if("page"==e){var f=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),s=Math.max(f-.5*ee(t.display),3);i=(r>0?n.bottom:n.top)+r*s}else"line"==e&&(i=r>0?n.bottom+3:n.top-3);for(;(u=Kr(t,a,i)).outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}var Oo=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new R,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function qo(t,n){var r=Lr(t,n.line);if(!r||r.hidden)return null;var e=Gt(t.doc,n.line),i=Sr(r,e,n.line),u=st(e,t.doc.direction),o="left";u&&(o=at(u,n.ch)%2?"right":"left");var a=jr(i.map,n.ch,o);return a.offset="right"==a.collapse?a.end:a.start,a}function Po(t,n){return n&&(t.bad=!0),t}function Uo(t,n,r){var e;if(n==t.display.lineDiv){if(!(e=t.display.lineDiv.childNodes[r]))return Po(t.clipPos(tn(t.display.viewTo-1)),!0);n=null,r=0}else for(e=n;;e=e.parentNode){if(!e||e==t.display.lineDiv)return null;if(e.parentNode&&e.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var u=t.display.view[i];if(u.node==e)return Ho(u,n,r)}}function Ho(t,n,r){var e=t.text.firstChild,i=!1;if(!n||!L(e,n))return Po(tn(Kt(t.line),0),!0);if(n==e&&(i=!0,n=e.childNodes[r],r=0,!n)){var u=t.rest?X(t.rest):t.line;return Po(tn(Kt(u),u.text.length),i)}var o=3==n.nodeType?n:null,a=n;for(o||1!=n.childNodes.length||3!=n.firstChild.nodeType||(o=n.firstChild,r&&(r=o.nodeValue.length));a.parentNode!=e;)a=a.parentNode;var f=t.measure,s=f.maps;function l(n,r,e){for(var i=-1;i<(s?s.length:0);i++)for(var u=i<0?f.map:s[i],o=0;o<u.length;o+=3){var a=u[o+2];if(a==n||a==r){var l=Kt(i<0?t.line:t.rest[i]),c=u[o]+e;return(e<0||a!=n)&&(c=u[o+(e?1:0)]),tn(l,c)}}}var c=l(o,a,r);if(c)return Po(c,i);for(var h=a.nextSibling,d=o?o.nodeValue.length-r:0;h;h=h.nextSibling){if(c=l(h,h.firstChild,0))return Po(tn(c.line,c.ch-d),i);d+=h.textContent.length}for(var v=a.previousSibling,m=r;v;v=v.previousSibling){if(c=l(v,v.firstChild,-1))return Po(tn(c.line,c.ch+m),i);m+=v.textContent.length}}Oo.prototype.init=function(t){var n=this,r=this,e=r.cm,i=r.div=t.lineDiv;function u(t){for(var n=t.target;n;n=n.parentNode){if(n==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(n.className))break}return!1}function o(t){if(u(t)&&!mt(e,t)){if(e.somethingSelected())Lo({lineWise:!1,text:e.getSelections()}),"cut"==t.type&&e.replaceSelection("",null,"cut");else{if(!e.options.lineWiseCopyCut)return;var n=zo(e);Lo({lineWise:!0,text:n.text}),"cut"==t.type&&e.operation((function(){e.setSelections(n.ranges,0,P),e.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var o=Bo.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=Io(),f=a.firstChild;e.display.lineSpace.insertBefore(a,e.display.lineSpace.firstChild),f.value=Bo.text.join("\n");var s=T();z(f),setTimeout((function(){e.display.lineSpace.removeChild(a),s.focus(),s==i&&r.showPrimarySelection()}),50)}}i.contentEditable=!0,jo(i,e.options.spellcheck,e.options.autocorrect,e.options.autocapitalize),ct(i,"paste",(function(t){!u(t)||mt(e,t)||_o(t,e)||a<=11&&setTimeout(ti(e,(function(){return n.updateFromDOM()})),20)})),ct(i,"compositionstart",(function(t){n.composing={data:t.data,done:!1}})),ct(i,"compositionupdate",(function(t){n.composing||(n.composing={data:t.data,done:!1})})),ct(i,"compositionend",(function(t){n.composing&&(t.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)})),ct(i,"touchstart",(function(){return r.forceCompositionEnd()})),ct(i,"input",(function(){n.composing||n.readFromDOMSoon()})),ct(i,"copy",o),ct(i,"cut",o)},Oo.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Oo.prototype.prepareSelection=function(){var t=ge(this.cm,!1);return t.focus=T()==this.div,t},Oo.prototype.showSelection=function(t,n){t&&this.cm.display.view.length&&((t.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Oo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Oo.prototype.showPrimarySelection=function(){var t=this.getSelection(),n=this.cm,e=n.doc.sel.primary(),i=e.from(),u=e.to();if(n.display.viewTo==n.display.viewFrom||i.line>=n.display.viewTo||u.line<n.display.viewFrom)t.removeAllRanges();else{var o=Uo(n,t.anchorNode,t.anchorOffset),a=Uo(n,t.focusNode,t.focusOffset);if(!o||o.bad||!a||a.bad||0!=nn(on(o,a),i)||0!=nn(un(o,a),u)){var f=n.display.view,s=i.line>=n.display.viewFrom&&qo(n,i)||{node:f[0].measure.map[2],offset:0},l=u.line<n.display.viewTo&&qo(n,u);if(!l){var c=f[f.length-1].measure,h=c.maps?c.maps[c.maps.length-1]:c.map;l={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(s&&l){var d,v=t.rangeCount&&t.getRangeAt(0);try{d=E(s.node,s.offset,l.offset,l.node)}catch(t){}d&&(!r&&n.state.focused?(t.collapse(s.node,s.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),v&&null==t.anchorNode?t.addRange(v):r&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Oo.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},Oo.prototype.showMultipleSelections=function(t){M(this.cm.display.cursorDiv,t.cursors),M(this.cm.display.selectionDiv,t.selection)},Oo.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Oo.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var n=t.getRangeAt(0).commonAncestorContainer;return L(this.div,n)},Oo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&T()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Oo.prototype.blur=function(){this.div.blur()},Oo.prototype.getField=function(){return this.div},Oo.prototype.supportsTouch=function(){return!0},Oo.prototype.receivedFocus=function(){var t=this,n=this;this.selectionInEditor()?setTimeout((function(){return t.pollSelection()}),20):Ye(this.cm,(function(){return n.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,t))}))},Oo.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Oo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),n=this.cm;if(p&&l&&this.cm.display.gutterSpecs.length&&function(t){for(var n=t;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Uo(n,t.anchorNode,t.anchorOffset),e=Uo(n,t.focusNode,t.focusOffset);r&&e&&Ye(n,(function(){Yi(n.doc,Ei(r,e),P),(r.bad||e.bad)&&(n.curOp.selectionChanged=!0)}))}}},Oo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,n,r,e=this.cm,i=e.display,u=e.doc.sel.primary(),o=u.from(),a=u.to();if(0==o.ch&&o.line>e.firstLine()&&(o=tn(o.line-1,Gt(e.doc,o.line-1).length)),a.ch==Gt(e.doc,a.line).text.length&&a.line<e.lastLine()&&(a=tn(a.line+1,0)),o.line<i.viewFrom||a.line>i.viewTo-1)return!1;o.line==i.viewFrom||0==(t=le(e,o.line))?(n=Kt(i.view[0].line),r=i.view[0].node):(n=Kt(i.view[t].line),r=i.view[t-1].node.nextSibling);var f,s,l=le(e,a.line);if(l==i.view.length-1?(f=i.viewTo-1,s=i.lineDiv.lastChild):(f=Kt(i.view[l+1].line)-1,s=i.view[l+1].node.previousSibling),!r)return!1;for(var c=e.doc.splitLines(function(t,n,r,e,i){var u="",o=!1,a=t.doc.lineSeparator(),f=!1;function s(){o&&(u+=a,f&&(u+=a),o=f=!1)}function l(t){t&&(s(),u+=t)}function c(n){if(1==n.nodeType){var r=n.getAttribute("cm-text");if(r)return void l(r);var u,h=n.getAttribute("cm-marker");if(h){var d=t.findMarks(tn(e,0),tn(i+1,0),(p=+h,function(t){return t.id==p}));return void(d.length&&(u=d[0].find(0))&&l(Zt(t.doc,u.from,u.to).join(a)))}if("false"==n.getAttribute("contenteditable"))return;var v=/^(pre|div|p|li|table|br)$/i.test(n.nodeName);if(!/^br$/i.test(n.nodeName)&&0==n.textContent.length)return;v&&s();for(var m=0;m<n.childNodes.length;m++)c(n.childNodes[m]);/^(pre|p)$/i.test(n.nodeName)&&(f=!0),v&&(o=!0)}else 3==n.nodeType&&l(n.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var p}for(;c(n),n!=r;)n=n.nextSibling,f=!1;return u}(e,r,s,n,f)),h=Zt(e.doc,tn(n,0),tn(f,Gt(e.doc,f).text.length));c.length>1&&h.length>1;)if(X(c)==X(h))c.pop(),h.pop(),f--;else{if(c[0]!=h[0])break;c.shift(),h.shift(),n++}for(var d=0,v=0,m=c[0],p=h[0],g=Math.min(m.length,p.length);d<g&&m.charCodeAt(d)==p.charCodeAt(d);)++d;for(var D=X(c),b=X(h),x=Math.min(D.length-(1==c.length?d:0),b.length-(1==h.length?d:0));v<x&&D.charCodeAt(D.length-v-1)==b.charCodeAt(b.length-v-1);)++v;if(1==c.length&&1==h.length&&n==o.line)for(;d&&d>o.ch&&D.charCodeAt(D.length-v-1)==b.charCodeAt(b.length-v-1);)d--,v++;c[c.length-1]=D.slice(0,D.length-v).replace(/^\u200b+/,""),c[0]=c[0].slice(d).replace(/\u200b+$/,"");var w=tn(n,d),C=tn(f,h.length?X(h).length-v:0);return c.length>1||c[0]||nn(w,C)?(vu(e.doc,c,w,C,"+input"),!0):void 0},Oo.prototype.ensurePolled=function(){this.forceCompositionEnd()},Oo.prototype.reset=function(){this.forceCompositionEnd()},Oo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Oo.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},Oo.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Ye(this.cm,(function(){return ce(t.cm)}))},Oo.prototype.setUneditable=function(t){t.contentEditable="false"},Oo.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||ti(this.cm,To)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Oo.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Oo.prototype.onContextMenu=function(){},Oo.prototype.resetPosition=function(){},Oo.prototype.needsContentAttribute=!0;var Wo=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new R,this.hasSelection=!1,this.composing=null};Wo.prototype.init=function(t){var n=this,r=this,e=this.cm;this.createField(t);var i=this.textarea;function u(t){if(!mt(e,t)){if(e.somethingSelected())Lo({lineWise:!1,text:e.getSelections()});else{if(!e.options.lineWiseCopyCut)return;var n=zo(e);Lo({lineWise:!0,text:n.text}),"cut"==t.type?e.setSelections(n.ranges,null,P):(r.prevInput="",i.value=n.text.join("\n"),z(i))}"cut"==t.type&&(e.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(i.style.width="0px"),ct(i,"input",(function(){o&&a>=9&&n.hasSelection&&(n.hasSelection=null),r.poll()})),ct(i,"paste",(function(t){mt(e,t)||_o(t,e)||(e.state.pasteIncoming=+new Date,r.fastPoll())})),ct(i,"cut",u),ct(i,"copy",u),ct(t.scroller,"paste",(function(n){if(!Cr(t,n)&&!mt(e,n)){if(!i.dispatchEvent)return e.state.pasteIncoming=+new Date,void r.focus();var u=new Event("paste");u.clipboardData=n.clipboardData,i.dispatchEvent(u)}})),ct(t.lineSpace,"selectstart",(function(n){Cr(t,n)||bt(n)})),ct(i,"compositionstart",(function(){var t=e.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:t,range:e.markText(t,e.getCursor("to"),{className:"CodeMirror-composing"})}})),ct(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},Wo.prototype.createField=function(){this.wrapper=Io(),this.textarea=this.wrapper.firstChild},Wo.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Wo.prototype.prepareSelection=function(){var t=this.cm,n=t.display,r=t.doc,e=ge(t);if(t.options.moveInputWithCursor){var i=Zr(t,r.sel.primary().head,"div"),u=n.wrapper.getBoundingClientRect(),o=n.lineDiv.getBoundingClientRect();e.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,i.top+o.top-u.top)),e.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,i.left+o.left-u.left))}return e},Wo.prototype.showSelection=function(t){var n=this.cm.display;M(n.cursorDiv,t.cursors),M(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Wo.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var n=this.cm;if(n.somethingSelected()){this.prevInput="";var r=n.getSelection();this.textarea.value=r,n.state.focused&&z(this.textarea),o&&a>=9&&(this.hasSelection=r)}else t||(this.prevInput=this.textarea.value="",o&&a>=9&&(this.hasSelection=null))}},Wo.prototype.getField=function(){return this.textarea},Wo.prototype.supportsTouch=function(){return!1},Wo.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!g||T()!=this.textarea))try{this.textarea.focus()}catch(t){}},Wo.prototype.blur=function(){this.textarea.blur()},Wo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wo.prototype.receivedFocus=function(){this.slowPoll()},Wo.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Wo.prototype.fastPoll=function(){var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,(function r(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,r))}))},Wo.prototype.poll=function(){var t=this,n=this.cm,r=this.textarea,e=this.prevInput;if(this.contextMenuPending||!n.state.focused||Tt(r)&&!e&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var i=r.value;if(i==e&&!n.somethingSelected())return!1;if(o&&a>=9&&this.hasSelection===i||D&&/[\uf700-\uf7ff]/.test(i))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var u=i.charCodeAt(0);if(8203!=u||e||(e="​"),8666==u)return this.reset(),this.cm.execCommand("undo")}for(var f=0,s=Math.min(e.length,i.length);f<s&&e.charCodeAt(f)==i.charCodeAt(f);)++f;return Ye(n,(function(){To(n,i.slice(f),e.length-f,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=n.markText(t.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Wo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wo.prototype.onKeyPress=function(){o&&a>=9&&(this.hasSelection=null),this.fastPoll()},Wo.prototype.onContextMenu=function(t){var n=this,r=n.cm,e=r.display,i=n.textarea;n.contextMenuPending&&n.contextMenuPending();var u=se(r,t),s=e.scroller.scrollTop;if(u&&!c){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(u)&&ti(r,Yi)(r.doc,Ei(u),P);var l,h=i.style.cssText,d=n.wrapper.style.cssText,v=n.wrapper.offsetParent.getBoundingClientRect();if(n.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-v.top-5)+"px; left: "+(t.clientX-v.left-5)+"px;\n      z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",f&&(l=window.scrollY),e.input.focus(),f&&window.scrollTo(null,l),e.input.reset(),r.somethingSelected()||(i.value=n.prevInput=" "),n.contextMenuPending=g,e.selForContextMenu=r.doc.sel,clearTimeout(e.detectingSelectAll),o&&a>=9&&p(),y){Ct(t);var m=function(){dt(window,"mouseup",m),setTimeout(g,20)};ct(window,"mouseup",m)}else setTimeout(g,50)}function p(){if(null!=i.selectionStart){var t=r.somethingSelected(),u="​"+(t?i.value:"");i.value="⇚",i.value=u,n.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=u.length,e.selForContextMenu=r.doc.sel}}function g(){if(n.contextMenuPending==g&&(n.contextMenuPending=!1,n.wrapper.style.cssText=d,i.style.cssText=h,o&&a<9&&e.scrollbars.setScrollTop(e.scroller.scrollTop=s),null!=i.selectionStart)){(!o||o&&a<9)&&p();var t=0,u=function(){e.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==n.prevInput?ti(r,au)(r):t++<10?e.detectingSelectAll=setTimeout(u,500):(e.selForContextMenu=null,e.input.reset())};e.detectingSelectAll=setTimeout(u,200)}}},Wo.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Wo.prototype.setUneditable=function(){},Wo.prototype.needsContentAttribute=!1,function(t){var n=t.optionHandlers;function r(r,e,i,u){t.defaults[r]=e,i&&(n[r]=u?function(t,n,r){r!=Co&&i(t,n,r)}:i)}t.defineOption=r,t.Init=Co,r("value","",(function(t,n){return t.setValue(n)}),!0),r("mode",null,(function(t,n){t.doc.modeOption=n,Bi(t)}),!0),r("indentUnit",2,Bi,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(t){Li(t),Or(t),ce(t)}),!0),r("lineSeparator",null,(function(t,n){if(t.doc.lineSep=n,n){var r=[],e=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var u=t.text.indexOf(n,i);if(-1==u)break;i=u+n.length,r.push(tn(e,u))}e++}));for(var i=r.length-1;i>=0;i--)vu(t.doc,n,r[i],tn(r[i].line,r[i].ch+n.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),r!=Co&&t.refresh()})),r("specialCharPlaceholder",Yn,(function(t){return t.refresh()}),!0),r("electricChars",!0),r("inputStyle",g?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(t,n){return t.getInputField().spellcheck=n}),!0),r("autocorrect",!1,(function(t,n){return t.getInputField().autocorrect=n}),!0),r("autocapitalize",!1,(function(t,n){return t.getInputField().autocapitalize=n}),!0),r("rtlMoveVisually",!x),r("wholeLineUpdateBefore",!0),r("theme","default",(function(t){wo(t),mi(t)}),!0),r("keyMap","default",(function(t,n,r){var e=Vu(n),i=r!=Co&&Vu(r);i&&i.detach&&i.detach(t,e),e.attach&&e.attach(t,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Fo,!0),r("gutters",[],(function(t,n){t.display.gutterSpecs=di(n,t.options.lineNumbers),mi(t)}),!0),r("fixedGutter",!0,(function(t,n){t.display.gutters.style.left=n?oe(t.display)+"px":"0",t.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(t){return qe(t)}),!0),r("scrollbarStyle","native",(function(t){He(t),qe(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(t,n){t.display.gutterSpecs=di(t.options.gutters,n),mi(t)}),!0),r("firstLineNumber",1,mi,!0),r("lineNumberFormatter",(function(t){return t}),mi,!0),r("showCursorWhenSelecting",!1,pe,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(t,n){"nocursor"==n&&(Ee(t),t.display.input.blur()),t.display.input.readOnlyChanged(n)})),r("screenReaderLabel",null,(function(t,n){t.display.input.screenReaderLabelChanged(n=""===n?null:n)})),r("disableInput",!1,(function(t,n){n||t.display.input.reset()}),!0),r("dragDrop",!0,Eo),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,pe,!0),r("singleCursorHeightPerLine",!0,pe,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,Li,!0),r("addModeClass",!1,Li,!0),r("pollInterval",100),r("undoDepth",200,(function(t,n){return t.doc.history.undoDepth=n})),r("historyEventDelay",1250),r("viewportMargin",10,(function(t){return t.refresh()}),!0),r("maxHighlightLength",1e4,Li,!0),r("moveInputWithCursor",!0,(function(t,n){n||t.display.input.resetPosition()})),r("tabindex",null,(function(t,n){return t.display.input.getField().tabIndex=n||""})),r("autofocus",null),r("direction","ltr",(function(t,n){return t.doc.setDirection(n)}),!0),r("phrases",null)}(ko),function(t){var n=t.optionHandlers,r=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,r){var e=this.options,i=e[t];e[t]==r&&"mode"!=t||(e[t]=r,n.hasOwnProperty(t)&&ti(this,n[t])(this,r,i),vt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,n){this.state.keyMaps[n?"push":"unshift"](Vu(t))},removeKeyMap:function(t){for(var n=this.state.keyMaps,r=0;r<n.length;++r)if(n[r]==t||n[r].name==t)return n.splice(r,1),!0},addOverlay:ni((function(n,r){var e=n.token?n:t.getMode(this.options,n);if(e.startState)throw new Error("Overlays may not be stateful.");(function(t,n,r){for(var e=0,i=r(n);e<t.length&&r(t[e])<=i;)e++;t.splice(e,0,n)})(this.state.overlays,{mode:e,modeSpec:n,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(t){return t.priority})),this.state.modeGen++,ce(this)})),removeOverlay:ni((function(t){for(var n=this.state.overlays,r=0;r<n.length;++r){var e=n[r].modeSpec;if(e==t||"string"==typeof t&&e.name==t)return n.splice(r,1),this.state.modeGen++,void ce(this)}})),indentLine:ni((function(t,n,r){"string"!=typeof n&&"number"!=typeof n&&(n=null==n?this.options.smartIndent?"smart":"prev":n?"add":"subtract"),Jt(this.doc,t)&&So(this,t,n,r)})),indentSelection:ni((function(t){for(var n=this.doc.sel.ranges,r=-1,e=0;e<n.length;e++){var i=n[e];if(i.empty())i.head.line>r&&(So(this,i.head.line,t,!0),r=i.head.line,e==this.doc.sel.primIndex&&Le(this));else{var u=i.from(),o=i.to(),a=Math.max(r,u.line);r=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var f=a;f<r;++f)So(this,f,t);var s=this.doc.sel.ranges;0==u.ch&&n.length==s.length&&s[e].from().ch>0&&Ki(this.doc,e,new yi(u,s[e].to()),P)}}})),getTokenAt:function(t,n){return bn(this,t,n)},getLineTokens:function(t,n){return bn(this,tn(t),n,!0)},getTokenTypeAt:function(t){t=fn(this.doc,t);var n,r=dn(this,Gt(this.doc,t.line)),e=0,i=(r.length-1)/2,u=t.ch;if(0==u)n=r[2];else for(;;){var o=e+i>>1;if((o?r[2*o-1]:0)>=u)i=o;else{if(!(r[2*o+1]<u)){n=r[2*o+2];break}e=o+1}}var a=n?n.indexOf("overlay "):-1;return a<0?n:0==a?null:n.slice(0,a-1)},getModeAt:function(n){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(n).state).mode:r},getHelper:function(t,n){return this.getHelpers(t,n)[0]},getHelpers:function(t,n){var e=[];if(!r.hasOwnProperty(n))return e;var i=r[n],u=this.getModeAt(t);if("string"==typeof u[n])i[u[n]]&&e.push(i[u[n]]);else if(u[n])for(var o=0;o<u[n].length;o++){var a=i[u[n][o]];a&&e.push(a)}else u.helperType&&i[u.helperType]?e.push(i[u.helperType]):i[u.name]&&e.push(i[u.name]);for(var f=0;f<i._global.length;f++){var s=i._global[f];s.pred(u,this)&&-1==O(e,s.val)&&e.push(s.val)}return e},getStateAfter:function(t,n){var r=this.doc;return vn(this,(t=an(r,null==t?r.first+r.size-1:t))+1,n).state},cursorCoords:function(t,n){var r=this.doc.sel.primary();return Zr(this,null==t?r.head:"object"==typeof t?fn(this.doc,t):t?r.from():r.to(),n||"page")},charCoords:function(t,n){return Gr(this,fn(this.doc,t),n||"page")},coordsChar:function(t,n){return Kr(this,(t=Wr(this,t,n||"page")).left,t.top)},lineAtHeight:function(t,n){return t=Wr(this,{top:t,left:0},n||"page").top,Qt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,n,r){var e,i=!1;if("number"==typeof t){var u=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>u&&(t=u,i=!0),e=Gt(this.doc,t)}else e=t;return Hr(this,e,{top:0,left:0},n||"page",r||i).top+(i?this.doc.height-Hn(e):0)},defaultTextHeight:function(){return ee(this.display)},defaultCharWidth:function(){return ie(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,n,r,e,i){var u,o,a=this.display,f=(t=Zr(this,fn(this.doc,t))).bottom,s=t.left;if(n.style.position="absolute",n.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(n),a.sizer.appendChild(n),"over"==e)f=t.top;else if("above"==e||"near"==e){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==e||t.bottom+n.offsetHeight>l)&&t.top>n.offsetHeight?f=t.top-n.offsetHeight:t.bottom+n.offsetHeight<=l&&(f=t.bottom),s+n.offsetWidth>c&&(s=c-n.offsetWidth)}n.style.top=f+"px",n.style.left=n.style.right="","right"==i?(s=a.sizer.clientWidth-n.offsetWidth,n.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-n.offsetWidth)/2),n.style.left=s+"px"),r&&(null!=(o=Se(u=this,{left:s,top:f,right:s+n.offsetWidth,bottom:f+n.offsetHeight})).scrollTop&&ze(u,o.scrollTop),null!=o.scrollLeft&&Ie(u,o.scrollLeft))},triggerOnKeyDown:ni(so),triggerOnKeyPress:ni(co),triggerOnKeyUp:lo,triggerOnMouseDown:ni(po),execCommand:function(t){if(to.hasOwnProperty(t))return to[t].call(null,this)},triggerElectric:ni((function(t){No(this,t)})),findPosH:function(t,n,r,e){var i=1;n<0&&(i=-1,n=-n);for(var u=fn(this.doc,t),o=0;o<n&&!(u=$o(this.doc,u,i,r,e)).hitSide;++o);return u},moveH:ni((function(t,n){var r=this;this.extendSelectionsBy((function(e){return r.display.shift||r.doc.extend||e.empty()?$o(r.doc,e.head,t,n,r.options.rtlMoveVisually):t<0?e.from():e.to()}),H)})),deleteH:ni((function(t,n){var r=this.doc;this.doc.sel.somethingSelected()?r.replaceSelection("",null,"+delete"):Ku(this,(function(e){var i=$o(r,e.head,t,n,!1);return t<0?{from:i,to:e.head}:{from:e.head,to:i}}))})),findPosV:function(t,n,r,e){var i=1,u=e;n<0&&(i=-1,n=-n);for(var o=fn(this.doc,t),a=0;a<n;++a){var f=Zr(this,o,"div");if(null==u?u=f.left:f.left=u,(o=Ro(this,f,i,r)).hitSide)break}return o},moveV:ni((function(t,n){var r=this,e=this.doc,i=[],u=!this.display.shift&&!e.extend&&e.sel.somethingSelected();if(e.extendSelectionsBy((function(o){if(u)return t<0?o.from():o.to();var a=Zr(r,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),i.push(a.left);var f=Ro(r,a,t,n);return"page"==n&&o==e.sel.primary()&&Be(r,Gr(r,f,"div").top-a.top),f}),H),i.length)for(var o=0;o<e.sel.ranges.length;o++)e.sel.ranges[o].goalColumn=i[o]})),findWordAt:function(t){var n=Gt(this.doc,t.line).text,r=t.ch,e=t.ch;if(n){var i=this.getHelper(t,"wordChars");"before"!=t.sticky&&e!=n.length||!r?++e:--r;for(var u=n.charAt(r),o=tt(u,i)?function(t){return tt(t,i)}:/\s/.test(u)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!tt(t)};r>0&&o(n.charAt(r-1));)--r;for(;e<n.length&&o(n.charAt(e));)++e}return new yi(tn(t.line,r),tn(t.line,e))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?_(this.display.cursorDiv,"CodeMirror-overwrite"):F(this.display.cursorDiv,"CodeMirror-overwrite"),vt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==T()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ni((function(t,n){Te(this,t,n)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Fr(this)-this.display.barHeight,width:t.scrollWidth-Fr(this)-this.display.barWidth,clientHeight:Mr(this),clientWidth:kr(this)}},scrollIntoView:ni((function(t,n){null==t?(t={from:this.doc.sel.primary().head,to:null},null==n&&(n=this.options.cursorScrollMargin)):"number"==typeof t?t={from:tn(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=n||0,null!=t.from.line?function(t,n){_e(t),t.curOp.scrollToPos=n}(this,t):Ne(this,t.from,t.to,t.margin)})),setSize:ni((function(t,n){var r=this,e=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=e(t)),null!=n&&(this.display.wrapper.style.height=e(n)),this.options.lineWrapping&&Rr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var n=0;n<t.widgets.length;n++)if(t.widgets[n].noHScroll){he(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,vt(this,"refresh",this)})),operation:function(t){return Ye(this,t)},startOperation:function(){return Ge(this)},endOperation:function(){return Ze(this)},refresh:ni((function(){var t=this.display.cachedTextHeight;ce(this),this.curOp.forceUpdate=!0,Or(this),Te(this,this.doc.scrollLeft,this.doc.scrollTop),si(this.display),(null==t||Math.abs(t-ee(this.display))>.5||this.options.lineWrapping)&&fe(this),vt(this,"refresh",this)})),swapDoc:ni((function(t){var n=this.doc;return n.cm=null,this.state.selectingText&&this.state.selectingText(),zi(this,t),Or(this),this.display.input.reset(),Te(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,fr(this,"swapDoc",this,n),n})),phrase:function(t){var n=this.options.phrases;return n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Dt(t),t.registerHelper=function(n,e,i){r.hasOwnProperty(n)||(r[n]=t[n]={_global:[]}),r[n][e]=i},t.registerGlobalHelper=function(n,e,i,u){t.registerHelper(n,e,u),r[n]._global.push({pred:i,val:u})}}(ko);var Go="iter insert remove copy getEditor constructor".split(" ");for(var Zo in Bu.prototype)Bu.prototype.hasOwnProperty(Zo)&&O(Go,Zo)<0&&(ko.prototype[Zo]=function(t){return function(){return t.apply(this.doc,arguments)}}(Bu.prototype[Zo]));return Dt(Bu),ko.inputStyles={textarea:Wo,contenteditable:Oo},ko.defineMode=function(t){ko.defaults.mode||"null"==t||(ko.defaults.mode=t),It.apply(this,arguments)},ko.defineMIME=function(t,n){jt[t]=n},ko.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),ko.defineMIME("text/plain","null"),ko.defineExtension=function(t,n){ko.prototype[t]=n},ko.defineDocExtension=function(t,n){Bu.prototype[t]=n},ko.fromTextArea=function(t,n){if((n=n?I(n):{}).value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=T();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}function e(){t.value=a.getValue()}var i;if(t.form&&(ct(t.form,"submit",e),!n.leaveSubmitMethodAlone)){var u=t.form;i=u.submit;try{var o=u.submit=function(){e(),u.submit=i,u.submit(),u.submit=o}}catch(t){}}n.finishInit=function(r){r.save=e,r.getTextArea=function(){return t},r.toTextArea=function(){r.toTextArea=isNaN,e(),t.parentNode.removeChild(r.getWrapperElement()),t.style.display="",t.form&&(dt(t.form,"submit",e),n.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var a=ko((function(n){return t.parentNode.insertBefore(n,t.nextSibling)}),n);return a},function(t){t.off=dt,t.on=ct,t.wheelEventPixels=xi,t.Doc=Bu,t.splitLines=Lt,t.countColumn=$,t.findColumn=W,t.isWordChar=Y,t.Pass=q,t.signal=vt,t.Line=Zn,t.changeEnd=Fi,t.scrollbarModel=Ue,t.Pos=tn,t.cmpPos=nn,t.modes=zt,t.mimeModes=jt,t.resolveMode=$t,t.getMode=Rt,t.modeExtensions=Ot,t.extendMode=qt,t.copyState=Pt,t.startState=Ht,t.innerMode=Ut,t.commands=to,t.keyMap=Pu,t.keyName=Xu,t.isModifierKey=Gu,t.lookupKey=Wu,t.normalizeKeyMap=Hu,t.StringStream=Wt,t.SharedTextMarker=Fu,t.TextMarker=Au,t.LineWidget=wu,t.e_preventDefault=bt,t.e_stopPropagation=xt,t.e_stop=Ct,t.addClass=_,t.contains=L,t.rmClass=F,t.keyNames=$u}(ko),ko.version="5.63.3",ko}()}));i((function(){!function(t){var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,e=/[*+-]\s/;function i(t,r){var e=r.line,i=0,u=0,o=n.exec(t.getLine(e)),a=o[1];do{var f=e+(i+=1),s=t.getLine(f),l=n.exec(s);if(l){var c=l[1],h=parseInt(o[3],10)+i-u,d=parseInt(l[3],10),v=d;if(a!==c||isNaN(d)){if(a.length>c.length)return;if(a.length<c.length&&1===i)return;u+=1}else h===d&&(v=d+1),h>d&&(v=h+1),t.replaceRange(s.replace(n,c+v+l[4]+l[5]),{line:f,ch:0},{line:f,ch:s.length})}}while(l)}t.commands.newlineAndIndentContinueMarkdownList=function(u){if(u.getOption("disableInput"))return t.Pass;for(var o=u.listSelections(),a=[],f=0;f<o.length;f++){var s=o[f].head,l=u.getStateAfter(s.line),c=t.innerMode(u.getMode(),l);if("markdown"!==c.mode.name)return void u.execCommand("newlineAndIndent");var h=!1!==(l=c.state).list,d=0!==l.quote,v=u.getLine(s.line),m=n.exec(v),p=/^\s*$/.test(v.slice(0,s.ch));if(!o[f].empty()||!h&&!d||!m||p)return void u.execCommand("newlineAndIndent");if(r.test(v)){var g=d&&/>\s*$/.test(v),D=!/>\s*$/.test(v);(g||D)&&u.replaceRange("",{line:s.line,ch:0},{line:s.line,ch:s.ch+1}),a[f]="\n"}else{var b=m[1],x=m[5],w=!(e.test(m[2])||m[2].indexOf(">")>=0),C=w?parseInt(m[3],10)+1+m[4]:m[2].replace("x"," ");a[f]="\n"+b+C+x,w&&i(u,s)}}u.replaceSelections(a)}}(x)})),x.commands.tabAndIndentMarkdownList=function(t){var n=t.listSelections();if(!1!==t.getStateAfter(n[0].head.line).list)t.execCommand("indentMore");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var r=Array(t.options.tabSize+1).join(" ");t.replaceSelection(r)}},x.commands.shiftTabAndUnindentMarkdownList=function(t){var n=t.listSelections();if(!1!==t.getStateAfter(n[0].head.line).list)t.execCommand("indentLess");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var r=Array(t.options.tabSize+1).join(" ");t.replaceSelection(r)}},i((function(){var t;(t=x).defineOption("fullScreen",!1,(function(n,r,e){e==t.Init&&(e=!1),!e!=!r&&(r?function(t){var n=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:n.style.width,height:n.style.height},n.style.width="",n.style.height="auto",n.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}(n):function(t){var n=t.getWrapperElement();n.className=n.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var r=t.state.fullScreenRestore;n.style.width=r.width,n.style.height=r.height,window.scrollTo(r.scrollLeft,r.scrollTop),t.refresh()}(n))}))})),i((function(){var t,n,r;n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1},(t=x).defineMode("xml",(function(e,i){var u,o,a=e.indentUnit,f={},s=i.htmlMode?n:r;for(var l in s)f[l]=s[l];for(var l in i)f[l]=i[l];function c(t,n){function r(r){return n.tokenize=r,r(t,n)}var e=t.next();return"<"==e?t.eat("!")?t.eat("[")?t.match("CDATA[")?r(d("atom","]]>")):null:t.match("--")?r(d("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(v(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),n.tokenize=d("meta","?>"),"meta"):(u=t.eat("/")?"closeTag":"openTag",n.tokenize=h,"tag bracket"):"&"==e?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function h(t,n){var r,e,i=t.next();if(">"==i||"/"==i&&t.eat(">"))return n.tokenize=c,u=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return u="equals",null;if("<"==i){n.tokenize=c,n.state=b,n.tagName=n.tagStart=null;var o=n.tokenize(t,n);return o?o+" tag error":"tag error"}return/[\'\"]/.test(i)?(n.tokenize=(r=i,(e=function(t,n){for(;!t.eol();)if(t.next()==r){n.tokenize=h;break}return"string"}).isInAttribute=!0,e),n.stringStartCol=t.column(),n.tokenize(t,n)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(t,n){return function(r,e){for(;!r.eol();){if(r.match(n)){e.tokenize=c;break}r.next()}return t}}function v(t){return function(n,r){for(var e;null!=(e=n.next());){if("<"==e)return r.tokenize=v(t+1),r.tokenize(n,r);if(">"==e){if(1==t){r.tokenize=c;break}return r.tokenize=v(t-1),r.tokenize(n,r)}}return"meta"}}function m(t){return t&&t.toLowerCase()}function p(t,n,r){this.prev=t.context,this.tagName=n||"",this.indent=t.indented,this.startOfLine=r,(f.doNotIndent.hasOwnProperty(n)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function g(t){t.context&&(t.context=t.context.prev)}function D(t,n){for(var r;;){if(!t.context)return;if(!f.contextGrabbers.hasOwnProperty(m(r=t.context.tagName))||!f.contextGrabbers[m(r)].hasOwnProperty(m(n)))return;g(t)}}function b(t,n,r){return"openTag"==t?(r.tagStart=n.column(),x):"closeTag"==t?w:b}function x(t,n,r){return"word"==t?(r.tagName=n.current(),o="tag",A):f.allowMissingTagName&&"endTag"==t?(o="tag bracket",A(t,0,r)):(o="error",x)}function w(t,n,r){if("word"==t){var e=n.current();return r.context&&r.context.tagName!=e&&f.implicitlyClosed.hasOwnProperty(m(r.context.tagName))&&g(r),r.context&&r.context.tagName==e||!1===f.matchClosing?(o="tag",C):(o="tag error",y)}return f.allowMissingTagName&&"endTag"==t?(o="tag bracket",C(t,0,r)):(o="error",y)}function C(t,n,r){return"endTag"!=t?(o="error",C):(g(r),b)}function y(t,n,r){return o="error",C(t,0,r)}function A(t,n,r){if("word"==t)return o="attribute",E;if("endTag"==t||"selfcloseTag"==t){var e=r.tagName,i=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==t||f.autoSelfClosers.hasOwnProperty(m(e))?D(r,e):(D(r,e),r.context=new p(r,e,i==r.indented)),b}return o="error",A}function E(t,n,r){return"equals"==t?F:(f.allowMissing||(o="error"),A(t,0,r))}function F(t,n,r){return"string"==t?k:"word"==t&&f.allowUnquoted?(o="string",A):(o="error",A(t,0,r))}function k(t,n,r){return"string"==t?k:A(t,0,r)}return c.isInText=!0,{startState:function(t){var n={tokenize:c,state:b,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(n.baseIndent=t),n},token:function(t,n){if(!n.tagName&&t.sol()&&(n.indented=t.indentation()),t.eatSpace())return null;u=null;var r=n.tokenize(t,n);return(r||u)&&"comment"!=r&&(o=null,n.state=n.state(u||r,t,n),o&&(r="error"==o?r+" error":o)),r},indent:function(n,r,e){var i=n.context;if(n.tokenize.isInAttribute)return n.tagStart==n.indented?n.stringStartCol+1:n.indented+a;if(i&&i.noIndent)return t.Pass;if(n.tokenize!=h&&n.tokenize!=c)return e?e.match(/^(\s*)/)[0].length:0;if(n.tagName)return!1!==f.multilineTagIndentPastTag?n.tagStart+n.tagName.length+2:n.tagStart+a*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(r))return 0;var u=r&&/^<(\/)?([\w_:\.-]*)/.exec(r);if(u&&u[1])for(;i;){if(i.tagName==u[2]){i=i.prev;break}if(!f.implicitlyClosed.hasOwnProperty(m(i.tagName)))break;i=i.prev}else if(u)for(;i;){var o=f.contextGrabbers[m(i.tagName)];if(!o||!o.hasOwnProperty(m(u[2])))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+a:n.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(t){t.state==F&&(t.state=A)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var n=[],r=t.context;r;r=r.prev)n.push(r.tagName);return n.reverse()}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})),i((function(){!function(t){t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var n=0;n<t.modeInfo.length;n++){var r=t.modeInfo[n];r.mimes&&(r.mime=r.mimes[0])}t.findModeByMIME=function(n){n=n.toLowerCase();for(var r=0;r<t.modeInfo.length;r++){var e=t.modeInfo[r];if(e.mime==n)return e;if(e.mimes)for(var i=0;i<e.mimes.length;i++)if(e.mimes[i]==n)return e}return/\+xml$/.test(n)?t.findModeByMIME("application/xml"):/\+json$/.test(n)?t.findModeByMIME("application/json"):void 0},t.findModeByExtension=function(n){n=n.toLowerCase();for(var r=0;r<t.modeInfo.length;r++){var e=t.modeInfo[r];if(e.ext)for(var i=0;i<e.ext.length;i++)if(e.ext[i]==n)return e}},t.findModeByFileName=function(n){for(var r=0;r<t.modeInfo.length;r++){var e=t.modeInfo[r];if(e.file&&e.file.test(n))return e}var i=n.lastIndexOf("."),u=i>-1&&n.substring(i+1,n.length);if(u)return t.findModeByExtension(u)},t.findModeByName=function(n){n=n.toLowerCase();for(var r=0;r<t.modeInfo.length;r++){var e=t.modeInfo[r];if(e.name.toLowerCase()==n)return e;if(e.alias)for(var i=0;i<e.alias.length;i++)if(e.alias[i].toLowerCase()==n)return e}}}(x)})),i((function(){var t;(t=x).defineMode("markdown",(function(n,r){var e=t.getMode(n,"text/html"),i="null"==e.name;void 0===r.highlightFormatting&&(r.highlightFormatting=!1),void 0===r.maxBlockquoteDepth&&(r.maxBlockquoteDepth=0),void 0===r.taskLists&&(r.taskLists=!1),void 0===r.strikethrough&&(r.strikethrough=!1),void 0===r.emoji&&(r.emoji=!1),void 0===r.fencedCodeBlockHighlighting&&(r.fencedCodeBlockHighlighting=!0),void 0===r.fencedCodeBlockDefaultMode&&(r.fencedCodeBlockDefaultMode="text/plain"),void 0===r.xml&&(r.xml=!0),void 0===r.tokenTypeOverrides&&(r.tokenTypeOverrides={});var u={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var o in u)u.hasOwnProperty(o)&&r.tokenTypeOverrides[o]&&(u[o]=r.tokenTypeOverrides[o]);var a=/^([*\-_])(?:\s*\1){2,}\s*$/,f=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,s=/^\[(x| )\](?=\s)/i,l=r.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,c=/^ {0,3}(?:\={1,}|-{2,})\s*$/,h=/^[^#!\[\]*_\\<>` "'(~:]+/,d=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,v=/^\s*\[[^\]]+?\]:.*$/,m=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function p(t,n,r){return n.f=n.inline=r,r(t,n)}function g(t,n,r){return n.f=n.block=r,r(t,n)}function D(n){if(n.linkTitle=!1,n.linkHref=!1,n.linkText=!1,n.em=!1,n.strong=!1,n.strikethrough=!1,n.quote=0,n.indentedCode=!1,n.f==x){var r=i;if(!r){var u=t.innerMode(e,n.htmlState);r="xml"==u.mode.name&&null===u.state.tagStart&&!u.state.context&&u.state.tokenize.isInText}r&&(n.f=A,n.block=b,n.htmlState=null)}return n.trailingSpace=0,n.trailingSpaceNewLine=!1,n.prevLine=n.thisLine,n.thisLine={stream:null},null}function b(e,i){var o,h=e.column()===i.indentation,m=!(o=i.prevLine.stream)||!/\S/.test(o.string),g=i.indentedCode,D=i.prevLine.hr,b=!1!==i.list,x=(i.listStack[i.listStack.length-1]||0)+3;i.indentedCode=!1;var y=i.indentation;if(null===i.indentationDiff&&(i.indentationDiff=i.indentation,b)){for(i.list=null;y<i.listStack[i.listStack.length-1];)i.listStack.pop(),i.listStack.length?i.indentation=i.listStack[i.listStack.length-1]:i.list=!1;!1!==i.list&&(i.indentationDiff=y-i.listStack[i.listStack.length-1])}var A=!(m||D||i.prevLine.header||b&&g||i.prevLine.fencedCodeEnd),E=(!1===i.list||D||m)&&i.indentation<=x&&e.match(a),F=null;if(i.indentationDiff>=4&&(g||i.prevLine.fencedCodeEnd||i.prevLine.header||m))return e.skipToEnd(),i.indentedCode=!0,u.code;if(e.eatSpace())return null;if(h&&i.indentation<=x&&(F=e.match(l))&&F[1].length<=6)return i.quote=0,i.header=F[1].length,i.thisLine.header=!0,r.highlightFormatting&&(i.formatting="header"),i.f=i.inline,C(i);if(i.indentation<=x&&e.eat(">"))return i.quote=h?1:i.quote+1,r.highlightFormatting&&(i.formatting="quote"),e.eatSpace(),C(i);if(!E&&!i.setext&&h&&i.indentation<=x&&(F=e.match(f))){var k=F[1]?"ol":"ul";return i.indentation=y+e.current().length,i.list=!0,i.quote=0,i.listStack.push(i.indentation),i.em=!1,i.strong=!1,i.code=!1,i.strikethrough=!1,r.taskLists&&e.match(s,!1)&&(i.taskList=!0),i.f=i.inline,r.highlightFormatting&&(i.formatting=["list","list-"+k]),C(i)}return h&&i.indentation<=x&&(F=e.match(d,!0))?(i.quote=0,i.fencedEndRE=new RegExp(F[1]+"+ *$"),i.localMode=r.fencedCodeBlockHighlighting&&function(r){if(t.findModeByName){var e=t.findModeByName(r);e&&(r=e.mime||e.mimes[0])}var i=t.getMode(n,r);return"null"==i.name?null:i}(F[2]||r.fencedCodeBlockDefaultMode),i.localMode&&(i.localState=t.startState(i.localMode)),i.f=i.block=w,r.highlightFormatting&&(i.formatting="code-block"),i.code=-1,C(i)):i.setext||!(A&&b||i.quote||!1!==i.list||i.code||E||v.test(e.string))&&(F=e.lookAhead(1))&&(F=F.match(c))?(i.setext?(i.header=i.setext,i.setext=0,e.skipToEnd(),r.highlightFormatting&&(i.formatting="header")):(i.header="="==F[0].charAt(0)?1:2,i.setext=i.header),i.thisLine.header=!0,i.f=i.inline,C(i)):E?(e.skipToEnd(),i.hr=!0,i.thisLine.hr=!0,u.hr):"["===e.peek()?p(e,i,M):p(e,i,i.inline)}function x(n,r){var u=e.token(n,r.htmlState);if(!i){var o=t.innerMode(e,r.htmlState);("xml"==o.mode.name&&null===o.state.tagStart&&!o.state.context&&o.state.tokenize.isInText||r.md_inside&&n.current().indexOf(">")>-1)&&(r.f=A,r.block=b,r.htmlState=null)}return u}function w(t,n){var e,i=n.listStack[n.listStack.length-1]||0,o=n.indentation<i;return n.fencedEndRE&&n.indentation<=i+3&&(o||t.match(n.fencedEndRE))?(r.highlightFormatting&&(n.formatting="code-block"),o||(e=C(n)),n.localMode=n.localState=null,n.block=b,n.f=A,n.fencedEndRE=null,n.code=0,n.thisLine.fencedCodeEnd=!0,o?g(t,n,n.block):e):n.localMode?n.localMode.token(t,n.localState):(t.skipToEnd(),u.code)}function C(t){var n=[];if(t.formatting){n.push(u.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var e=0;e<t.formatting.length;e++)n.push(u.formatting+"-"+t.formatting[e]),"header"===t.formatting[e]&&n.push(u.formatting+"-"+t.formatting[e]+"-"+t.header),"quote"===t.formatting[e]&&n.push(!r.maxBlockquoteDepth||r.maxBlockquoteDepth>=t.quote?u.formatting+"-"+t.formatting[e]+"-"+t.quote:"error")}if(t.taskOpen)return n.push("meta"),n.length?n.join(" "):null;if(t.taskClosed)return n.push("property"),n.length?n.join(" "):null;if(t.linkHref?n.push(u.linkHref,"url"):(t.strong&&n.push(u.strong),t.em&&n.push(u.em),t.strikethrough&&n.push(u.strikethrough),t.emoji&&n.push(u.emoji),t.linkText&&n.push(u.linkText),t.code&&n.push(u.code),t.image&&n.push(u.image),t.imageAltText&&n.push(u.imageAltText,"link"),t.imageMarker&&n.push(u.imageMarker)),t.header&&n.push(u.header,u.header+"-"+t.header),t.quote&&(n.push(u.quote),n.push(!r.maxBlockquoteDepth||r.maxBlockquoteDepth>=t.quote?u.quote+"-"+t.quote:u.quote+"-"+r.maxBlockquoteDepth)),!1!==t.list){var i=(t.listStack.length-1)%3;n.push(i?1===i?u.list2:u.list3:u.list1)}return t.trailingSpaceNewLine?n.push("trailing-space-new-line"):t.trailingSpace&&n.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),n.length?n.join(" "):null}function y(t,n){if(t.match(h,!0))return C(n)}function A(n,i){var o=i.text(n,i);if(void 0!==o)return o;if(i.list)return i.list=null,C(i);if(i.taskList)return" "===n.match(s,!0)[1]?i.taskOpen=!0:i.taskClosed=!0,r.highlightFormatting&&(i.formatting="task"),i.taskList=!1,C(i);if(i.taskOpen=!1,i.taskClosed=!1,i.header&&n.match(/^#+$/,!0))return r.highlightFormatting&&(i.formatting="header"),C(i);var a=n.next();if(i.linkTitle){i.linkTitle=!1;var f=a;if("("===a&&(f=")"),f=(f+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"),n.match(new RegExp("^\\s*(?:[^"+f+"\\\\]+|\\\\\\\\|\\\\.)"+f),!0))return u.linkHref}if("`"===a){var l=i.formatting;r.highlightFormatting&&(i.formatting="code"),n.eatWhile("`");var c=n.current().length;if(0!=i.code||i.quote&&1!=c){if(c==i.code){var h=C(i);return i.code=0,h}return i.formatting=l,C(i)}return i.code=c,C(i)}if(i.code)return C(i);if("\\"===a&&(n.next(),r.highlightFormatting)){var d=C(i),v=u.formatting+"-escape";return d?d+" "+v:v}if("!"===a&&n.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return i.imageMarker=!0,i.image=!0,r.highlightFormatting&&(i.formatting="image"),C(i);if("["===a&&i.imageMarker&&n.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return i.imageMarker=!1,i.imageAltText=!0,r.highlightFormatting&&(i.formatting="image"),C(i);if("]"===a&&i.imageAltText){r.highlightFormatting&&(i.formatting="image");d=C(i);return i.imageAltText=!1,i.image=!1,i.inline=i.f=F,d}if("["===a&&!i.image)return i.linkText&&n.match(/^.*?\]/)||(i.linkText=!0,r.highlightFormatting&&(i.formatting="link")),C(i);if("]"===a&&i.linkText){r.highlightFormatting&&(i.formatting="link");d=C(i);return i.linkText=!1,i.inline=i.f=n.match(/\(.*?\)| ?\[.*?\]/,!1)?F:A,d}if("<"===a&&n.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return i.f=i.inline=E,r.highlightFormatting&&(i.formatting="link"),(d=C(i))?d+=" ":d="",d+u.linkInline;if("<"===a&&n.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return i.f=i.inline=E,r.highlightFormatting&&(i.formatting="link"),(d=C(i))?d+=" ":d="",d+u.linkEmail;if(r.xml&&"<"===a&&n.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var p=n.string.indexOf(">",n.pos);if(-1!=p){var D=n.string.substring(n.start,p);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(D)&&(i.md_inside=!0)}return n.backUp(1),i.htmlState=t.startState(e),g(n,i,x)}if(r.xml&&"<"===a&&n.match(/^\/\w*?>/))return i.md_inside=!1,"tag";if("*"===a||"_"===a){for(var b=1,w=1==n.pos?" ":n.string.charAt(n.pos-2);b<3&&n.eat(a);)b++;var y=n.peek()||" ",k=!/\s/.test(y)&&(!m.test(y)||/\s/.test(w)||m.test(w)),M=!/\s/.test(w)&&(!m.test(w)||/\s/.test(y)||m.test(y)),S=null,B=null;if(b%2&&(i.em||!k||"*"!==a&&M&&!m.test(w)?i.em!=a||!M||"*"!==a&&k&&!m.test(y)||(S=!1):S=!0),b>1&&(i.strong||!k||"*"!==a&&M&&!m.test(w)?i.strong!=a||!M||"*"!==a&&k&&!m.test(y)||(B=!1):B=!0),null!=B||null!=S)return r.highlightFormatting&&(i.formatting=null==S?"strong":null==B?"em":"strong em"),!0===S&&(i.em=a),!0===B&&(i.strong=a),h=C(i),!1===S&&(i.em=!1),!1===B&&(i.strong=!1),h}else if(" "===a&&(n.eat("*")||n.eat("_"))){if(" "===n.peek())return C(i);n.backUp(1)}if(r.strikethrough)if("~"===a&&n.eatWhile(a)){if(i.strikethrough)return r.highlightFormatting&&(i.formatting="strikethrough"),h=C(i),i.strikethrough=!1,h;if(n.match(/^[^\s]/,!1))return i.strikethrough=!0,r.highlightFormatting&&(i.formatting="strikethrough"),C(i)}else if(" "===a&&n.match("~~",!0)){if(" "===n.peek())return C(i);n.backUp(2)}if(r.emoji&&":"===a&&n.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){i.emoji=!0,r.highlightFormatting&&(i.formatting="emoji");var L=C(i);return i.emoji=!1,L}return" "===a&&(n.match(/^ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),C(i)}function E(t,n){if(">"===t.next()){n.f=n.inline=A,r.highlightFormatting&&(n.formatting="link");var e=C(n);return e?e+=" ":e="",e+u.linkInline}return t.match(/^[^>]+/,!0),u.linkInline}function F(t,n){if(t.eatSpace())return null;var e,i=t.next();return"("===i||"["===i?(n.f=n.inline=(e="("===i?")":"]",function(t,n){if(t.next()===e){n.f=n.inline=A,r.highlightFormatting&&(n.formatting="link-string");var i=C(n);return n.linkHref=!1,i}return t.match(k[e]),n.linkHref=!0,C(n)}),r.highlightFormatting&&(n.formatting="link-string"),n.linkHref=!0,C(n)):"error"}var k={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function M(t,n){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(n.f=S,t.next(),r.highlightFormatting&&(n.formatting="link"),n.linkText=!0,C(n)):p(t,n,A)}function S(t,n){if(t.match("]:",!0)){n.f=n.inline=B,r.highlightFormatting&&(n.formatting="link");var e=C(n);return n.linkText=!1,e}return t.match(/^([^\]\\]|\\.)+/,!0),u.linkText}function B(t,n){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?n.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),n.f=n.inline=A,u.linkHref+" url")}var L={startState:function(){return{f:b,prevLine:{stream:null},thisLine:{stream:null},block:b,htmlState:null,indentation:0,inline:A,text:y,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(n){return{f:n.f,prevLine:n.prevLine,thisLine:n.thisLine,block:n.block,htmlState:n.htmlState&&t.copyState(e,n.htmlState),indentation:n.indentation,localMode:n.localMode,localState:n.localMode?t.copyState(n.localMode,n.localState):null,inline:n.inline,text:n.text,formatting:!1,linkText:n.linkText,linkTitle:n.linkTitle,linkHref:n.linkHref,code:n.code,em:n.em,strong:n.strong,strikethrough:n.strikethrough,emoji:n.emoji,header:n.header,setext:n.setext,hr:n.hr,taskList:n.taskList,list:n.list,listStack:n.listStack.slice(0),quote:n.quote,indentedCode:n.indentedCode,trailingSpace:n.trailingSpace,trailingSpaceNewLine:n.trailingSpaceNewLine,md_inside:n.md_inside,fencedEndRE:n.fencedEndRE}},token:function(t,n){if(n.formatting=!1,t!=n.thisLine.stream){if(n.header=0,n.hr=!1,t.match(/^\s*$/,!0))return D(n),null;if(n.prevLine=n.thisLine,n.thisLine={stream:t},n.taskList=!1,n.trailingSpace=0,n.trailingSpaceNewLine=!1,!n.localState&&(n.f=n.block,n.f!=x)){var r=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(n.indentation=r,n.indentationDiff=null,r>0)return null}}return n.f(t,n)},innerMode:function(t){return t.block==x?{state:t.htmlState,mode:e}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:L}},indent:function(n,r,i){return n.block==x&&e.indent?e.indent(n.htmlState,r,i):n.localState&&n.localMode.indent?n.localMode.indent(n.localState,r,i):t.Pass},blankLine:D,getType:C,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return L}),"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")})),i((function(){var t;(t=x).overlayMode=function(n,r,e){return{startState:function(){return{base:t.startState(n),overlay:t.startState(r),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(e){return{base:t.copyState(n,e.base),overlay:t.copyState(r,e.overlay),basePos:e.basePos,baseCur:null,overlayPos:e.overlayPos,overlayCur:null}},token:function(t,i){return(t!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<t.start)&&(i.streamSeen=t,i.basePos=i.overlayPos=t.start),t.start==i.basePos&&(i.baseCur=n.token(t,i.base),i.basePos=t.pos),t.start==i.overlayPos&&(t.pos=t.start,i.overlayCur=r.token(t,i.overlay),i.overlayPos=t.pos),t.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||e&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:n.indent&&function(t,r,e){return n.indent(t.base,r,e)},electricChars:n.electricChars,innerMode:function(t){return{state:t.base,mode:n}},blankLine:function(t){var i,u;return n.blankLine&&(i=n.blankLine(t.base)),r.blankLine&&(u=r.blankLine(t.overlay)),null==u?i:e&&null!=i?i+" "+u:u}}}})),i((function(){!function(t){function n(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function r(t){n(t);var r=t.state.placeholder=document.createElement("pre");r.style.cssText="height: 0; overflow: visible",r.style.direction=t.getOption("direction"),r.className="CodeMirror-placeholder CodeMirror-line-like";var e=t.getOption("placeholder");"string"==typeof e&&(e=document.createTextNode(e)),r.appendChild(e),t.display.lineSpace.insertBefore(r,t.display.lineSpace.firstChild)}function e(t){u(t)&&r(t)}function i(t){var e=t.getWrapperElement(),i=u(t);e.className=e.className.replace(" CodeMirror-empty","")+(i?" CodeMirror-empty":""),i?r(t):n(t)}function u(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",(function(u,o,a){var f=a&&a!=t.Init;if(o&&!f)u.on("blur",e),u.on("change",i),u.on("swapDoc",i),t.on(u.getInputField(),"compositionupdate",u.state.placeholderCompose=function(){!function(t){setTimeout((function(){var e=!1;if(1==t.lineCount()){var i=t.getInputField();e="TEXTAREA"==i.nodeName?!t.getLine(0).length:!/[^\u200b]/.test(i.querySelector(".CodeMirror-line").textContent)}e?r(t):n(t)}),20)}(u)}),i(u);else if(!o&&f){u.off("blur",e),u.off("change",i),u.off("swapDoc",i),t.off(u.getInputField(),"compositionupdate",u.state.placeholderCompose),n(u);var s=u.getWrapperElement();s.className=s.className.replace(" CodeMirror-empty","")}o&&!u.hasFocus()&&e(u)}))}(x)})),i((function(){!function(t){function n(n,r){clearTimeout(r.timeout),t.off(window,"mouseup",r.hurry),t.off(window,"keyup",r.hurry)}t.defineOption("autoRefresh",!1,(function(r,e){r.state.autoRefresh&&(n(0,r.state.autoRefresh),r.state.autoRefresh=null),e&&0==r.display.wrapper.offsetHeight&&function(r,e){function i(){r.display.wrapper.offsetHeight?(n(0,e),r.display.lastWrapHeight!=r.display.wrapper.clientHeight&&r.refresh()):e.timeout=setTimeout(i,e.delay)}e.timeout=setTimeout(i,e.delay),e.hurry=function(){clearTimeout(e.timeout),e.timeout=setTimeout(i,50)},t.on(window,"mouseup",e.hurry),t.on(window,"keyup",e.hurry)}(r,r.state.autoRefresh={delay:e.delay||250})}))}(x)})),i((function(){!function(t){function n(t){t.state.markedSelection&&t.operation((function(){!function(t){if(!t.somethingSelected())return o(t);if(t.listSelections().length>1)return a(t);var n=t.getCursor("start"),r=t.getCursor("end"),e=t.state.markedSelection;if(!e.length)return u(t,n,r);var f=e[0].find(),s=e[e.length-1].find();if(!f||!s||r.line-n.line<=8||i(n,s.to)>=0||i(r,f.from)<=0)return a(t);for(;i(n,f.from)>0;)e.shift().clear(),f=e[0].find();for(i(n,f.from)<0&&(f.to.line-n.line<8?(e.shift().clear(),u(t,n,f.to,0)):u(t,n,f.from,0));i(r,s.to)<0;)e.pop().clear(),s=e[e.length-1].find();i(r,s.to)>0&&(r.line-s.from.line<8?(e.pop().clear(),u(t,s.from,r)):u(t,s.to,r))}(t)}))}function r(t){t.state.markedSelection&&t.state.markedSelection.length&&t.operation((function(){o(t)}))}t.defineOption("styleSelectedText",!1,(function(e,i,u){var f=u&&u!=t.Init;i&&!f?(e.state.markedSelection=[],e.state.markedSelectionStyle="string"==typeof i?i:"CodeMirror-selectedtext",a(e),e.on("cursorActivity",n),e.on("change",r)):!i&&f&&(e.off("cursorActivity",n),e.off("change",r),o(e),e.state.markedSelection=e.state.markedSelectionStyle=null)}));var e=t.Pos,i=t.cmpPos;function u(t,n,r,u){if(0!=i(n,r))for(var o=t.state.markedSelection,a=t.state.markedSelectionStyle,f=n.line;;){var s=f==n.line?n:e(f,0),l=f+8,c=l>=r.line,h=c?r:e(l,0),d=t.markText(s,h,{className:a});if(null==u?o.push(d):o.splice(u++,0,d),c)break;f=l}}function o(t){for(var n=t.state.markedSelection,r=0;r<n.length;++r)n[r].clear();n.length=0}function a(t){o(t);for(var n=t.listSelections(),r=0;r<n.length;r++)u(t,n[r].from(),n[r].to())}}(x)})),i((function(){!function(t){var n,r,e=t.Pos;function i(t,n){for(var r=function(t){var n=t.flags;return null!=n?n:(t.ignoreCase?"i":"")+(t.global?"g":"")+(t.multiline?"m":"")}(t),e=r,i=0;i<n.length;i++)-1==e.indexOf(n.charAt(i))&&(e+=n.charAt(i));return r==e?t:new RegExp(t.source,e)}function u(t){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(t.source)}function o(t,n,r){n=i(n,"g");for(var u=r.line,o=r.ch,a=t.lastLine();u<=a;u++,o=0){n.lastIndex=o;var f=t.getLine(u),s=n.exec(f);if(s)return{from:e(u,s.index),to:e(u,s.index+s[0].length),match:s}}}function a(t,n,r){if(!u(n))return o(t,n,r);n=i(n,"gm");for(var a,f=1,s=r.line,l=t.lastLine();s<=l;){for(var c=0;c<f&&!(s>l);c++){var h=t.getLine(s++);a=null==a?h:a+"\n"+h}f*=2,n.lastIndex=r.ch;var d=n.exec(a);if(d){var v=a.slice(0,d.index).split("\n"),m=d[0].split("\n"),p=r.line+v.length-1,g=v[v.length-1].length;return{from:e(p,g),to:e(p+m.length-1,1==m.length?g+m[0].length:m[m.length-1].length),match:d}}}}function f(t,n,r){for(var e,i=0;i<=t.length;){n.lastIndex=i;var u=n.exec(t);if(!u)break;var o=u.index+u[0].length;if(o>t.length-r)break;(!e||o>e.index+e[0].length)&&(e=u),i=u.index+1}return e}function s(t,n,r){n=i(n,"g");for(var u=r.line,o=r.ch,a=t.firstLine();u>=a;u--,o=-1){var s=t.getLine(u),l=f(s,n,o<0?0:s.length-o);if(l)return{from:e(u,l.index),to:e(u,l.index+l[0].length),match:l}}}function l(t,n,r){if(!u(n))return s(t,n,r);n=i(n,"gm");for(var o,a=1,l=t.getLine(r.line).length-r.ch,c=r.line,h=t.firstLine();c>=h;){for(var d=0;d<a&&c>=h;d++){var v=t.getLine(c--);o=null==o?v:v+"\n"+o}a*=2;var m=f(o,n,l);if(m){var p=o.slice(0,m.index).split("\n"),g=m[0].split("\n"),D=c+p.length,b=p[p.length-1].length;return{from:e(D,b),to:e(D+g.length-1,1==g.length?b+g[0].length:g[g.length-1].length),match:m}}}}function c(t,n,r,e){if(t.length==n.length)return r;for(var i=0,u=r+Math.max(0,t.length-n.length);;){if(i==u)return i;var o=i+u>>1,a=e(t.slice(0,o)).length;if(a==r)return o;a>r?u=o:i=o+1}}function h(t,i,u,o){if(!i.length)return null;var a=o?n:r,f=a(i).split(/\r|\n\r?/);t:for(var s=u.line,l=u.ch,h=t.lastLine()+1-f.length;s<=h;s++,l=0){var d=t.getLine(s).slice(l),v=a(d);if(1==f.length){var m=v.indexOf(f[0]);if(-1==m)continue t;return u=c(d,v,m,a)+l,{from:e(s,c(d,v,m,a)+l),to:e(s,c(d,v,m+f[0].length,a)+l)}}var p=v.length-f[0].length;if(v.slice(p)==f[0]){for(var g=1;g<f.length-1;g++)if(a(t.getLine(s+g))!=f[g])continue t;var D=t.getLine(s+f.length-1),b=a(D),x=f[f.length-1];if(b.slice(0,x.length)==x)return{from:e(s,c(d,v,p,a)+l),to:e(s+f.length-1,c(D,b,x.length,a))}}}}function d(t,i,u,o){if(!i.length)return null;var a=o?n:r,f=a(i).split(/\r|\n\r?/);t:for(var s=u.line,l=u.ch,h=t.firstLine()-1+f.length;s>=h;s--,l=-1){var d=t.getLine(s);l>-1&&(d=d.slice(0,l));var v=a(d);if(1==f.length){var m=v.lastIndexOf(f[0]);if(-1==m)continue t;return{from:e(s,c(d,v,m,a)),to:e(s,c(d,v,m+f[0].length,a))}}var p=f[f.length-1];if(v.slice(0,p.length)==p){var g=1;for(u=s-f.length+1;g<f.length-1;g++)if(a(t.getLine(u+g))!=f[g])continue t;var D=t.getLine(s+1-f.length),b=a(D);if(b.slice(b.length-f[0].length)==f[0])return{from:e(s+1-f.length,c(D,b,D.length-f[0].length,a)),to:e(s,c(d,v,p.length,a))}}}}function v(t,n,r,u){var f;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=t,r=r?t.clipPos(r):e(0,0),this.pos={from:r,to:r},"object"==typeof u?f=u.caseFold:(f=u,u=null),"string"==typeof n?(null==f&&(f=!1),this.matches=function(r,e){return(r?d:h)(t,n,e,f)}):(n=i(n,"gm"),this.matches=u&&!1===u.multiline?function(r,e){return(r?s:o)(t,n,e)}:function(r,e){return(r?l:a)(t,n,e)})}String.prototype.normalize?(n=function(t){return t.normalize("NFD").toLowerCase()},r=function(t){return t.normalize("NFD")}):(n=function(t){return t.toLowerCase()},r=function(t){return t}),v.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(n){var r=this.doc.clipPos(n?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(r=e(r.line,r.ch),n?(r.ch--,r.ch<0&&(r.line--,r.ch=(this.doc.getLine(r.line)||"").length)):(r.ch++,r.ch>(this.doc.getLine(r.line)||"").length&&(r.ch=0,r.line++)),0!=t.cmpPos(r,this.doc.clipPos(r))))return this.atOccurrence=!1;var i=this.matches(n,r);if(this.afterEmptyMatch=i&&0==t.cmpPos(i.from,i.to),i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var u=e(n?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:u,to:u},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(n,r){if(this.atOccurrence){var i=t.splitLines(n);this.doc.replaceRange(i,this.pos.from,this.pos.to,r),this.pos.to=e(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",(function(t,n,r){return new v(this.doc,t,n,r)})),t.defineDocExtension("getSearchCursor",(function(t,n,r){return new v(this,t,n,r)})),t.defineExtension("selectMatches",(function(n,r){for(var e=[],i=this.getSearchCursor(n,this.getCursor("from"),r);i.findNext()&&!(t.cmpPos(i.to(),this.getCursor("to"))>0);)e.push({anchor:i.from(),head:i.to()});e.length&&this.setSelections(e,0)}))}(x)})),i((function(){var t,n;n=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i,(t=x).defineMode("gfm",(function(r,e){var i=0;var u={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,r){if(r.combineTokens=null,r.codeBlock)return t.match(/^```+/)?(r.codeBlock=!1,null):(t.skipToEnd(),null);if(t.sol()&&(r.code=!1),t.sol()&&t.match(/^```+/))return t.skipToEnd(),r.codeBlock=!0,null;if("`"===t.peek()){t.next();var u=t.pos;t.eatWhile("`");var o=1+t.pos-u;return r.code?o===i&&(r.code=!1):(i=o,r.code=!0),null}if(r.code)return t.next(),null;if(t.eatSpace())return r.ateSpace=!0,null;if((t.sol()||r.ateSpace)&&(r.ateSpace=!1,!1!==e.gitHubSpice)){if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return r.combineTokens=!0,"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return r.combineTokens=!0,"link"}return t.match(n)&&"]("!=t.string.slice(t.start-2,t.start)&&(0==t.start||/\W/.test(t.string.charAt(t.start-1)))?(r.combineTokens=!0,"link"):(t.next(),null)},blankLine:function(t){return t.code=!1,null}},o={taskLists:!0,strikethrough:!0,emoji:!0};for(var a in e)o[a]=e[a];return o.name="markdown",t.overlayMode(t.getMode(r,o),u)}),"markdown"),t.defineMIME("text/x-gfm","gfm")}));const w=u(Object.freeze({__proto__:null,default:{}}));var C=i((function(t){var n;(n=function(t,n,r,e){e=e||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=e.flags||{},this.memoized={},this.loaded=!1;var i,u,o,a,f,s=this;function l(t,n){var r=s._readFile(t,null,e.asyncLoad);e.asyncLoad?r.then((function(t){n(t)})):n(r)}function c(t){n=t,r&&d()}function h(t){r=t,n&&d()}function d(){for(s.rules=s._parseAFF(n),s.compoundRuleCodes={},u=0,a=s.compoundRules.length;u<a;u++){var t=s.compoundRules[u];for(o=0,f=t.length;o<f;o++)s.compoundRuleCodes[t[o]]=[]}for(u in"ONLYINCOMPOUND"in s.flags&&(s.compoundRuleCodes[s.flags.ONLYINCOMPOUND]=[]),s.dictionaryTable=s._parseDIC(r),s.compoundRuleCodes)0===s.compoundRuleCodes[u].length&&delete s.compoundRuleCodes[u];for(u=0,a=s.compoundRules.length;u<a;u++){var i=s.compoundRules[u],l="";for(o=0,f=i.length;o<f;o++){var c=i[o];l+=c in s.compoundRuleCodes?"("+s.compoundRuleCodes[c].join("|")+")":c}s.compoundRules[u]=new RegExp(l,"i")}s.loaded=!0,e.asyncLoad&&e.loadedCallback&&e.loadedCallback(s)}return t&&(s.dictionary=t,n&&r?d():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(i=e.dictionaryPath?e.dictionaryPath:"typo/dictionaries",n||l(chrome.extension.getURL(i+"/"+t+"/"+t+".aff"),c),r||l(chrome.extension.getURL(i+"/"+t+"/"+t+".dic"),h)):(i=e.dictionaryPath?e.dictionaryPath:"undefined"!=typeof __dirname?__dirname+"/dictionaries":"./dictionaries",n||l(i+"/"+t+"/"+t+".aff",c),r||l(i+"/"+t+"/"+t+".dic",h))),this}).prototype={load:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);return this},_readFile:function(t,n,r){if(n=n||"utf8","undefined"!=typeof XMLHttpRequest){var e,i=new XMLHttpRequest;return i.open("GET",t,r),r&&(e=new Promise((function(t,n){i.onload=function(){200===i.status?t(i.responseText):n(i.statusText)},i.onerror=function(){n(i.statusText)}}))),i.overrideMimeType&&i.overrideMimeType("text/plain; charset="+n),i.send(null),r?e:i.responseText}var u=w;try{if(u.existsSync(t))return u.readFileSync(t,n);console.log("Path "+t+" does not exist.")}catch(t){return console.log(t),""}},_parseAFF:function(t){var n,r,e,i,u,o,a,f={},s=t.split(/\r?\n/);for(i=0,o=s.length;i<o;i++)if(n=(n=this._removeAffixComments(s[i])).trim()){var l=n.split(/\s+/),c=l[0];if("PFX"==c||"SFX"==c){var h=l[1],d=l[2],v=[];for(u=i+1,a=i+1+(r=parseInt(l[3],10));u<a;u++){var m=(e=s[u].split(/\s+/))[2],p=e[3].split("/"),g=p[0];"0"===g&&(g="");var D=this.parseRuleCodes(p[1]),b=e[4],x={};x.add=g,D.length>0&&(x.continuationClasses=D),"."!==b&&(x.match="SFX"===c?new RegExp(b+"$"):new RegExp("^"+b)),"0"!=m&&(x.remove="SFX"===c?new RegExp(m+"$"):m),v.push(x)}f[h]={type:c,combineable:"Y"==d,entries:v},i+=r}else if("COMPOUNDRULE"===c){for(u=i+1,a=i+1+(r=parseInt(l[1],10));u<a;u++)e=(n=s[u]).split(/\s+/),this.compoundRules.push(e[1]);i+=r}else"REP"===c?3===(e=n.split(/\s+/)).length&&this.replacementTable.push([e[1],e[2]]):this.flags[c]=l[1]}return f},_removeAffixComments:function(t){return t.match(/^\s*#/,"")?"":t},_parseDIC:function(t){var n=(t=this._removeDicComments(t)).split(/\r?\n/),r={};function e(t,n){r.hasOwnProperty(t)||(r[t]=null),n.length>0&&(null===r[t]&&(r[t]=[]),r[t].push(n))}for(var i=1,u=n.length;i<u;i++){var o=n[i];if(o){var a=o.split("/",2),f=a[0];if(a.length>1){var s=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=s.indexOf(this.flags.NEEDAFFIX)||e(f,s);for(var l=0,c=s.length;l<c;l++){var h=s[l],d=this.rules[h];if(d)for(var v=this._applyRule(f,d),m=0,p=v.length;m<p;m++){var g=v[m];if(e(g,[]),d.combineable)for(var D=l+1;D<c;D++){var b=this.rules[s[D]];if(b&&b.combineable&&d.type!=b.type)for(var x=this._applyRule(g,b),w=0,C=x.length;w<C;w++)e(x[w],[])}}h in this.compoundRuleCodes&&this.compoundRuleCodes[h].push(f)}}else e(f.trim(),[])}}return r},_removeDicComments:function(t){return t.replace(/^\t.*$/gm,"")},parseRuleCodes:function(t){if(!t)return[];if(!("FLAG"in this.flags))return t.split("");if("long"===this.flags.FLAG){for(var n=[],r=0,e=t.length;r<e;r+=2)n.push(t.substr(r,2));return n}return"num"===this.flags.FLAG?t.split(","):void 0},_applyRule:function(t,n){for(var r=n.entries,e=[],i=0,u=r.length;i<u;i++){var o=r[i];if(!o.match||t.match(o.match)){var a=t;if(o.remove&&(a=a.replace(o.remove,"")),"SFX"===n.type?a+=o.add:a=o.add+a,e.push(a),"continuationClasses"in o)for(var f=0,s=o.continuationClasses.length;f<s;f++){var l=this.rules[o.continuationClasses[f]];l&&(e=e.concat(this._applyRule(a,l)))}}}return e},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";var n=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(n))return!0;if(n.toUpperCase()===n){var r=n[0]+n.substring(1).toLowerCase();if(this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0;if(this.checkExact(n.toLowerCase()))return!0}var e=n[0].toLowerCase()+n.substring(1);if(e!==n){if(this.hasFlag(e,"KEEPCASE"))return!1;if(this.checkExact(e))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var n,r,e=this.dictionaryTable[t];if(void 0===e){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN)for(n=0,r=this.compoundRules.length;n<r;n++)if(t.match(this.compoundRules[n]))return!0}else{if(null===e)return!0;if("object"==typeof e)for(n=0,r=e.length;n<r;n++)if(!this.hasFlag(t,"ONLYINCOMPOUND",e[n]))return!0}return!1},hasFlag:function(t,n,r){if(!this.loaded)throw"Dictionary not loaded.";return!(!(n in this.flags)||(void 0===r&&(r=Array.prototype.concat.apply([],this.dictionaryTable[t])),!r||-1===r.indexOf(this.flags[n])))},alphabet:"",suggest:function(t,n){if(!this.loaded)throw"Dictionary not loaded.";if(n=n||5,this.memoized.hasOwnProperty(t)){var r=this.memoized[t].limit;if(n<=r||this.memoized[t].suggestions.length<r)return this.memoized[t].suggestions.slice(0,n)}if(this.check(t))return[];for(var e=0,i=this.replacementTable.length;e<i;e++){var u=this.replacementTable[e];if(-1!==t.indexOf(u[0])){var o=t.replace(u[0],u[1]);if(this.check(o))return[o]}}var a=this;function f(t,n){var r,e,i,u,o={},f=a.alphabet.length;if("string"==typeof t){var s=t;(t={})[s]=!0}for(var s in t)for(r=0,i=s.length+1;r<i;r++){var l=[s.substring(0,r),s.substring(r)];if(l[1]&&(u=l[0]+l[1].substring(1),n&&!a.check(u)||(u in o?o[u]+=1:o[u]=1)),l[1].length>1&&l[1][1]!==l[1][0]&&(u=l[0]+l[1][1]+l[1][0]+l[1].substring(2),n&&!a.check(u)||(u in o?o[u]+=1:o[u]=1)),l[1]){var c=l[1].substring(0,1).toUpperCase()===l[1].substring(0,1)?"uppercase":"lowercase";for(e=0;e<f;e++){var h=a.alphabet[e];"uppercase"===c&&(h=h.toUpperCase()),h!=l[1].substring(0,1)&&(u=l[0]+h+l[1].substring(1),n&&!a.check(u)||(u in o?o[u]+=1:o[u]=1))}}if(l[1])for(e=0;e<f;e++)c=l[0].substring(-1).toUpperCase()===l[0].substring(-1)&&l[1].substring(0,1).toUpperCase()===l[1].substring(0,1)?"uppercase":"lowercase",h=a.alphabet[e],"uppercase"===c&&(h=h.toUpperCase()),u=l[0]+h+l[1],n&&!a.check(u)||(u in o?o[u]+=1:o[u]=1)}return o}return a.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[t]={suggestions:function(t){var r,e=f(t),i=f(e,!0);for(var u in e)a.check(u)&&(u in i?i[u]+=e[u]:i[u]=e[u]);var o=[];for(r in i)i.hasOwnProperty(r)&&o.push([r,i[r]]);o.sort((function(t,n){var r=t[1],e=n[1];return r<e?-1:r>e?1:n[0].localeCompare(t[0])})).reverse();var s=[],l="lowercase";t.toUpperCase()===t?l="uppercase":t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()===t&&(l="capitalized");var c=n;for(r=0;r<Math.min(c,o.length);r++)"uppercase"===l?o[r][0]=o[r][0].toUpperCase():"capitalized"===l&&(o[r][0]=o[r][0].substr(0,1).toUpperCase()+o[r][0].substr(1)),a.hasFlag(o[r][0],"NOSUGGEST")||-1!=s.indexOf(o[r][0])?c++:s.push(o[r][0]);return s}(t),limit:n},this.memoized[t].suggestions}},t.exports=n}));function y(t){"function"==typeof(t=t||{}).codeMirrorInstance&&"function"==typeof t.codeMirrorInstance.defineMode?(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.codeMirrorInstance.defineMode("spell-checker",(function(n){if(!y.aff_loading){y.aff_loading=!0;var r=new XMLHttpRequest;r.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),r.onload=function(){4===r.readyState&&200===r.status&&(y.aff_data=r.responseText,2==++y.num_loaded&&(y.typo=new C("en_US",y.aff_data,y.dic_data,{platform:"any"})))},r.send(null)}if(!y.dic_loading){y.dic_loading=!0;var e=new XMLHttpRequest;e.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),e.onload=function(){4===e.readyState&&200===e.status&&(y.dic_data=e.responseText,2==++y.num_loaded&&(y.typo=new C("en_US",y.aff_data,y.dic_data,{platform:"any"})))},e.send(null)}var i='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',u={token:function(t){var n=t.peek(),r="";if(i.includes(n))return t.next(),null;for(;null!=(n=t.peek())&&!i.includes(n);)r+=n,t.next();return y.typo&&!y.typo.check(r)?"spell-error":null}},o=t.codeMirrorInstance.getMode(n,n.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(o,u,!0)}))):console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`")}y.num_loaded=0,y.aff_loading=!1,y.dic_loading=!1,y.aff_data="",y.dic_data="";var A=y,E=i((function(t){t.exports=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function r(t,r){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,r){if(t){if("string"==typeof t)return n(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(t,r):void 0}}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var e={exports:{}};function i(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:i,changeDefaults:function(t){e.exports.defaults=t}};var u=/[&<>"']/,o=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,f=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=function(t){return s[t]};var c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(c,(function(t,n){return"colon"===(n=n.toLowerCase())?":":"#"===n.charAt(0)?"x"===n.charAt(1)?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""}))}var d=/(^|[^\[])\^/g;var v=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;var p={},g=/^[^:]+:\/*[^/]*$/,D=/^([^:]+:)[\s\S]*$/,b=/^([^:]+:\/*[^/]*)[\s\S]*$/;function x(t,n){p[" "+t]||(p[" "+t]=g.test(t)?t+"/":w(t,"/",!0));var r=-1===(t=p[" "+t]).indexOf(":");return"//"===n.substring(0,2)?r?n:t.replace(D,"$1")+n:"/"===n.charAt(0)?r?n:t.replace(b,"$1")+n:t+n}function w(t,n,r){var e=t.length;if(0===e)return"";for(var i=0;i<e;){var u=t.charAt(e-i-1);if(u!==n||r){if(u===n||!r)break;i++}else i++}return t.substr(0,e-i)}var C=function(t,n){if(n){if(u.test(t))return t.replace(o,l)}else if(a.test(t))return t.replace(f,l);return t},y=h,A=function(t,n){t=t.source||t,n=n||"";var r={replace:function(n,e){return e=(e=e.source||e).replace(d,"$1"),t=t.replace(n,e),r},getRegex:function(){return new RegExp(t,n)}};return r},E=function(t,n,r){if(t){var e;try{e=decodeURIComponent(h(r)).replace(v,"").toLowerCase()}catch(t){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}n&&!m.test(r)&&(r=x(n,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(t){return null}return r},F={exec:function(){}},k=function(t){for(var n,r,e=1;e<arguments.length;e++)for(r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t},M=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},S=function(t,n){if(n<1)return"";for(var r="";n>1;)1&n&&(r+=t),n>>=1,t+=t;return r+t},B=e.exports.defaults,L=w,T=function(t,n){var r=t.replace(/\|/g,(function(t,n,r){for(var e=!1,i=n;--i>=0&&"\\"===r[i];)e=!e;return e?"|":" |"})).split(/ \|/),e=0;if(r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;e<r.length;e++)r[e]=r[e].trim().replace(/\\\|/g,"|");return r},_=C,N=function(t,n){if(-1===t.indexOf(n[1]))return-1;for(var r=t.length,e=0,i=0;i<r;i++)if("\\"===t[i])i++;else if(t[i]===n[0])e++;else if(t[i]===n[1]&&--e<0)return i;return-1};function z(t,n,r){var e=n.href,i=n.title?_(n.title):null,u=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:r,href:e,title:i,text:u}:{type:"image",raw:r,href:e,title:i,text:_(u)}}var j=function(){function t(t){this.options=t||B}var n=t.prototype;return n.space=function(t){var n=this.rules.block.newline.exec(t);if(n)return n[0].length>1?{type:"space",raw:n[0]}:{raw:"\n"}},n.code=function(t){var n=this.rules.block.code.exec(t);if(n){var r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:L(r,"\n")}}},n.fences=function(t){var n=this.rules.block.fences.exec(t);if(n){var r=n[0],e=function(t,n){var r=t.match(/^(\s+)(?:```)/);if(null===r)return n;var e=r[1];return n.split("\n").map((function(t){var n=t.match(/^\s+/);return null===n?t:n[0].length>=e.length?t.slice(e.length):t})).join("\n")}(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:e}}},n.heading=function(t){var n=this.rules.block.heading.exec(t);if(n){var r=n[2].trim();if(/#$/.test(r)){var e=L(r,"#");this.options.pedantic?r=e.trim():e&&!/ $/.test(e)||(r=e.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r}}},n.nptable=function(t){var n=this.rules.block.nptable.exec(t);if(n){var r={type:"table",header:T(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[],raw:n[0]};if(r.header.length===r.align.length){var e,i=r.align.length;for(e=0;e<i;e++)r.align[e]=/^ *-+: *$/.test(r.align[e])?"right":/^ *:-+: *$/.test(r.align[e])?"center":/^ *:-+ *$/.test(r.align[e])?"left":null;for(i=r.cells.length,e=0;e<i;e++)r.cells[e]=T(r.cells[e],r.header.length);return r}}},n.hr=function(t){var n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}},n.blockquote=function(t){var n=this.rules.block.blockquote.exec(t);if(n){var r=n[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:n[0],text:r}}},n.list=function(t){var n=this.rules.block.list.exec(t);if(n){var r,e,i,u,o,a,f,s,l,c=n[0],h=n[2],d=h.length>1,v={type:"list",raw:c,ordered:d,start:d?+h.slice(0,-1):"",loose:!1,items:[]},m=n[0].match(this.rules.block.item),p=!1,g=m.length;i=this.rules.block.listItemStart.exec(m[0]);for(var D=0;D<g;D++){if(c=r=m[D],this.options.pedantic||(l=r.match(new RegExp("\\n\\s*\\n {0,"+(i[0].length-1)+"}\\S")))&&(o=r.length-l.index+m.slice(D+1).join("\n").length,v.raw=v.raw.substring(0,v.raw.length-o),c=r=r.substring(0,l.index),g=D+1),D!==g-1){if(u=this.rules.block.listItemStart.exec(m[D+1]),this.options.pedantic?u[1].length>i[1].length:u[1].length>=i[0].length||u[1].length>3){m.splice(D,2,m[D]+(!this.options.pedantic&&u[1].length<i[0].length&&!m[D].match(/\n$/)?"":"\n")+m[D+1]),D--,g--;continue}(!this.options.pedantic||this.options.smartLists?u[2][u[2].length-1]!==h[h.length-1]:d===(1===u[2].length))&&(o=m.slice(D+1).join("\n").length,v.raw=v.raw.substring(0,v.raw.length-o),D=g-1),i=u}e=r.length,~(r=r.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(e-=r.length,r=r.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+e+"}","gm"),"")),r=L(r,"\n"),D!==g-1&&(c+="\n"),a=p||/\n\n(?!\s*$)/.test(c),D!==g-1&&(p="\n\n"===c.slice(-2),a||(a=p)),a&&(v.loose=!0),this.options.gfm&&(s=void 0,(f=/^\[[ xX]\] /.test(r))&&(s=" "!==r[1],r=r.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:c,task:f,checked:s,loose:a,text:r})}return v}},n.html=function(t){var n=this.rules.block.html.exec(t);if(n)return{type:this.options.sanitize?"paragraph":"html",raw:n[0],pre:!this.options.sanitizer&&("pre"===n[1]||"script"===n[1]||"style"===n[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):_(n[0]):n[0]}},n.def=function(t){var n=this.rules.block.def.exec(t);if(n)return n[3]&&(n[3]=n[3].substring(1,n[3].length-1)),{type:"def",tag:n[1].toLowerCase().replace(/\s+/g," "),raw:n[0],href:n[2],title:n[3]}},n.table=function(t){var n=this.rules.block.table.exec(t);if(n){var r={type:"table",header:T(n[1].replace(/^ *| *\| *$/g,"")),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:n[3]?n[3].replace(/\n$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=n[0];var e,i=r.align.length;for(e=0;e<i;e++)r.align[e]=/^ *-+: *$/.test(r.align[e])?"right":/^ *:-+: *$/.test(r.align[e])?"center":/^ *:-+ *$/.test(r.align[e])?"left":null;for(i=r.cells.length,e=0;e<i;e++)r.cells[e]=T(r.cells[e].replace(/^ *\| *| *\| *$/g,""),r.header.length);return r}}},n.lheading=function(t){var n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:"="===n[2].charAt(0)?1:2,text:n[1]}},n.paragraph=function(t){var n=this.rules.block.paragraph.exec(t);if(n)return{type:"paragraph",raw:n[0],text:"\n"===n[1].charAt(n[1].length-1)?n[1].slice(0,-1):n[1]}},n.text=function(t){var n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0]}},n.escape=function(t){var n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:_(n[1])}},n.tag=function(t,n,r){var e=this.rules.inline.tag.exec(t);if(e)return!n&&/^<a /i.test(e[0])?n=!0:n&&/^<\/a>/i.test(e[0])&&(n=!1),!r&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?r=!0:r&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(r=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:n,inRawBlock:r,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):_(e[0]):e[0]}},n.link=function(t){var n=this.rules.inline.link.exec(t);if(n){var r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var e=L(r.slice(0,-1),"\\");if((r.length-e.length)%2==0)return}else{var i=N(n[2],"()");if(i>-1){var u=(0===n[0].indexOf("!")?5:4)+n[1].length+i;n[2]=n[2].substring(0,i),n[0]=n[0].substring(0,u).trim(),n[3]=""}}var o=n[2],a="";if(this.options.pedantic){var f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);f&&(o=f[1],a=f[3])}else a=n[3]?n[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),z(n,{href:o?o.replace(this.rules.inline._escapes,"$1"):o,title:a?a.replace(this.rules.inline._escapes,"$1"):a},n[0])}},n.reflink=function(t,n){var r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){var e=(r[2]||r[1]).replace(/\s+/g," ");if(!(e=n[e.toLowerCase()])||!e.href){var i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return z(r,e,r[0])}},n.emStrong=function(t,n,r){void 0===r&&(r="");var e=this.rules.inline.emStrong.lDelim.exec(t);if(e&&(!e[3]||!r.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=e[1]||e[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){var u,o,a=e[0].length-1,f=a,s=0,l="*"===e[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,n=n.slice(-1*t.length+a);null!=(e=l.exec(n));)if(u=e[1]||e[2]||e[3]||e[4]||e[5]||e[6])if(o=u.length,e[3]||e[4])f+=o;else if(!((e[5]||e[6])&&a%3)||(a+o)%3){if(!((f-=o)>0))return o=Math.min(o,o+f+s),Math.min(a,o)%2?{type:"em",raw:t.slice(0,a+e.index+o+1),text:t.slice(1,a+e.index+o)}:{type:"strong",raw:t.slice(0,a+e.index+o+1),text:t.slice(2,a+e.index+o-1)}}else s+=o}}},n.codespan=function(t){var n=this.rules.inline.code.exec(t);if(n){var r=n[2].replace(/\n/g," "),e=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return e&&i&&(r=r.substring(1,r.length-1)),r=_(r,!0),{type:"codespan",raw:n[0],text:r}}},n.br=function(t){var n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}},n.del=function(t){var n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2]}},n.autolink=function(t,n){var r,e,i=this.rules.inline.autolink.exec(t);if(i)return e="@"===i[2]?"mailto:"+(r=_(this.options.mangle?n(i[1]):i[1])):r=_(i[1]),{type:"link",raw:i[0],text:r,href:e,tokens:[{type:"text",raw:r,text:r}]}},n.url=function(t,n){var r;if(r=this.rules.inline.url.exec(t)){var e,i;if("@"===r[2])i="mailto:"+(e=_(this.options.mangle?n(r[0]):r[0]));else{var u;do{u=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(u!==r[0]);e=_(r[0]),i="www."===r[1]?"http://"+e:e}return{type:"link",raw:r[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}},n.inlineText=function(t,n,r){var e,i=this.rules.inline.text.exec(t);if(i)return e=n?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):_(i[0]):i[0]:_(this.options.smartypants?r(i[0]):i[0]),{type:"text",raw:i[0],text:e}},t}(),I=F,$=A,R=k,O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:I,table:I,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};O.def=$(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,O.item=$(O.item,"gm").replace(/bull/g,O.bullet).getRegex(),O.listItemStart=$(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=$(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=$(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=$(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=$(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=R({},O),O.gfm=R({},O.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.nptable=$(O.gfm.nptable).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.table=$(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=R({},O.normal,{html:$("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:I,paragraph:$(O.normal._paragraph).replace("hr",O.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:I,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:I,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};q.punctuation=$(q.punctuation).replace(/punctuation/g,q._punctuation).getRegex(),q.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,q.escapedEmSt=/\\\*|\\_/g,q._comment=$(O._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),q.emStrong.lDelim=$(q.emStrong.lDelim).replace(/punct/g,q._punctuation).getRegex(),q.emStrong.rDelimAst=$(q.emStrong.rDelimAst,"g").replace(/punct/g,q._punctuation).getRegex(),q.emStrong.rDelimUnd=$(q.emStrong.rDelimUnd,"g").replace(/punct/g,q._punctuation).getRegex(),q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,q.autolink=$(q.autolink).replace("scheme",q._scheme).replace("email",q._email).getRegex(),q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,q.tag=$(q.tag).replace("comment",q._comment).replace("attribute",q._attribute).getRegex(),q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,q.link=$(q.link).replace("label",q._label).replace("href",q._href).replace("title",q._title).getRegex(),q.reflink=$(q.reflink).replace("label",q._label).getRegex(),q.reflinkSearch=$(q.reflinkSearch,"g").replace("reflink",q.reflink).replace("nolink",q.nolink).getRegex(),q.normal=R({},q),q.pedantic=R({},q.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",q._label).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q._label).getRegex()}),q.gfm=R({},q.normal,{escape:$(q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),q.gfm.url=$(q.gfm.url,"i").replace("email",q.gfm._extended_email).getRegex(),q.breaks=R({},q.gfm,{br:$(q.br).replace("{2,}","*").getRegex(),text:$(q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var P={block:O,inline:q},U=j,H=e.exports.defaults,W=P.block,G=P.inline,Z=S;function X(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function V(t){var n,r,e="",i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}var K=function(){function n(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||H,this.options.tokenizer=this.options.tokenizer||new U,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var n={block:W.normal,inline:G.normal};this.options.pedantic?(n.block=W.pedantic,n.inline=G.pedantic):this.options.gfm&&(n.block=W.gfm,n.inline=this.options.breaks?G.breaks:G.gfm),this.tokenizer.rules=n}n.lex=function(t,r){return new n(r).lex(t)},n.lexInline=function(t,r){return new n(r).inlineTokens(t)};var r,e,i,u=n.prototype;return u.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},u.blockTokens=function(t,n,r){var e,i,u,o,a,f,s=this;for(void 0===n&&(n=[]),void 0===r&&(r=!0),this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(r){return!!(e=r.call(s,t,n))&&(t=t.substring(e.raw.length),n.push(e),!0)}))))if(e=this.tokenizer.space(t))t=t.substring(e.raw.length),e.type&&n.push(e);else if(e=this.tokenizer.code(t))t=t.substring(e.raw.length),(o=n[n.length-1])&&"paragraph"===o.type?(o.raw+="\n"+e.raw,o.text+="\n"+e.text):n.push(e);else if(e=this.tokenizer.fences(t))t=t.substring(e.raw.length),n.push(e);else if(e=this.tokenizer.heading(t))t=t.substring(e.raw.length),n.push(e);else if(e=this.tokenizer.nptable(t))t=t.substring(e.raw.length),n.push(e);else if(e=this.tokenizer.hr(t))t=t.substring(e.raw.length),n.push(e);else if(e=this.tokenizer.blockquote(t))t=t.substring(e.raw.length),e.tokens=this.blockTokens(e.text,[],r),n.push(e);else if(e=this.tokenizer.list(t)){for(t=t.substring(e.raw.length),u=e.items.length,i=0;i<u;i++)e.items[i].tokens=this.blockTokens(e.items[i].text,[],!1);n.push(e)}else if(e=this.tokenizer.html(t))t=t.substring(e.raw.length),n.push(e);else if(r&&(e=this.tokenizer.def(t)))t=t.substring(e.raw.length),this.tokens.links[e.tag]||(this.tokens.links[e.tag]={href:e.href,title:e.title});else if(e=this.tokenizer.table(t))t=t.substring(e.raw.length),n.push(e);else if(e=this.tokenizer.lheading(t))t=t.substring(e.raw.length),n.push(e);else if(a=t,this.options.extensions&&this.options.extensions.startBlock&&function(){var n=1/0,r=t.slice(1),e=void 0;s.options.extensions.startBlock.forEach((function(t){"number"==typeof(e=t.call(this,r))&&e>=0&&(n=Math.min(n,e))})),n<1/0&&n>=0&&(a=t.substring(0,n+1))}(),r&&(e=this.tokenizer.paragraph(a)))o=n[n.length-1],f&&"paragraph"===o.type?(o.raw+="\n"+e.raw,o.text+="\n"+e.text):n.push(e),f=a.length!==t.length,t=t.substring(e.raw.length);else if(e=this.tokenizer.text(t))t=t.substring(e.raw.length),(o=n[n.length-1])&&"text"===o.type?(o.raw+="\n"+e.raw,o.text+="\n"+e.text):n.push(e);else if(t){var l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return n},u.inline=function(t){var n,r,e,i,u,o,a=t.length;for(n=0;n<a;n++)switch((o=t[n]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},i=o.header.length,r=0;r<i;r++)o.tokens.header[r]=[],this.inlineTokens(o.header[r],o.tokens.header[r]);for(i=o.cells.length,r=0;r<i;r++)for(u=o.cells[r],o.tokens.cells[r]=[],e=0;e<u.length;e++)o.tokens.cells[r][e]=[],this.inlineTokens(u[e],o.tokens.cells[r][e]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(i=o.items.length,r=0;r<i;r++)this.inline(o.items[r].tokens)}return t},u.inlineTokens=function(t,n,r,e){var i,u,o,a=this;void 0===n&&(n=[]),void 0===r&&(r=!1),void 0===e&&(e=!1);var f,s,l,c=t;if(this.tokens.links){var h=Object.keys(this.tokens.links);if(h.length>0)for(;null!=(f=this.tokenizer.rules.inline.reflinkSearch.exec(c));)h.includes(f[0].slice(f[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,f.index)+"["+Z("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(f=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,f.index)+"["+Z("a",f[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(f=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,f.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(s||(l=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(r){return!!(i=r.call(a,t,n))&&(t=t.substring(i.raw.length),n.push(i),!0)}))))if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.tag(t,r,e))t=t.substring(i.raw.length),r=i.inLink,e=i.inRawBlock,(u=n[n.length-1])&&"text"===i.type&&"text"===u.type?(u.raw+=i.raw,u.text+=i.text):n.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,e)),n.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),u=n[n.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,e),n.push(i)):u&&"text"===i.type&&"text"===u.type?(u.raw+=i.raw,u.text+=i.text):n.push(i);else if(i=this.tokenizer.emStrong(t,c,l))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],r,e),n.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),n.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],r,e),n.push(i);else if(i=this.tokenizer.autolink(t,V))t=t.substring(i.raw.length),n.push(i);else if(r||!(i=this.tokenizer.url(t,V))){if(o=t,this.options.extensions&&this.options.extensions.startInline&&function(){var n=1/0,r=t.slice(1),e=void 0;a.options.extensions.startInline.forEach((function(t){"number"==typeof(e=t.call(this,r))&&e>=0&&(n=Math.min(n,e))})),n<1/0&&n>=0&&(o=t.substring(0,n+1))}(),i=this.tokenizer.inlineText(o,e,X))t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),s=!0,(u=n[n.length-1])&&"text"===u.type?(u.raw+=i.raw,u.text+=i.text):n.push(i);else if(t){var d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else t=t.substring(i.raw.length),n.push(i);return n},r=n,i=[{key:"rules",get:function(){return{block:W,inline:G}}}],(e=null)&&t(r.prototype,e),i&&t(r,i),n}(),Q=e.exports.defaults,J=E,Y=C,tt=function(){function t(t){this.options=t||Q}var n=t.prototype;return n.code=function(t,n,r){var e=(n||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(r=!0,t=i)}return t=t.replace(/\n$/,"")+"\n",e?'<pre><code class="'+this.options.langPrefix+Y(e,!0)+'">'+(r?t:Y(t,!0))+"</code></pre>\n":"<pre><code>"+(r?t:Y(t,!0))+"</code></pre>\n"},n.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},n.html=function(t){return t},n.heading=function(t,n,r,e){return this.options.headerIds?"<h"+n+' id="'+this.options.headerPrefix+e.slug(r)+'">'+t+"</h"+n+">\n":"<h"+n+">"+t+"</h"+n+">\n"},n.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.list=function(t,n,r){var e=n?"ol":"ul";return"<"+e+(n&&1!==r?' start="'+r+'"':"")+">\n"+t+"</"+e+">\n"},n.listitem=function(t){return"<li>"+t+"</li>\n"},n.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(t){return"<p>"+t+"</p>\n"},n.table=function(t,n){return n&&(n="<tbody>"+n+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+n+"</table>\n"},n.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},n.tablecell=function(t,n){var r=n.header?"th":"td";return(n.align?"<"+r+' align="'+n.align+'">':"<"+r+">")+t+"</"+r+">\n"},n.strong=function(t){return"<strong>"+t+"</strong>"},n.em=function(t){return"<em>"+t+"</em>"},n.codespan=function(t){return"<code>"+t+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(t){return"<del>"+t+"</del>"},n.link=function(t,n,r){if(null===(t=J(this.options.sanitize,this.options.baseUrl,t)))return r;var e='<a href="'+Y(t)+'"';return n&&(e+=' title="'+n+'"'),e+">"+r+"</a>"},n.image=function(t,n,r){if(null===(t=J(this.options.sanitize,this.options.baseUrl,t)))return r;var e='<img src="'+t+'" alt="'+r+'"';return n&&(e+=' title="'+n+'"'),e+(this.options.xhtml?"/>":">")},n.text=function(t){return t},t}(),nt=function(){function t(){}var n=t.prototype;return n.strong=function(t){return t},n.em=function(t){return t},n.codespan=function(t){return t},n.del=function(t){return t},n.html=function(t){return t},n.text=function(t){return t},n.link=function(t,n,r){return""+r},n.image=function(t,n,r){return""+r},n.br=function(){return""},t}(),rt=function(){function t(){this.seen={}}var n=t.prototype;return n.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},n.getNextSafeSlug=function(t,n){var r=t,e=0;if(this.seen.hasOwnProperty(r)){e=this.seen[t];do{r=t+"-"+ ++e}while(this.seen.hasOwnProperty(r))}return n||(this.seen[t]=e,this.seen[r]=0),r},n.slug=function(t,n){void 0===n&&(n={});var r=this.serialize(t);return this.getNextSafeSlug(r,n.dryrun)},t}(),et=tt,it=nt,ut=rt,ot=e.exports.defaults,at=y,ft=K,st=function(){function t(t){this.options=t||ot,this.options.renderer=this.options.renderer||new et,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new it,this.slugger=new ut}t.parse=function(n,r){return new t(r).parse(n)},t.parseInline=function(n,r){return new t(r).parseInline(n)};var n=t.prototype;return n.parse=function(t,n){void 0===n&&(n=!0);var r,e,i,u,o,a,f,s,l,c,h,d,v,m,p,g,D,b,x,w="",C=t.length;for(r=0;r<C;r++)if(c=t[r],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type])||!1===(x=this.options.extensions.renderers[c.type].call(this,c))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type))switch(c.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(c.tokens),c.depth,at(this.parseInline(c.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(c.text,c.lang,c.escaped);continue;case"table":for(s="",f="",u=c.header.length,e=0;e<u;e++)f+=this.renderer.tablecell(this.parseInline(c.tokens.header[e]),{header:!0,align:c.align[e]});for(s+=this.renderer.tablerow(f),l="",u=c.cells.length,e=0;e<u;e++){for(f="",o=(a=c.tokens.cells[e]).length,i=0;i<o;i++)f+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:c.align[i]});l+=this.renderer.tablerow(f)}w+=this.renderer.table(s,l);continue;case"blockquote":l=this.parse(c.tokens),w+=this.renderer.blockquote(l);continue;case"list":for(h=c.ordered,d=c.start,v=c.loose,u=c.items.length,l="",e=0;e<u;e++)g=(p=c.items[e]).checked,D=p.task,m="",p.task&&(b=this.renderer.checkbox(g),v?p.tokens.length>0&&"text"===p.tokens[0].type?(p.tokens[0].text=b+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&"text"===p.tokens[0].tokens[0].type&&(p.tokens[0].tokens[0].text=b+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(p.tokens,v),l+=this.renderer.listitem(m,D,g);w+=this.renderer.list(l,h,d);continue;case"html":w+=this.renderer.html(c.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(c.tokens));continue;case"text":for(l=c.tokens?this.parseInline(c.tokens):c.text;r+1<C&&"text"===t[r+1].type;)l+="\n"+((c=t[++r]).tokens?this.parseInline(c.tokens):c.text);w+=n?this.renderer.paragraph(l):l;continue;default:var y='Token with "'+c.type+'" type was not found.';if(this.options.silent)return void console.error(y);throw new Error(y)}else w+=x||"";return w},n.parseInline=function(t,n){n=n||this.renderer;var r,e,i,u="",o=t.length;for(r=0;r<o;r++)if(e=t[r],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[e.type])||!1===(i=this.options.extensions.renderers[e.type].call(this,e))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(e.type))switch(e.type){case"escape":u+=n.text(e.text);break;case"html":u+=n.html(e.text);break;case"link":u+=n.link(e.href,e.title,this.parseInline(e.tokens,n));break;case"image":u+=n.image(e.href,e.title,e.text);break;case"strong":u+=n.strong(this.parseInline(e.tokens,n));break;case"em":u+=n.em(this.parseInline(e.tokens,n));break;case"codespan":u+=n.codespan(e.text);break;case"br":u+=n.br();break;case"del":u+=n.del(this.parseInline(e.tokens,n));break;case"text":u+=n.text(e.text);break;default:var a='Token with "'+e.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else u+=i||"";return u},t}(),lt=j,ct=tt,ht=nt,dt=rt,vt=k,mt=M,pt=C,gt=e.exports.getDefaults,Dt=e.exports.changeDefaults,bt=e.exports.defaults;function xt(t,n,r){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(r=n,n=null),n=vt({},xt.defaults,n||{}),mt(n),r){var e,i=n.highlight;try{e=ft.lex(t,n)}catch(t){return r(t)}var u=function(t){var u;if(!t)try{n.walkTokens&&xt.walkTokens(e,n.walkTokens),u=st.parse(e,n)}catch(n){t=n}return n.highlight=i,t?r(t):r(null,u)};if(!i||i.length<3)return u();if(delete n.highlight,!e.length)return u();var o=0;return xt.walkTokens(e,(function(t){"code"===t.type&&(o++,setTimeout((function(){i(t.text,t.lang,(function(n,r){if(n)return u(n);null!=r&&r!==t.text&&(t.text=r,t.escaped=!0),0==--o&&u()}))}),0))})),void(0===o&&u())}try{var a=ft.lex(t,n);return n.walkTokens&&xt.walkTokens(a,n.walkTokens),st.parse(a,n)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+pt(t.message+"",!0)+"</pre>";throw t}}return xt.options=xt.setOptions=function(t){return vt(xt.defaults,t),Dt(xt.defaults),xt},xt.getDefaults=gt,xt.defaults=bt,xt.use=function(){for(var t=this,n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var i,u=vt.apply(void 0,[{}].concat(r)),o=xt.defaults.extensions||{renderers:{},childTokens:{}};r.forEach((function(n){if(n.extensions&&(i=!0,n.extensions.forEach((function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var n=o.renderers?o.renderers[t.name]:null;o.renderers[t.name]=n?function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];var u=t.renderer.apply(this,e);return!1===u&&(u=n.apply(this,e)),u}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");o[t.level]?o[t.level].unshift(t.tokenizer):o[t.level]=[t.tokenizer],t.start&&("block"===t.level?o.startBlock?o.startBlock.push(t.start):o.startBlock=[t.start]:"inline"===t.level&&(o.startInline?o.startInline.push(t.start):o.startInline=[t.start]))}t.childTokens&&(o.childTokens[t.name]=t.childTokens)}))),n.renderer&&function(){var t=xt.defaults.renderer||new ct,r=function(r){var e=t[r];t[r]=function(){for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];var a=n.renderer[r].apply(t,u);return!1===a&&(a=e.apply(t,u)),a}};for(var e in n.renderer)r(e);u.renderer=t}(),n.tokenizer&&function(){var t=xt.defaults.tokenizer||new lt,r=function(r){var e=t[r];t[r]=function(){for(var i=arguments.length,u=new Array(i),o=0;o<i;o++)u[o]=arguments[o];var a=n.tokenizer[r].apply(t,u);return!1===a&&(a=e.apply(t,u)),a}};for(var e in n.tokenizer)r(e);u.tokenizer=t}(),n.walkTokens){var r=xt.defaults.walkTokens;u.walkTokens=function(e){n.walkTokens.call(t,e),r&&r(e)}}i&&(u.extensions=o),xt.setOptions(u)}))},xt.walkTokens=function(t,n){for(var e,i=function(){var t=e.value;switch(n(t),t.type){case"table":for(var i,u=r(t.tokens.header);!(i=u()).done;)xt.walkTokens(i.value,n);for(var o,a=r(t.tokens.cells);!(o=a()).done;)for(var f,s=r(o.value);!(f=s()).done;)xt.walkTokens(f.value,n);break;case"list":xt.walkTokens(t.items,n);break;default:xt.defaults.extensions&&xt.defaults.extensions.childTokens&&xt.defaults.extensions.childTokens[t.type]?xt.defaults.extensions.childTokens[t.type].forEach((function(r){xt.walkTokens(t[r],n)})):t.tokens&&xt.walkTokens(t.tokens,n)}},u=r(t);!(e=u()).done;)i()},xt.parseInline=function(t,n){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");n=vt({},xt.defaults,n||{}),mt(n);try{var r=ft.lexInline(t,n);return n.walkTokens&&xt.walkTokens(r,n.walkTokens),st.parseInline(r,n)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+pt(t.message+"",!0)+"</pre>";throw t}},xt.Parser=st,xt.parser=st.parse,xt.Renderer=ct,xt.TextRenderer=ht,xt.Lexer=ft,xt.lexer=ft.lex,xt.Tokenizer=lt,xt.Slugger=dt,xt.parse=xt,xt}()})),F=/Mac/.test(navigator.platform),k=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),M={toggleBold:P,toggleItalic:U,drawLink:nt,toggleHeadingSmaller:Z,toggleHeadingBigger:X,drawImage:rt,toggleBlockquote:G,toggleOrderedList:Y,toggleUnorderedList:J,toggleCodeBlock:W,togglePreview:lt,toggleStrikethrough:H,toggleHeading1:V,toggleHeading2:K,toggleHeading3:Q,cleanBlock:tt,drawTable:ut,drawHorizontalRule:ot,undo:at,redo:ft,toggleSideBySide:st,toggleFullScreen:q},S={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},B=function(){var t,n=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(n=!0),n};function L(t){return F?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}var T={};function _(t){return T[t]||(T[t]=new RegExp("\\s*"+t+"(\\s*)","g"))}function N(t,n){if(t&&n){var r=_(n);t.className.match(r)||(t.className+=" "+n)}}function z(t,n){if(t&&n){var r=_(n);t.className.match(r)&&(t.className=t.className.replace(r,"$1"))}}function j(t,n,r,e){var i=I(t,!1,n,r,"button",e);i.className+=" easymde-dropdown";var u=document.createElement("div");u.className="easymde-dropdown-content";for(var o=0;o<t.children.length;o++){var a,f=t.children[o];a=I("string"==typeof f&&f in bt?bt[f]:f,!0,n,r,"button",e),u.appendChild(a)}return i.appendChild(u),i}function I(t,n,r,e,i,u){t=t||{};var o=document.createElement(i);o.className=t.name,o.setAttribute("type",i),r=null==r||r,t.name&&t.name in e&&(M[t.name]=t.action),t.title&&r&&(o.title=function(t,n,r){var e,i=t;return n&&r[e=function(t){for(var n in M)if(M[n]===t)return n;return null}(n)]&&(i+=" ("+L(r[e])+")"),i}(t.title,t.action,e),F&&(o.title=o.title.replace("Ctrl","⌘"),o.title=o.title.replace("Alt","⌥"))),t.noDisable&&o.classList.add("no-disable"),t.noMobile&&o.classList.add("no-mobile");var a=[];void 0!==t.className&&(a=t.className.split(" "));for(var f=[],s=0;s<a.length;s++){var l=a[s];l.match(/^fa([srlb]|(-[\w-]*)|$)/)?f.push(l):o.classList.add(l)}o.tabIndex=-1;for(var c=document.createElement("i"),h=0;h<f.length;h++)c.classList.add(f[h]);return o.appendChild(c),void 0!==t.icon&&(o.innerHTML=t.icon),t.action&&n&&("function"==typeof t.action?o.onclick=function(n){n.preventDefault(),t.action(u)}:"string"==typeof t.action&&(o.onclick=function(n){n.preventDefault(),window.open(t.action,"_blank")})),o}function $(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function R(t,n){n=n||t.getCursor("start");var r=t.getTokenAt(n);if(!r.type)return{};for(var e,i,u=r.type.split(" "),o={},a=0;a<u.length;a++)"strong"===(e=u[a])?o.bold=!0:"variable-2"===e?(i=t.getLine(n.line),/^\s*\d+\.\s/.test(i)?o["ordered-list"]=!0:o["unordered-list"]=!0):"atom"===e?o.quote=!0:"em"===e?o.italic=!0:"quote"===e?o.quote=!0:"strikethrough"===e?o.strikethrough=!0:"comment"===e?o.code=!0:"link"===e?o.link=!0:"tag"===e?o.image=!0:e.match(/^header(-[1-6])?$/)&&(o[e.replace("header","heading")]=!0);return o}var O="";function q(t){var n=t.codemirror;n.setOption("fullScreen",!n.getOption("fullScreen")),n.getOption("fullScreen")?(O=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=O;var r=n.getWrapperElement(),e=r.nextSibling;if(/editor-preview-active-side/.test(e.className))if(!1===t.options.sideBySideFullscreen){var i=r.parentNode;n.getOption("fullScreen")?z(i,"sided--no-fullscreen"):N(i,"sided--no-fullscreen")}else st(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(n.getOption("fullScreen")||!1),void 0!==t.options.maxHeight&&(n.getOption("fullScreen")?(n.getScrollerElement().style.removeProperty("height"),e.style.removeProperty("height")):(n.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),/fullscreen/.test(t.toolbar_div.className)?t.toolbar_div.className=t.toolbar_div.className.replace(/\s*fullscreen\b/,""):t.toolbar_div.className+=" fullscreen",t.toolbarElements&&t.toolbarElements.fullscreen){var u=t.toolbarElements.fullscreen;/active/.test(u.className)?u.className=u.className.replace(/\s*active\s*/g,""):u.className+=" active"}}function P(t){vt(t,"bold",t.options.blockStyles.bold)}function U(t){vt(t,"italic",t.options.blockStyles.italic)}function H(t){vt(t,"strikethrough","~~")}function W(t){var n=t.options.blockStyles.code;function r(t){if("object"!=typeof t)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof t+": "+t;return t.styles&&t.styles[2]&&-1!==t.styles[2].indexOf("formatting-code-block")}function e(t){return t.state.base.base||t.state.base}function i(t,n,i,u,o){i=i||t.getLineHandle(n),u=u||t.getTokenAt({line:n,ch:1}),o=o||!!i.text&&t.getTokenAt({line:n,ch:i.text.length-1});var a=u.type?u.type.split(" "):[];return o&&e(o).indentedCode?"indented":-1!==a.indexOf("comment")&&(e(u).fencedChars||e(o).fencedChars||r(i)?"fenced":"single")}var u,o,a,f=t.codemirror,s=f.getCursor("start"),l=f.getCursor("end"),c=f.getTokenAt({line:s.line,ch:s.ch||1}),h=f.getLineHandle(s.line),d=i(f,s.line,h,c);if("single"===d){var v=h.text.slice(0,s.ch).replace("`",""),m=h.text.slice(s.ch).replace("`","");f.replaceRange(v+m,{line:s.line,ch:0},{line:s.line,ch:99999999999999}),s.ch--,s!==l&&l.ch--,f.setSelection(s,l),f.focus()}else if("fenced"===d)if(s.line!==l.line||s.ch!==l.ch){for(u=s.line;u>=0&&!r(h=f.getLineHandle(u));u--);var p,g,D,b,x=e(f.getTokenAt({line:u,ch:1})).fencedChars;r(f.getLineHandle(s.line))?(p="",g=s.line):r(f.getLineHandle(s.line-1))?(p="",g=s.line-1):(p=x+"\n",g=s.line),r(f.getLineHandle(l.line))?(D="",b=l.line,0===l.ch&&(b+=1)):0!==l.ch&&r(f.getLineHandle(l.line+1))?(D="",b=l.line+1):(D=x+"\n",b=l.line+1),0===l.ch&&(b-=1),f.operation((function(){f.replaceRange(D,{line:b,ch:0},{line:b+(D?0:1),ch:0}),f.replaceRange(p,{line:g,ch:0},{line:g+(p?0:1),ch:0})})),f.setSelection({line:g+(p?1:0),ch:0},{line:b+(p?1:-1),ch:0}),f.focus()}else{var w=s.line;if(r(f.getLineHandle(s.line))&&("fenced"===i(f,s.line+1)?(u=s.line,w=s.line+1):(o=s.line,w=s.line-1)),void 0===u)for(u=w;u>=0&&!r(h=f.getLineHandle(u));u--);if(void 0===o)for(a=f.lineCount(),o=w;o<a&&!r(h=f.getLineHandle(o));o++);f.operation((function(){f.replaceRange("",{line:u,ch:0},{line:u+1,ch:0}),f.replaceRange("",{line:o-1,ch:0},{line:o,ch:0})})),f.focus()}else if("indented"===d){if(s.line!==l.line||s.ch!==l.ch)u=s.line,o=l.line,0===l.ch&&o--;else{for(u=s.line;u>=0;u--)if(!(h=f.getLineHandle(u)).text.match(/^\s*$/)&&"indented"!==i(f,u,h)){u+=1;break}for(a=f.lineCount(),o=s.line;o<a;o++)if(!(h=f.getLineHandle(o)).text.match(/^\s*$/)&&"indented"!==i(f,o,h)){o-=1;break}}var C=f.getLineHandle(o+1),y=C&&f.getTokenAt({line:o+1,ch:C.text.length-1});y&&e(y).indentedCode&&f.replaceRange("\n",{line:o+1,ch:0});for(var A=u;A<=o;A++)f.indentLine(A,"subtract");f.focus()}else s.line===l.line&&s.ch===l.ch&&0===s.ch||s.line!==l.line?function(t,n,r,e){var i=n.line+1,u=r.line+1,o=n.line!==r.line,a="\n"+e;o&&u++,o&&0===r.ch&&(a=e+"\n",u--),ct(t,!1,[e+"\n",a]),t.setSelection({line:i,ch:0},{line:u,ch:0})}(f,s,l,n):ct(f,!1,["`","`"])}function G(t){dt(t.codemirror,"quote")}function Z(t){ht(t.codemirror,"smaller")}function X(t){ht(t.codemirror,"bigger")}function V(t){ht(t.codemirror,void 0,1)}function K(t){ht(t.codemirror,void 0,2)}function Q(t){ht(t.codemirror,void 0,3)}function J(t){dt(t.codemirror,"unordered-list")}function Y(t){dt(t.codemirror,"ordered-list")}function tt(t){!function(t){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className))for(var n,r=t.getCursor("start"),e=t.getCursor("end"),i=r.line;i<=e.line;i++)n=(n=t.getLine(i)).replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(n,{line:i,ch:0},{line:i,ch:99999999999999})}(t.codemirror)}function nt(t){var n=t.codemirror,r=R(n),e=t.options,i="https://";if(e.promptURLs&&!(i=prompt(e.promptTexts.link,"https://")))return!1;ct(n,r.link,e.insertTexts.link,i)}function rt(t){var n=t.codemirror,r=R(n),e=t.options,i="https://";if(e.promptURLs&&!(i=prompt(e.promptTexts.image,"https://")))return!1;ct(n,r.image,e.insertTexts.image,i)}function et(t){t.openBrowseFileWindow()}function it(t,n){var r=t.codemirror,e=R(r),i=t.options,u=n.substr(n.lastIndexOf("/")+1),o=u.substring(u.lastIndexOf(".")+1).replace(/\?.*$/,"");if(["png","jpg","jpeg","gif","svg"].includes(o))ct(r,e.image,i.insertTexts.uploadedImage,n);else{var a=i.insertTexts.link;a[0]="["+u,ct(r,e.link,a,n)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",u)),setTimeout((function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)}),1e3)}function ut(t){var n=t.codemirror;ct(n,R(n).table,t.options.insertTexts.table)}function ot(t){var n=t.codemirror;ct(n,R(n).image,t.options.insertTexts.horizontalRule)}function at(t){var n=t.codemirror;n.undo(),n.focus()}function ft(t){var n=t.codemirror;n.redo(),n.focus()}function st(t){var n=t.codemirror,r=n.getWrapperElement(),e=r.nextSibling,i=t.toolbarElements&&t.toolbarElements["side-by-side"],u=!1,o=r.parentNode;/editor-preview-active-side/.test(e.className)?(!1===t.options.sideBySideFullscreen&&z(o,"sided--no-fullscreen"),e.className=e.className.replace(/\s*editor-preview-active-side\s*/g,""),i&&(i.className=i.className.replace(/\s*active\s*/g,"")),r.className=r.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout((function(){n.getOption("fullScreen")||(!1===t.options.sideBySideFullscreen?N(o,"sided--no-fullscreen"):q(t)),e.className+=" editor-preview-active-side"}),1),i&&(i.className+=" active"),r.className+=" CodeMirror-sided",u=!0);var a=r.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var f=t.toolbarElements.preview,s=t.toolbar_div;f.className=f.className.replace(/\s*active\s*/g,""),s.className=s.className.replace(/\s*disabled-for-preview*/g,"")}if(n.sideBySideRenderingFunction||(n.sideBySideRenderingFunction=function(){var n=t.options.previewRender(t.value(),e);null!=n&&(e.innerHTML=n)}),u){var l=t.options.previewRender(t.value(),e);null!=l&&(e.innerHTML=l),n.on("update",n.sideBySideRenderingFunction)}else n.off("update",n.sideBySideRenderingFunction);n.refresh()}function lt(t){var n=t.codemirror,r=n.getWrapperElement(),e=t.toolbar_div,i=!!t.options.toolbar&&t.toolbarElements.preview,u=r.lastChild,o=n.getWrapperElement().nextSibling;if(/editor-preview-active-side/.test(o.className)&&st(t),!u||!/editor-preview-full/.test(u.className)){if((u=document.createElement("div")).className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var a=0;a<t.options.previewClass.length;a++)u.className+=" "+t.options.previewClass[a];else"string"==typeof t.options.previewClass&&(u.className+=" "+t.options.previewClass);r.appendChild(u)}/editor-preview-active/.test(u.className)?(u.className=u.className.replace(/\s*editor-preview-active\s*/g,""),i&&(i.className=i.className.replace(/\s*active\s*/g,""),e.className=e.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout((function(){u.className+=" editor-preview-active"}),1),i&&(i.className+=" active",e.className+=" disabled-for-preview")),u.innerHTML=t.options.previewRender(t.value(),u)}function ct(t,n,r,e){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var i,u=r[0],o=r[1],a={},f={};Object.assign(a,t.getCursor("start")),Object.assign(f,t.getCursor("end")),e&&(u=u.replace("#url#",e),o=o.replace("#url#",e)),n?(u=(i=t.getLine(a.line)).slice(0,a.ch),o=i.slice(a.ch),t.replaceRange(u+o,{line:a.line,ch:0})):(i=t.getSelection(),t.replaceSelection(u+i+o),a.ch+=u.length,a!==f&&(f.ch+=u.length)),t.setSelection(a,f),t.focus()}}function ht(t,n,r){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var e=t.getCursor("start"),i=t.getCursor("end"),u=e.line;u<=i.line;u++)!function(e){var i=t.getLine(e),u=i.search(/[^#]/);i=void 0!==n?u<=0?"bigger"==n?"###### "+i:"# "+i:6==u&&"smaller"==n?i.substr(7):1==u&&"bigger"==n?i.substr(2):"bigger"==n?i.substr(1):"#"+i:1==r?u<=0?"# "+i:u==r?i.substr(u+1):"# "+i.substr(u+1):2==r?u<=0?"## "+i:u==r?i.substr(u+1):"## "+i.substr(u+1):u<=0?"### "+i:u==r?i.substr(u+1):"### "+i.substr(u+1),t.replaceRange(i,{line:e,ch:0},{line:e,ch:99999999999999})}(u);t.focus()}}function dt(t,n){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var r=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,e=/^\s*/,i=R(t),u=t.getCursor("start"),o=t.getCursor("end"),a={quote:/^(\s*)>\s+/,"unordered-list":r,"ordered-list":r},f=function(t,n,i){var u=r.exec(n),o=function(t,n){return{quote:">","unordered-list":"*","ordered-list":"%%i."}[t].replace("%%i",n)}(t,s);return null!==u?(function(t,n){var r=new RegExp({quote:">","unordered-list":"*","ordered-list":"\\d+."}[t]);return n&&r.test(n)}(t,u[2])&&(o=""),n=u[1]+o+u[3]+n.replace(e,"").replace(a[t],"$1")):0==i&&(n=o+" "+n),n},s=1,l=u.line;l<=o.line;l++)!function(r){var e=t.getLine(r);i[n]?e=e.replace(a[n],"$1"):("unordered-list"==n&&(e=f("ordered-list",e,!0)),e=f(n,e,!1),s+=1),t.replaceRange(e,{line:r,ch:0},{line:r,ch:99999999999999})}(l);t.focus()}}function vt(t,n,r,e){if(!/editor-preview-active/.test(t.codemirror.getWrapperElement().lastChild.className)){e=void 0===e?r:e;var i,u=t.codemirror,o=R(u),a=r,f=e,s=u.getCursor("start"),l=u.getCursor("end");o[n]?(a=(i=u.getLine(s.line)).slice(0,s.ch),f=i.slice(s.ch),"bold"==n?(a=a.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),f=f.replace(/(\*\*|__)/,"")):"italic"==n?(a=a.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),f=f.replace(/(\*|_)/,"")):"strikethrough"==n&&(a=a.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),f=f.replace(/(\*\*|~~)/,"")),u.replaceRange(a+f,{line:s.line,ch:0},{line:s.line,ch:99999999999999}),"bold"==n||"strikethrough"==n?(s.ch-=2,s!==l&&(l.ch-=2)):"italic"==n&&(s.ch-=1,s!==l&&(l.ch-=1))):(i=u.getSelection(),"bold"==n?i=(i=i.split("**").join("")).split("__").join(""):"italic"==n?i=(i=i.split("*").join("")).split("_").join(""):"strikethrough"==n&&(i=i.split("~~").join("")),u.replaceSelection(a+i+f),s.ch+=r.length,l.ch=s.ch+i.length),u.setSelection(s,l),u.focus()}}function mt(t,n){if(Math.abs(t)<1024)return""+t+n[0];var r=0;do{t/=1024,++r}while(Math.abs(t)>=1024&&r<n.length);return""+t.toFixed(1)+n[r]}function pt(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]instanceof Array?n[r].concat(t[r]instanceof Array?t[r]:[]):null!==n[r]&&"object"==typeof n[r]&&n[r].constructor===Object?pt(t[r]||{},n[r]):n[r]);return t}function gt(t){for(var n=1;n<arguments.length;n++)t=pt(t,arguments[n]);return t}function Dt(t){var n=t.match(/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),r=0;if(null===n)return r;for(var e=0;e<n.length;e++)n[e].charCodeAt(0)>=19968?r+=n[e].length:r+=1;return r}var bt={bold:{name:"bold",action:P,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:U,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:H,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:Z,className:"fa fa-header fa-heading",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:Z,className:"fa fa-header fa-heading header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:X,className:"fa fa-header fa-heading header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:V,className:"fa fa-header fa-heading header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:K,className:"fa fa-header fa-heading header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:Q,className:"fa fa-header fa-heading header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:W,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:G,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:J,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Y,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:tt,className:"fa fa-eraser",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:nt,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:rt,className:"fa fa-image",title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:et,className:"fa fa-image",title:"Import an image"},table:{name:"table",action:ut,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:ot,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:lt,className:"fa fa-eye",noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:st,className:"fa fa-columns",noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:q,className:"fa fa-arrows-alt",noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:"fa fa-question-circle",noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:at,className:"fa fa-undo",noDisable:!0,title:"Undo"},redo:{name:"redo",action:ft,className:"fa fa-repeat fa-redo",noDisable:!0,title:"Redo"}},xt={link:["[","](#url#)"],image:["![](","#url#)"],uploadedImage:["![](#url#)",""],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},wt={link:"URL for the link:",image:"URL of the image:"},Ct={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},yt={bold:"**",code:"```",italic:"*"},At={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},Et={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:"Image #image_name# is too big (#image_size#).\nMaximum file size is #image_max_size#.",importError:"Something went wrong when uploading the image #image_name#."};function Ft(t){(t=t||{}).parent=this;var n=!0;if(!1===t.autoDownloadFontAwesome&&(n=!1),!0!==t.autoDownloadFontAwesome)for(var r=document.styleSheets,e=0;e<r.length;e++)r[e].href&&r[e].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(n=!1);if(n){var i=document.createElement("link");i.rel="stylesheet",i.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(i)}if(t.element)this.element=t.element;else if(null===t.element)return void console.log("EasyMDE: Error. No element was found.");if(void 0===t.toolbar)for(var u in t.toolbar=[],bt)Object.prototype.hasOwnProperty.call(bt,u)&&(-1!=u.indexOf("separator-")&&t.toolbar.push("|"),(!0===bt[u].default||t.showIcons&&t.showIcons.constructor===Array&&-1!=t.showIcons.indexOf(u))&&t.toolbar.push(u));if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(t){return this.parent.markdown(t)}),t.parsingConfig=gt({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=gt({},xt,t.insertTexts||{}),t.promptTexts=gt({},wt,t.promptTexts||{}),t.blockStyles=gt({},yt,t.blockStyles||{}),null!=t.autosave&&(t.autosave.timeFormat=gt({},Ct,t.autosave.timeFormat||{})),t.shortcuts=gt({},S,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.minHeight=void 0!==t.maxHeight?t.maxHeight:t.minHeight||"300px",t.errorCallback=t.errorCallback||function(t){alert(t)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg",t.imageTexts=gt({},At,t.imageTexts||{}),t.errorMessages=gt({},Et,t.errorMessages||{}),null!=t.autosave&&null!=t.autosave.unique_id&&""!=t.autosave.unique_id&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&void 0===t.overlayMode.combine&&(t.overlayMode.combine=!0),this.options=t,this.render(),!t.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(t.initialValue),t.uploadImage){var o=this;this.codemirror.on("dragenter",(function(t,n){o.updateStatusBar("upload-image",o.options.imageTexts.sbOnDragEnter),n.stopPropagation(),n.preventDefault()})),this.codemirror.on("dragend",(function(t,n){o.updateStatusBar("upload-image",o.options.imageTexts.sbInit),n.stopPropagation(),n.preventDefault()})),this.codemirror.on("dragleave",(function(t,n){o.updateStatusBar("upload-image",o.options.imageTexts.sbInit),n.stopPropagation(),n.preventDefault()})),this.codemirror.on("dragover",(function(t,n){o.updateStatusBar("upload-image",o.options.imageTexts.sbOnDragEnter),n.stopPropagation(),n.preventDefault()})),this.codemirror.on("drop",(function(n,r){r.stopPropagation(),r.preventDefault(),t.imageUploadFunction?o.uploadImagesUsingCustomFunction(t.imageUploadFunction,r.dataTransfer.files):o.uploadImages(r.dataTransfer.files)})),this.codemirror.on("paste",(function(n,r){t.imageUploadFunction?o.uploadImagesUsingCustomFunction(t.imageUploadFunction,r.clipboardData.files):o.uploadImages(r.clipboardData.files)}))}}function kt(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(t){return!1}return!0}Ft.prototype.uploadImages=function(t,n,r){if(0!==t.length){for(var e=[],i=0;i<t.length;i++)e.push(t[i].name),this.uploadImage(t[i],n,r);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",e.join(", ")))}},Ft.prototype.uploadImagesUsingCustomFunction=function(t,n){if(0!==n.length){for(var r=[],e=0;e<n.length;e++)r.push(n[e].name),this.uploadImageUsingCustomFunction(t,n[e]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",r.join(", ")))}},Ft.prototype.updateStatusBar=function(t,n){if(this.gui.statusbar){var r=this.gui.statusbar.getElementsByClassName(t);1===r.length?this.gui.statusbar.getElementsByClassName(t)[0].textContent=n:0===r.length?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}},Ft.prototype.markdown=function(t){if(E){var n;if((n=this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?this.options.renderingConfig.markedOptions:{}).breaks=!this.options||!this.options.renderingConfig||!1!==this.options.renderingConfig.singleLineBreaks,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting){var r=this.options.renderingConfig.hljs||window.hljs;r&&(n.highlight=function(t,n){return n&&r.getLanguage(n)?r.highlight(n,t).value:r.highlightAuto(t).value})}E.setOptions(n);var e=E(t);return this.options.renderingConfig&&"function"==typeof this.options.renderingConfig.sanitizerFunction&&(e=this.options.renderingConfig.sanitizerFunction.call(this,e)),function(t){for(var n=(new DOMParser).parseFromString(t,"text/html"),r=n.getElementsByTagName("li"),e=0;e<r.length;e++)for(var i=r[e],u=0;u<i.children.length;u++){var o=i.children[u];o instanceof HTMLInputElement&&"checkbox"===o.type&&(i.style.marginLeft="-1.5em",i.style.listStyleType="none")}return n.documentElement.innerHTML}(e=function(t){for(var n;null!==(n=k.exec(t));){var r=n[0];if(-1===r.indexOf("target=")){var e=r.replace(/>$/,' target="_blank">');t=t.replace(r,e)}}return t}(e))}},Ft.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var n,r,e=this.options,i=this,u={};for(var o in e.shortcuts)null!==e.shortcuts[o]&&null!==M[o]&&function(t){u[L(e.shortcuts[t])]=function(){var n=M[t];"function"==typeof n?n(i):"string"==typeof n&&window.open(n,"_blank")}}(o);if(u.Enter="newlineAndIndentContinueMarkdownList",u.Tab="tabAndIndentMarkdownList",u["Shift-Tab"]="shiftTabAndUnindentMarkdownList",u.Esc=function(t){t.getOption("fullScreen")&&q(i)},this.documentOnKeyDown=function(t){27==(t=t||window.event).keyCode&&i.codemirror.getOption("fullScreen")&&q(i)},document.addEventListener("keydown",this.documentOnKeyDown,!1),e.overlayMode?(x.defineMode("overlay-mode",(function(t){return x.overlayMode(x.getMode(t,!1!==e.spellChecker?"spell-checker":"gfm"),e.overlayMode.mode,e.overlayMode.combine)})),n="overlay-mode",(r=e.parsingConfig).gitHubSpice=!1):((n=e.parsingConfig).name="gfm",n.gitHubSpice=!1),!1!==e.spellChecker&&(n="spell-checker",(r=e.parsingConfig).name="gfm",r.gitHubSpice=!1,A({codeMirrorInstance:x})),this.codemirror=x.fromTextArea(t,{mode:n,backdrop:r,theme:null!=e.theme?e.theme:"easymde",tabSize:null!=e.tabSize?e.tabSize:2,indentUnit:null!=e.tabSize?e.tabSize:2,indentWithTabs:!1!==e.indentWithTabs,lineNumbers:!0===e.lineNumbers,autofocus:!0===e.autofocus,extraKeys:u,lineWrapping:!1!==e.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:e.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:null!=e.styleSelectedText?e.styleSelectedText:!B(),scrollbarStyle:null!=e.scrollbarStyle?e.scrollbarStyle:"native",configureMouse:function(){return{addNew:!1}},inputStyle:null!=e.inputStyle?e.inputStyle:B()?"contenteditable":"textarea",spellcheck:null==e.nativeSpellcheck||e.nativeSpellcheck,autoRefresh:null!=e.autoRefresh&&e.autoRefresh}),this.codemirror.getScrollerElement().style.minHeight=e.minHeight,void 0!==e.maxHeight&&(this.codemirror.getScrollerElement().style.height=e.maxHeight),!0===e.forceSync){var a=this.codemirror;a.on("change",(function(){a.save()}))}this.gui={};var f=document.createElement("div");f.classList.add("EasyMDEContainer");var s=this.codemirror.getWrapperElement();s.parentNode.insertBefore(f,s),f.appendChild(s),!1!==e.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==e.status&&(this.gui.statusbar=this.createStatusbar()),null!=e.autosave&&!0===e.autosave.enabled&&(this.autosave(),this.codemirror.on("change",(function(){clearTimeout(i._autosave_timeout),i._autosave_timeout=setTimeout((function(){i.autosave()}),i.options.autosave.submit_delay||i.options.autosave.delay||1e3)})));var l=this;this.codemirror.on("update",(function(){e.previewImagesInEditor&&f.querySelectorAll(".cm-image-marker").forEach((function(t){var n=t.parentElement;if(n.innerText.match(/^!\[.*?\]\(.*\)/g)&&!n.hasAttribute("data-img-src")){var r=n.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),r&&r.length>=2){var e=r[1];if(window.EMDEimagesCache[e])h(n,window.EMDEimagesCache[e]);else{var i=document.createElement("img");i.onload=function(){window.EMDEimagesCache[e]={naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight,url:e},h(n,window.EMDEimagesCache[e])},i.src=e}}}}))})),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var c=this.codemirror;setTimeout(function(){c.refresh()}.bind(c),0)}function h(t,n){var r,e;t.setAttribute("data-img-src",n.url),t.setAttribute("style","--bg-image:url("+n.url+");--width:"+n.naturalWidth+"px;--height:"+(e=n.naturalHeight,(r=n.naturalWidth)<window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","")?e+"px":e/r*100+"%")),l.codemirror.setSize()}},Ft.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)},Ft.prototype.autosave=function(){if(kt()){var t=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to use the autosave feature");!0!==this.options.autosave.binded&&(null!=t.element.form&&null!=t.element.form&&t.element.form.addEventListener("submit",(function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)})),this.options.autosave.binded=!0),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var n=t.value();""!==n?localStorage.setItem("smde_"+this.options.autosave.uniqueId,n):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var r=document.getElementById("autosaved");if(null!=r&&null!=r&&""!=r){var e=new Date,i=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(e);r.innerHTML=(null==this.options.autosave.text?"Autosaved: ":this.options.autosave.text)+i}}else console.log("EasyMDE: localStorage not available, cannot autosave")},Ft.prototype.clearAutosavedValue=function(){if(kt()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return void console.log("EasyMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")},Ft.prototype.openBrowseFileWindow=function(t,n){var r=this,e=this.gui.toolbar.getElementsByClassName("imageInput")[0];e.click(),e.addEventListener("change",(function i(u){r.options.imageUploadFunction?r.uploadImagesUsingCustomFunction(r.options.imageUploadFunction,u.target.files):r.uploadImages(u.target.files,t,n),e.removeEventListener("change",i)}))},Ft.prototype.uploadImage=function(t,n,r){var e=this;function i(t){e.updateStatusBar("upload-image",t),setTimeout((function(){e.updateStatusBar("upload-image",e.options.imageTexts.sbInit)}),1e4),r&&"function"==typeof r&&r(t),e.options.errorCallback(t)}function u(n){var r=e.options.imageTexts.sizeUnits.split(",");return n.replace("#image_name#",t.name).replace("#image_size#",mt(t.size,r)).replace("#image_max_size#",mt(e.options.imageMaxSize,r))}if(n=n||function(t){it(e,t)},t.size>this.options.imageMaxSize)i(u(this.options.errorMessages.fileTooLarge));else{var o=new FormData;o.append("image",t),e.options.imageCSRFToken&&o.append("csrfmiddlewaretoken",e.options.imageCSRFToken);var a=new XMLHttpRequest;a.upload.onprogress=function(n){if(n.lengthComputable){var r=""+Math.round(100*n.loaded/n.total);e.updateStatusBar("upload-image",e.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",r))}},a.open("POST",this.options.imageUploadEndpoint),a.onload=function(){try{var t=JSON.parse(this.responseText)}catch(t){return console.error("EasyMDE: The server did not return a valid json."),void i(u(e.options.errorMessages.importError))}200===this.status&&t&&!t.error&&t.data&&t.data.filePath?n((e.options.imagePathAbsolute?"":window.location.origin+"/")+t.data.filePath):t.error&&t.error in e.options.errorMessages?i(u(e.options.errorMessages[t.error])):t.error?i(u(t.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),i(u(e.options.errorMessages.importError)))},a.onerror=function(t){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+t.target.status+" ("+t.target.statusText+")"),i(e.options.errorMessages.importError)},a.send(o)}},Ft.prototype.uploadImageUsingCustomFunction=function(t,n){var r=this;t.apply(this,[n,function(t){it(r,t)},function(t){var e=function(t){var e=r.options.imageTexts.sizeUnits.split(",");return t.replace("#image_name#",n.name).replace("#image_size#",mt(n.size,e)).replace("#image_max_size#",mt(r.options.imageMaxSize,e))}(t);r.updateStatusBar("upload-image",e),setTimeout((function(){r.updateStatusBar("upload-image",r.options.imageTexts.sbInit)}),1e4),r.options.errorCallback(e)}])},Ft.prototype.setPreviewMaxHeight=function(){var t=this.codemirror.getWrapperElement(),n=t.nextSibling,r=parseInt(window.getComputedStyle(t).paddingTop),e=parseInt(window.getComputedStyle(t).borderTopWidth),i=(parseInt(this.options.maxHeight)+2*r+2*e).toString()+"px";n.style.height=i},Ft.prototype.createSideBySide=function(){var t=this.codemirror,n=t.getWrapperElement(),r=n.nextSibling;if(!r||!/editor-preview-side/.test(r.className)){if((r=document.createElement("div")).className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var e=0;e<this.options.previewClass.length;e++)r.className+=" "+this.options.previewClass[e];else"string"==typeof this.options.previewClass&&(r.className+=" "+this.options.previewClass);n.parentNode.insertBefore(r,n.nextSibling)}if(void 0!==this.options.maxHeight&&this.setPreviewMaxHeight(),!1===this.options.syncSideBySidePreviewScroll)return r;var i=!1,u=!1;return t.on("scroll",(function(t){if(i)i=!1;else{u=!0;var n=t.getScrollInfo().height-t.getScrollInfo().clientHeight,e=parseFloat(t.getScrollInfo().top)/n;r.scrollTop=(r.scrollHeight-r.clientHeight)*e}})),r.onscroll=function(){if(u)u=!1;else{i=!0;var n=r.scrollHeight-r.clientHeight,e=parseFloat(r.scrollTop)/n,o=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*e;t.scrollTo(0,o)}},r},Ft.prototype.createToolbar=function(t){if((t=t||this.options.toolbar)&&0!==t.length){var n;for(n=0;n<t.length;n++)null!=bt[t[n]]&&(t[n]=bt[t[n]]);var r=document.createElement("div");r.className="editor-toolbar";var e=this,i={};for(e.toolbar=t,n=0;n<t.length;n++)if(("guide"!=t[n].name||!1!==e.options.toolbarGuideIcon)&&!(e.options.hideIcons&&-1!=e.options.hideIcons.indexOf(t[n].name)||("fullscreen"==t[n].name||"side-by-side"==t[n].name)&&B())){if("|"===t[n]){for(var u=!1,o=n+1;o<t.length;o++)"|"===t[o]||e.options.hideIcons&&-1!=e.options.hideIcons.indexOf(t[o].name)||(u=!0);if(!u)continue}!function(t){var n;if(n="|"===t?$():t.children?j(t,e.options.toolbarTips,e.options.shortcuts,e):I(t,!0,e.options.toolbarTips,e.options.shortcuts,"button",e),i[t.name||t]=n,r.appendChild(n),"upload-image"===t.name){var u=document.createElement("input");u.className="imageInput",u.type="file",u.multiple=!0,u.name="image",u.accept=e.options.imageAccept,u.style.display="none",u.style.opacity=0,r.appendChild(u)}}(t[n])}e.toolbar_div=r,e.toolbarElements=i;var a=this.codemirror;a.on("cursorActivity",(function(){var t=R(a);for(var n in i)!function(n){var r=i[n];t[n]?r.className+=" active":"fullscreen"!=n&&"side-by-side"!=n&&(r.className=r.className.replace(/\s*active\s*/g,""))}(n)}));var f=a.getWrapperElement();return f.parentNode.insertBefore(r,f),r}},Ft.prototype.createStatusbar=function(t){var n=this.options,r=this.codemirror;if((t=t||this.options.status)&&0!==t.length){var e,i,u,o,a=[];for(e=0;e<t.length;e++)if(i=void 0,u=void 0,o=void 0,"object"==typeof t[e])a.push({className:t[e].className,defaultValue:t[e].defaultValue,onUpdate:t[e].onUpdate,onActivity:t[e].onActivity});else{var f=t[e];"words"===f?(o=function(t){t.innerHTML=Dt(r.getValue())},i=function(t){t.innerHTML=Dt(r.getValue())}):"lines"===f?(o=function(t){t.innerHTML=r.lineCount()},i=function(t){t.innerHTML=r.lineCount()}):"cursor"===f?(o=function(t){t.innerHTML="0:0"},u=function(t){var n=r.getCursor();t.innerHTML=n.line+":"+n.ch}):"autosave"===f?o=function(t){null!=n.autosave&&!0===n.autosave.enabled&&t.setAttribute("id","autosaved")}:"upload-image"===f&&(o=function(t){t.innerHTML=n.imageTexts.sbInit}),a.push({className:f,defaultValue:o,onUpdate:i,onActivity:u})}var s=document.createElement("div");for(s.className="editor-statusbar",e=0;e<a.length;e++){var l=a[e],c=document.createElement("span");c.className=l.className,"function"==typeof l.defaultValue&&l.defaultValue(c),"function"==typeof l.onUpdate&&this.codemirror.on("update",function(t,n){return function(){n.onUpdate(t)}}(c,l)),"function"==typeof l.onActivity&&this.codemirror.on("cursorActivity",function(t,n){return function(){n.onActivity(t)}}(c,l)),s.appendChild(c)}var h=this.codemirror.getWrapperElement();return h.parentNode.insertBefore(s,h.nextSibling),s}},Ft.prototype.value=function(t){var n=this.codemirror;if(void 0===t)return n.getValue();if(n.getDoc().setValue(t),this.isPreviewActive()){var r=n.getWrapperElement().lastChild;r.innerHTML=this.options.previewRender(t,r)}return this},Ft.toggleBold=P,Ft.toggleItalic=U,Ft.toggleStrikethrough=H,Ft.toggleBlockquote=G,Ft.toggleHeadingSmaller=Z,Ft.toggleHeadingBigger=X,Ft.toggleHeading1=V,Ft.toggleHeading2=K,Ft.toggleHeading3=Q,Ft.toggleCodeBlock=W,Ft.toggleUnorderedList=J,Ft.toggleOrderedList=Y,Ft.cleanBlock=tt,Ft.drawLink=nt,Ft.drawImage=rt,Ft.drawUploadedImage=et,Ft.drawTable=ut,Ft.drawHorizontalRule=ot,Ft.undo=at,Ft.redo=ft,Ft.togglePreview=lt,Ft.toggleSideBySide=st,Ft.toggleFullScreen=q,Ft.prototype.toggleBold=function(){P(this)},Ft.prototype.toggleItalic=function(){U(this)},Ft.prototype.toggleStrikethrough=function(){H(this)},Ft.prototype.toggleBlockquote=function(){G(this)},Ft.prototype.toggleHeadingSmaller=function(){Z(this)},Ft.prototype.toggleHeadingBigger=function(){X(this)},Ft.prototype.toggleHeading1=function(){V(this)},Ft.prototype.toggleHeading2=function(){K(this)},Ft.prototype.toggleHeading3=function(){Q(this)},Ft.prototype.toggleCodeBlock=function(){W(this)},Ft.prototype.toggleUnorderedList=function(){J(this)},Ft.prototype.toggleOrderedList=function(){Y(this)},Ft.prototype.cleanBlock=function(){tt(this)},Ft.prototype.drawLink=function(){nt(this)},Ft.prototype.drawImage=function(){rt(this)},Ft.prototype.drawUploadedImage=function(){et(this)},Ft.prototype.drawTable=function(){ut(this)},Ft.prototype.drawHorizontalRule=function(){ot(this)},Ft.prototype.undo=function(){at(this)},Ft.prototype.redo=function(){ft(this)},Ft.prototype.togglePreview=function(){lt(this)},Ft.prototype.toggleSideBySide=function(){st(this)},Ft.prototype.toggleFullScreen=function(){q(this)},Ft.prototype.isPreviewActive=function(){var t=this.codemirror.getWrapperElement();return/editor-preview-active/.test(t.lastChild.className)},Ft.prototype.isSideBySideActive=function(){var t=this.codemirror.getWrapperElement();return/editor-preview-active-side/.test(t.nextSibling.className)},Ft.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},Ft.prototype.getState=function(){return R(this.codemirror)},Ft.prototype.toTextArea=function(){var t=this.codemirror,n=t.getWrapperElement(),r=n.parentNode;r&&(this.gui.toolbar&&r.removeChild(this.gui.toolbar),this.gui.statusbar&&r.removeChild(this.gui.statusbar),this.gui.sideBySide&&r.removeChild(this.gui.sideBySide)),r.parentNode.insertBefore(n,r),r.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var Mt=Ft;const St=class{constructor(n){t(this,n),this.contentChanged=r(this,"contentChanged",7)}watchContentHandler(t){var n;null===(n=this.editor)||void 0===n||n.value(t)}componentDidLoad(){let t;this.editor=new Mt({element:this.editorEl,toolbar:!1,spellChecker:!1,maxHeight:this.editorContainerEl.clientHeight-32+"px",placeholder:"Type anything in markdown..."}),this.editor.value(this.content),this.editor.codemirror.on("change",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{this.contentChanged.emit(this.editor.value())}),1e3)}))}render(){return n("div",{class:"editor-container",ref:t=>this.editorContainerEl=t},n("textarea",{ref:t=>this.editorEl=t},"Hello world"))}static get watchers(){return{content:["watchContentHandler"]}}};St.style='.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta{color:#555}.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error{color:red}.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:0;position:relative}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none;outline:0}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:0 0!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:0 0;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:0}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:\'\'}span.CodeMirror-selectedtext{background:0 0}.EasyMDEContainer{display:block}.EasyMDEContainer.sided--no-fullscreen{display:flex;flex-direction:row;flex-wrap:wrap}.EasyMDEContainer .CodeMirror{box-sizing:border-box;height:auto;border:1px solid #ddd;border-bottom-left-radius:4px;border-bottom-right-radius:4px;padding:10px;font:inherit;z-index:0;word-wrap:break-word}.EasyMDEContainer .CodeMirror-scroll{cursor:text}.EasyMDEContainer .CodeMirror-fullscreen{background:#fff;position:fixed!important;top:50px;left:0;right:0;bottom:0;height:auto;z-index:8;border-right:none!important;border-bottom-right-radius:0!important}.EasyMDEContainer .CodeMirror-sided{width:50%!important}.EasyMDEContainer.sided--no-fullscreen .CodeMirror-sided{border-right:none!important;border-bottom-right-radius:0;position:relative;flex:1 1 auto}.EasyMDEContainer .CodeMirror-placeholder{opacity:.5}.EasyMDEContainer .CodeMirror-focused .CodeMirror-selected{background:#d9d9d9}.editor-toolbar{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;padding:9px 10px;border-top:1px solid #bbb;border-left:1px solid #bbb;border-right:1px solid #bbb;border-top-left-radius:4px;border-top-right-radius:4px}.editor-toolbar.fullscreen{width:100%;height:50px;padding-top:10px;padding-bottom:10px;box-sizing:border-box;background:#fff;border:0;position:fixed;top:0;left:0;opacity:1;z-index:9}.editor-toolbar.fullscreen::before{width:20px;height:50px;background:-moz-linear-gradient(left,#fff 0,rgba(255,255,255,0) 100%);background:-webkit-gradient(linear,left top,right top,color-stop(0,#fff),color-stop(100%,rgba(255,255,255,0)));background:-webkit-linear-gradient(left,#fff 0,rgba(255,255,255,0) 100%);background:-o-linear-gradient(left,#fff 0,rgba(255,255,255,0) 100%);background:-ms-linear-gradient(left,#fff 0,rgba(255,255,255,0) 100%);background:linear-gradient(to right,#fff 0,rgba(255,255,255,0) 100%);position:fixed;top:0;left:0;margin:0;padding:0}.editor-toolbar.fullscreen::after{width:20px;height:50px;background:-moz-linear-gradient(left,rgba(255,255,255,0) 0,#fff 100%);background:-webkit-gradient(linear,left top,right top,color-stop(0,rgba(255,255,255,0)),color-stop(100%,#fff));background:-webkit-linear-gradient(left,rgba(255,255,255,0) 0,#fff 100%);background:-o-linear-gradient(left,rgba(255,255,255,0) 0,#fff 100%);background:-ms-linear-gradient(left,rgba(255,255,255,0) 0,#fff 100%);background:linear-gradient(to right,rgba(255,255,255,0) 0,#fff 100%);position:fixed;top:0;right:0;margin:0;padding:0}.EasyMDEContainer.sided--no-fullscreen .editor-toolbar{width:100%}.editor-toolbar .easymde-dropdown,.editor-toolbar button{background:0 0;display:inline-block;text-align:center;text-decoration:none!important;height:30px;margin:0;padding:0;border:1px solid transparent;border-radius:3px;cursor:pointer}.editor-toolbar button{width:30px}.editor-toolbar button.active,.editor-toolbar button:hover{background:#fcfcfc;border-color:#95a5a6}.editor-toolbar i.separator{display:inline-block;width:0;border-left:1px solid #d9d9d9;border-right:1px solid #fff;color:transparent;text-indent:-10px;margin:0 6px}.editor-toolbar button:after{font-family:Arial,"Helvetica Neue",Helvetica,sans-serif;font-size:65%;vertical-align:text-bottom;position:relative;top:2px}.editor-toolbar button.heading-1:after{content:"1"}.editor-toolbar button.heading-2:after{content:"2"}.editor-toolbar button.heading-3:after{content:"3"}.editor-toolbar button.heading-bigger:after{content:"▲"}.editor-toolbar button.heading-smaller:after{content:"▼"}.editor-toolbar.disabled-for-preview button:not(.no-disable){opacity:.6;pointer-events:none}@media only screen and (max-width:700px){.editor-toolbar i.no-mobile{display:none}}.editor-statusbar{padding:8px 10px;font-size:12px;color:#959694;text-align:right}.EasyMDEContainer.sided--no-fullscreen .editor-statusbar{width:100%}.editor-statusbar span{display:inline-block;min-width:4em;margin-left:1em}.editor-statusbar .lines:before{content:\'lines: \'}.editor-statusbar .words:before{content:\'words: \'}.editor-statusbar .characters:before{content:\'characters: \'}.editor-preview-full{position:absolute;width:100%;height:100%;top:0;left:0;z-index:7;overflow:auto;display:none;box-sizing:border-box}.editor-preview-side{position:fixed;bottom:0;width:50%;top:50px;right:0;z-index:9;overflow:auto;display:none;box-sizing:border-box;border:1px solid #ddd;word-wrap:break-word}.editor-preview-active-side{display:block}.EasyMDEContainer.sided--no-fullscreen .editor-preview-active-side{flex:1 1 auto;height:auto;position:static}.editor-preview-active{display:block}.editor-preview{padding:10px;background:#fafafa}.editor-preview>p{margin-top:0}.editor-preview pre{background:#eee;margin-bottom:10px}.editor-preview table td,.editor-preview table th{border:1px solid #ddd;padding:5px}.cm-s-easymde .cm-tag{color:#63a35c}.cm-s-easymde .cm-attribute{color:#795da3}.cm-s-easymde .cm-string{color:#183691}.cm-s-easymde .cm-header-1{font-size:200%;line-height:200%}.cm-s-easymde .cm-header-2{font-size:160%;line-height:160%}.cm-s-easymde .cm-header-3{font-size:125%;line-height:125%}.cm-s-easymde .cm-header-4{font-size:110%;line-height:110%}.cm-s-easymde .cm-comment{background:rgba(0,0,0,.05);border-radius:2px}.cm-s-easymde .cm-link{color:#7f8c8d}.cm-s-easymde .cm-url{color:#aab2b3}.cm-s-easymde .cm-quote{color:#7f8c8d;font-style:italic}.editor-toolbar .easymde-dropdown{position:relative;background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333 100%);border-radius:0;border:1px solid #fff}.editor-toolbar .easymde-dropdown:hover{background:linear-gradient(to bottom right,#fff 0,#fff 84%,#333 50%,#333 100%)}.easymde-dropdown-content{display:block;visibility:hidden;position:absolute;background-color:#f9f9f9;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);padding:8px;z-index:2;top:30px}.easymde-dropdown:active .easymde-dropdown-content,.easymde-dropdown:focus .easymde-dropdown-content{visibility:visible}span[data-img-src]::after{content:\'\';background-image:var(--bg-image);display:block;max-height:100%;max-width:100%;background-size:contain;height:0;padding-top:var(--height);width:var(--width);background-repeat:no-repeat}.CodeMirror .cm-spell-error:not(.cm-url):not(.cm-comment):not(.cm-tag):not(.cm-word){background:rgba(255,0,0,.15)}.editor-container{width:960px;height:90vh}.EasyMDEContainer .CodeMirror{border:none !important}';const Bt=class{constructor(n){t(this,n),this.noteCreate=r(this,"noteCreate",7),this.noteLoad=r(this,"noteLoad",7),this.notes=[]}render(){return n("div",{class:"organizer-container"},n("div",{class:"section"},n("div",{class:"mono-h1"},"## Your notes and stuff"),n("input",{class:"search-input",type:"text",placeholder:"Type to search..."}),n("div",null,this.notes.map((t=>n("button",{class:"button -box",onClick:()=>this.noteLoad.emit(t.id)},t.title))))),n("div",{class:"section"},n("div",{class:"mono-h1"},"## Create"),n("button",{class:"button",onClick:()=>this.noteCreate.emit()},"New note")))}};Bt.style=".organizer-container{width:364px;height:100vh;max-height:100vh;overflow-y:auto;display:flex;flex-direction:column;align-items:stretch}.organizer-container>.section{display:flex;flex-direction:column;align-items:stretch;margin:24px}.mono-h1{font-size:24px;font-weight:bold;padding:8px}.search-input{font-size:16px;font-family:inherit;margin:8px;outline-style:none;box-shadow:0 1px #6a6a6a;border-color:transparent}.search-input :focus{box-shadow:0 1px black}.button{font-size:16px;font-family:inherit;margin:8px;padding:4px;background-color:white;border:none;outline:1px solid #a6a6a6;box-shadow:2px 2px 0 1px #a6a6a6}.button.-box{width:142px;height:142px}.button:active{border:1px solid black;box-shadow:none}";export{b as app_root,St as mono_editor,Bt as mono_organizer}