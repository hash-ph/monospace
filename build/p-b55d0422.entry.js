import{r as t,h as s}from"./p-7647a4a8.js";const i=class{constructor(s){t(this,s)}render(){return s("mono-editor",null)}};i.style="header{background:#5851ff;color:white;height:56px;display:flex;align-items:center;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26)}h1{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px}";const o=class{constructor(s){t(this,s),this.tileDimensions=function(t,s=10){const i=document.createElement("div").cloneNode();i.style.position="absolute",i.innerText=Array.from(Array(s)).fill(Array.from(Array(s)).fill("X").join("")).join("\n"),document.body.appendChild(i);const o=i.clientWidth,r=i.clientHeight;return document.body.removeChild(i),{width:o/s,height:r/s}}(),this.col=0,this.row=0}recalculateCursor(t){const s=t.layerY+this.editorEl.scrollTop;this.col=Math.floor((t.layerX+this.editorEl.scrollLeft)/this.tileDimensions.width),this.row=Math.floor(s/this.tileDimensions.height),this.cursorEl.style.width=`${this.tileDimensions.width}px`,this.cursorEl.style.height=`${this.tileDimensions.height}px`,this.cursorEl.style.left=this.editorEl.clientLeft+this.col*this.tileDimensions.width-this.editorEl.scrollLeft+"px",this.cursorEl.style.top=this.editorEl.clientTop+this.row*this.tileDimensions.height-this.editorEl.scrollTop+"px"}onMouseMove(t){this.recalculateCursor(t)}onMouseDown(t){this.recalculateCursor(t);let s=this.editorEl.innerText.split("\n");s.length<this.row&&(s=s.concat(...Array.from(Array(this.row-s.length+1).fill(""))));let i=s[this.row];if(i.length<this.col){const t=Array.from(Array(this.col-i.length)).fill(" ").join("");s[this.row]=i+t}this.editorEl.innerText=s.join("\n")}render(){return s("div",{class:"editor-container"},s("div",{class:"editor",onMouseMove:t=>this.onMouseMove(t),onMouseDown:t=>this.onMouseDown(t),contentEditable:!0,ref:t=>this.editorEl=t}),s("div",{class:"ghost-cursor",ref:t=>this.cursorEl=t}),s("div",null,"Line ",this.row,", Col ",this.col))}};o.style=".editor-container{position:relative;height:calc(100vh - 20px)}.editor{width:100%;height:100%;position:relative;overflow-y:scroll;word-break:break-all;word-wrap:break-word;overflow-wrap:anywhere;white-space:pre;hyphens:auto;cursor:pointer}.ghost-cursor{position:absolute;pointer-events:none;background-color:rgba(0, 0, 0, 0.2)}";export{i as app_root,o as mono_editor}